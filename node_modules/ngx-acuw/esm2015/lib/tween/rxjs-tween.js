import { Observable } from 'rxjs';
export var RxjsTween;
(function (RxjsTween) {
    function createTween(easingFunction, b, c, d, s) {
        return new Observable((observer) => {
            let startTime;
            const sample = (time) => {
                startTime = startTime || time;
                const t = time - startTime;
                if (t < d) {
                    if (Array.isArray(b) && Array.isArray(c)) {
                        const tweenVals = new Array();
                        for (let idx = 0; idx < b.length; idx++) {
                            tweenVals.push(easingFunction(t, b[idx], c[idx], d, s));
                        }
                        observer.next(tweenVals);
                    }
                    else {
                        observer.next(easingFunction(t, b, c, d, s));
                    }
                    // Request the animation frame again
                    requestAnimationFrame(sample);
                }
                else {
                    // End value reached
                    if (Array.isArray(b) && Array.isArray(c)) {
                        const tweenVals = new Array();
                        for (let idx = 0; idx < b.length; idx++) {
                            tweenVals.push(c[idx]);
                        }
                        // Emitt end value of arry
                        observer.next(tweenVals);
                    }
                    else {
                        // Emitt end value
                        observer.next(c);
                    }
                    // Complete the observable
                    observer.complete();
                }
            };
            // Initially request the animation frame
            requestAnimationFrame(sample);
        });
    }
    RxjsTween.createTween = createTween;
    function linear(t, b, pc, d) {
        const c = pc - b;
        return c * t / d + b;
    }
    RxjsTween.linear = linear;
    function easeInOutQuad(t, b, pc, d) {
        const c = pc - b;
        if ((t /= d / 2) < 1) {
            return c / 2 * t * t + b;
        }
        else {
            return -c / 2 * ((--t) * (t - 2) - 1) + b;
        }
    }
    RxjsTween.easeInOutQuad = easeInOutQuad;
})(RxjsTween || (RxjsTween = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicnhqcy10d2Vlbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25neC1hY3V3L3NyYy9saWIvdHdlZW4vcnhqcy10d2Vlbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFZLE1BQU0sTUFBTSxDQUFDO0FBRTVDLE1BQU0sS0FBUSxTQUFTLENBeUV0QjtBQXpFRCxXQUFjLFNBQVM7SUFtQm5CLFNBQWdCLFdBQVcsQ0FBQyxjQUFtRixFQUNuRixDQUFNLEVBQUUsQ0FBTSxFQUFFLENBQVMsRUFBRSxDQUFVO1FBQzdELE9BQU8sSUFBSSxVQUFVLENBQUMsQ0FBQyxRQUFxQyxFQUFFLEVBQUU7WUFDNUQsSUFBSSxTQUFpQixDQUFDO1lBQ3RCLE1BQU0sTUFBTSxHQUFHLENBQUMsSUFBWSxFQUFRLEVBQUU7Z0JBQ2xDLFNBQVMsR0FBRyxTQUFTLElBQUksSUFBSSxDQUFDO2dCQUM5QixNQUFNLENBQUMsR0FBRyxJQUFJLEdBQUcsU0FBUyxDQUFDO2dCQUMzQixJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUU7b0JBQ1AsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7d0JBQ3RDLE1BQU0sU0FBUyxHQUFhLElBQUksS0FBSyxFQUFVLENBQUM7d0JBQ2hELEtBQUssSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxFQUFFOzRCQUNyQyxTQUFTLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQzt5QkFDM0Q7d0JBQ0QsUUFBUSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQztxQkFDNUI7eUJBQUs7d0JBQ0YsUUFBUSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7cUJBQ2hEO29CQUNELG9DQUFvQztvQkFDcEMscUJBQXFCLENBQUMsTUFBTSxDQUFDLENBQUM7aUJBQ2pDO3FCQUFNO29CQUNILG9CQUFvQjtvQkFDcEIsSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUU7d0JBQ3RDLE1BQU0sU0FBUyxHQUFhLElBQUksS0FBSyxFQUFVLENBQUM7d0JBQ2hELEtBQUssSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxFQUFFOzRCQUNyQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO3lCQUMxQjt3QkFDRCwwQkFBMEI7d0JBQzFCLFFBQVEsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUM7cUJBQzVCO3lCQUFJO3dCQUNELGtCQUFrQjt3QkFDbEIsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztxQkFDcEI7b0JBQ0QsMEJBQTBCO29CQUMxQixRQUFRLENBQUMsUUFBUSxFQUFFLENBQUM7aUJBQ3ZCO1lBQ0wsQ0FBQyxDQUFBO1lBQ0Qsd0NBQXdDO1lBQ3hDLHFCQUFxQixDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ2xDLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQztJQXZDZSxxQkFBVyxjQXVDMUIsQ0FBQTtJQUVELFNBQWdCLE1BQU0sQ0FBQyxDQUFTLEVBQUUsQ0FBUyxFQUFFLEVBQVUsRUFBRSxDQUFTO1FBQzlELE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDakIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDekIsQ0FBQztJQUhlLGdCQUFNLFNBR3JCLENBQUE7SUFFRCxTQUFnQixhQUFhLENBQUMsQ0FBUyxFQUFFLENBQVMsRUFBRSxFQUFVLEVBQUUsQ0FBUztRQUNyRSxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ2pCLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtZQUNsQixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDNUI7YUFBTTtZQUNILE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUM3QztJQUNMLENBQUM7SUFQZSx1QkFBYSxnQkFPNUIsQ0FBQTtBQUNMLENBQUMsRUF6RWEsU0FBUyxLQUFULFNBQVMsUUF5RXRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT2JzZXJ2YWJsZSwgT2JzZXJ2ZXIgfSBmcm9tICdyeGpzJztcblxuZXhwb3J0IG1vZHVsZSBSeGpzVHdlZW4ge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JzZXJ2YWJsZSB0aGF0IGVtaXRzIHNhbXBsZXMgZnJvbSBhbiBlYXNpbmcgZnVuY3Rpb24gb24gZXZlcnkgYW5pbWF0aW9uIGZyYW1lXG4gICAgICogZm9yIGEgZHVyYXRpb24gYGRgIG1zLlxuICAgICAqXG4gICAgICogVGhlIGZpcnN0IHZhbHVlIHdpbGwgYmUgZW1pdHRlZCBvbiB0aGUgbmV4dCBhbmltYXRpb24gZnJhbWUsXG4gICAgICogYW5kIGlzIHRoZSB2YWx1ZSBvZiB0aGUgZWFzaW5nIGZ1bmN0aW9uIGF0IGB0ID0gMGAuXG4gICAgICogVGhlIGZpbmFsIHZhbHVlIGlzIGd1YXJhbnRlZWQgdG8gYmUgdGhlIGVhc2luZyBmdW5jdGlvbiBhdCBgdCA9IGRgLlxuICAgICAqIFRoZSBvYnNlcnZhYmxlIGNvbXBsZXRlcyBvbmUgZnJhbWUgYWZ0ZXIgdGhlIGZpbmFsIHZhbHVlIHdhcyBlbWl0dGVkLlxuICAgICAqIEBwYXJhbSBlYXNpbmdGdW5jdGlvbiB0aGUgZWFzaW5nIGZ1Y3Rpb24gdG8gc2FtcGxlXG4gICAgICogQHBhcmFtIGIgYmVnaW5uaW5nIHZhbHVlIGFuZCAybmQgcGFyYW1ldGVyIG9mIHRoZSBlYXNpbmcgZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0gYyBjaGFuZ2UgaW4gdmFsdWUgKG9yIGVuZCB2YWx1ZSkgYW5kIDNyZCBwYXJhbWV0ZXIgb2YgdGhlIGVhc2luZyBmdW5jdGlvblxuICAgICAqIEBwYXJhbSBkIHRvdGFsIGR1cmF0aW9uIG9mIHRoZSB0d2VlbiBpbiBtcyBhbmQgNHRoIHBhcmFtZXRlciBvZiB0aGUgZWFzaW5nIGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHMgNXRoIHBhcmFtZXRlciBvZiB0aGUgZWFzaW5nIGZ1bmN0aW9uIChvcHRpb25hbClcbiAgICAgKi9cbiAgICBleHBvcnQgZnVuY3Rpb24gY3JlYXRlVHdlZW4oZWFzaW5nRnVuY3Rpb246ICh0OiBudW1iZXIsIGI6IG51bWJlciwgcGM6IG51bWJlciwgZDogbnVtYmVyLCBzPzogbnVtYmVyKSA9PiBudW1iZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGI6IG51bWJlcltdLCBjOiBudW1iZXJbXSwgZDogbnVtYmVyLCBzPzogbnVtYmVyKTogT2JzZXJ2YWJsZTxudW1iZXJbXT47XG4gICAgZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVR3ZWVuKGVhc2luZ0Z1bmN0aW9uOiAodDogbnVtYmVyLCBiOiBudW1iZXIsIHBjOiBudW1iZXIsIGQ6IG51bWJlciwgcz86IG51bWJlcikgPT4gbnVtYmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiOiBudW1iZXIsIGM6IG51bWJlciwgZDogbnVtYmVyLCBzPzogbnVtYmVyKTogT2JzZXJ2YWJsZTxudW1iZXI+O1xuICAgIGV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUd2VlbihlYXNpbmdGdW5jdGlvbjogKHQ6IG51bWJlciwgYjogbnVtYmVyLCBwYzogbnVtYmVyLCBkOiBudW1iZXIsIHM/OiBudW1iZXIpID0+IG51bWJlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYjogYW55LCBjOiBhbnksIGQ6IG51bWJlciwgcz86IG51bWJlcik6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZSgob2JzZXJ2ZXI6IE9ic2VydmVyPG51bWJlciB8IG51bWJlcltdPikgPT4ge1xuICAgICAgICAgICAgbGV0IHN0YXJ0VGltZTogbnVtYmVyO1xuICAgICAgICAgICAgY29uc3Qgc2FtcGxlID0gKHRpbWU6IG51bWJlcik6IHZvaWQgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXJ0VGltZSA9IHN0YXJ0VGltZSB8fCB0aW1lO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSB0aW1lIC0gc3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgIGlmICh0IDwgZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShiKSAmJiBBcnJheS5pc0FycmF5KGMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0d2VlblZhbHM6IG51bWJlcltdID0gbmV3IEFycmF5PG51bWJlcj4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGIubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuVmFscy5wdXNoKGVhc2luZ0Z1bmN0aW9uKHQsIGJbaWR4XSwgY1tpZHhdLCBkLCBzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHR3ZWVuVmFscyk7XG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZWFzaW5nRnVuY3Rpb24odCwgYiwgYywgZCwgcykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgdGhlIGFuaW1hdGlvbiBmcmFtZSBhZ2FpblxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2FtcGxlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBFbmQgdmFsdWUgcmVhY2hlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShiKSAmJiBBcnJheS5pc0FycmF5KGMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0d2VlblZhbHM6IG51bWJlcltdID0gbmV3IEFycmF5PG51bWJlcj4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGIubGVuZ3RoOyBpZHgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR3ZWVuVmFscy5wdXNoKGNbaWR4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbWl0dCBlbmQgdmFsdWUgb2YgYXJyeVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh0d2VlblZhbHMpO1xuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVtaXR0IGVuZCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChjKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBDb21wbGV0ZSB0aGUgb2JzZXJ2YWJsZVxuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEluaXRpYWxseSByZXF1ZXN0IHRoZSBhbmltYXRpb24gZnJhbWVcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShzYW1wbGUpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gbGluZWFyKHQ6IG51bWJlciwgYjogbnVtYmVyLCBwYzogbnVtYmVyLCBkOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBjID0gcGMgLSBiO1xuICAgICAgICByZXR1cm4gYyAqIHQgLyBkICsgYjtcbiAgICB9XG5cbiAgICBleHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0UXVhZCh0OiBudW1iZXIsIGI6IG51bWJlciwgcGM6IG51bWJlciwgZDogbnVtYmVyKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgYyA9IHBjIC0gYjtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xuICAgICAgICB9XG4gICAgfVxufVxuIl19