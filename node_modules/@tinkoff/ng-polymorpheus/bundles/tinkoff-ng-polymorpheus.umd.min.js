!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("@tinkoff/ng-polymorpheus",["exports","@angular/core","@angular/common"],e):e(((t=t||self).tinkoff=t.tinkoff||{},t.tinkoff["ng-polymorpheus"]={}),t.ng.core,t.ng.common)}(this,(function(t,e,n){"use strict";var o=new e.InjectionToken("Context from polymorpheus-outlet"),r=function(){function t(t,e){void 0===e&&(e=null),this.component=t,this.injector=e}return t.prototype.createInjector=function(t,n){return e.Injector.create({parent:this.injector||t,providers:[{provide:o,useValue:n}]})},t}();var c=function(){function t(t,e){this.template=t,this.changeDetectorRef=e,this.polymorpheus=""}return t.prototype.check=function(){this.changeDetectorRef.markForCheck()},t.ngTemplateContextGuard=function(t,e){return!0},t.decorators=[{type:e.Directive,args:[{selector:"ng-template[polymorpheus]",exportAs:"polymorpheus",inputs:["polymorpheus"]}]}],t.ctorParameters=function(){return[{type:e.TemplateRef,decorators:[{type:e.Inject,args:[e.TemplateRef]},{type:e.Self}]},{type:e.ChangeDetectorRef,decorators:[{type:e.Inject,args:[e.ChangeDetectorRef]}]}]},t}();var i=function(){function t(){this.template=null,this.content=null}return Object.defineProperty(t.prototype,"primitive",{get:function(){return!this.content||this.isAdvanced(this.content)?"":"function"==typeof this.content?this.content(this.context):this.content},enumerable:!0,configurable:!0}),t.prototype.isAdvanced=function(t){return function(t){return p(t)||t instanceof e.TemplateRef}(t)||a(t)},t.prototype.getTemplate=function(t,e){return a(t)?e:p(t)?t.template:t},t.prototype.guard=function(t){return a(t)},t.prototype.ngOnChanges=function(t){var n=this,o=t.content,r=t.context;r&&void 0===this.proxy&&(this.proxy="object"!=typeof this.context||Array.isArray(this.context)?this.context:new Proxy(this.context,{get:function(t,e){return n.context[e]}}));var c=!o&&r&&this.outlet&&this.outlet._componentRef;c&&c.injector.get(e.ChangeDetectorRef).markForCheck()},t.prototype.ngDoCheck=function(){p(this.content)&&this.content.check()},t.decorators=[{type:e.Component,args:[{selector:"[polymorpheus-outlet]",template:'<ng-container\n    *ngIf="isAdvanced(content)"\n    [ngTemplateOutlet]="getTemplate(content, component)"\n    [ngTemplateOutletContext]="context"\n>\n    <ng-template #component>\n        <ng-container\n            *ngIf="guard(content)"\n            [ngComponentOutlet]="content.component"\n            [ngComponentOutletInjector]="content | injector : proxy"\n        ></ng-container>\n    </ng-template>\n</ng-container>\n<ng-container *ngIf="primitive">\n    <ng-container *ngIf="!template; else child">{{primitive}}</ng-container>\n    <ng-template #child>\n        <ng-container\n            [ngTemplateOutlet]="template"\n            [ngTemplateOutletContext]="{$implicit: primitive}"\n        ></ng-container>\n    </ng-template>\n</ng-container>\n',changeDetection:e.ChangeDetectionStrategy.OnPush}]}],t.propDecorators={template:[{type:e.ContentChild,args:[e.TemplateRef]}],outlet:[{type:e.ViewChild,args:[n.NgComponentOutlet]}],content:[{type:e.Input}],context:[{type:e.Input}]},t}();function p(t){return t instanceof c}function a(t){return t instanceof r}var u=function(){function t(t){this.injector=t}return t.prototype.transform=function(t,e){return t.createInjector(this.injector,e)},t.decorators=[{type:e.Pipe,args:[{name:"injector"}]}],t.ctorParameters=function(){return[{type:e.Injector,decorators:[{type:e.Inject,args:[e.Injector]}]}]},t}();var s=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[n.CommonModule],declarations:[i,c,u],exports:[i,c]}]}],t}();t.POLYMORPHEUS_CONTEXT=o,t.PolymorpheusComponent=r,t.PolymorpheusModule=s,t.PolymorpheusOutletComponent=i,t.PolymorpheusTemplate=c,t.Éµa=u,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=tinkoff-ng-polymorpheus.umd.min.js.map