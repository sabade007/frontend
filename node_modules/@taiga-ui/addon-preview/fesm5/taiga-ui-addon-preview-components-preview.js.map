{"version":3,"file":"taiga-ui-addon-preview-components-preview.js","sources":["ng://@taiga-ui/addon-preview/components/preview/pagination/preview-pagination.component.ts","ng://@taiga-ui/addon-preview/components/preview/preview.component.ts","ng://@taiga-ui/addon-preview/components/preview/preview-action/preview-action.directive.ts","ng://@taiga-ui/addon-preview/components/preview/preview-action/preview-action.module.ts","ng://@taiga-ui/addon-preview/components/preview/title/preview-title.component.ts","ng://@taiga-ui/addon-preview/components/preview/zoom/preview-zoom.component.ts","ng://@taiga-ui/addon-preview/components/preview/preview.module.ts","ng://@taiga-ui/addon-preview/components/preview/taiga-ui-addon-preview-components-preview.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    HostListener,\n    Inject,\n    Input,\n    Output,\n} from '@angular/core';\nimport {clamp, tuiDefaultProp} from '@taiga-ui/cdk';\nimport {LanguageKit} from '@taiga-ui/i18n';\nimport {TUI_PAGINATION_TEXTS} from '@taiga-ui/kit';\nimport {Observable} from 'rxjs';\n\n@Component({\n    selector: 'tui-preview-pagination',\n    templateUrl: './preview-pagination.template.html',\n    styleUrls: ['./preview-pagination.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPreviewPaginationComponent {\n    @Input()\n    @tuiDefaultProp()\n    length = 1;\n\n    @Input()\n    @tuiDefaultProp()\n    index = 0;\n\n    @Output()\n    readonly indexChange = new EventEmitter<number>();\n\n    constructor(\n        @Inject(TUI_PAGINATION_TEXTS)\n        readonly texts$: Observable<LanguageKit['pagination']>,\n    ) {}\n\n    get leftButtonDisabled(): boolean {\n        return this.index === 0;\n    }\n\n    get rightButtonDisabled(): boolean {\n        return this.index === this.length - 1;\n    }\n\n    @HostListener('document:keydown.arrowRight.prevent', ['1'])\n    @HostListener('document:keydown.arrowLeft.prevent', ['-1'])\n    onArrowClick(step: number): void {\n        this.updateIndex(clamp(this.index + step, 0, this.length - 1));\n    }\n\n    private updateIndex(index: number): void {\n        if (this.index === index) {\n            return;\n        }\n\n        this.index = index;\n        this.indexChange.emit(index);\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    Inject,\n    Input,\n} from '@angular/core';\nimport {TUI_PREVIEW_TEXTS} from '@taiga-ui/addon-preview/tokens';\nimport {\n    clamp,\n    dragAndDropFrom,\n    px,\n    round,\n    tuiDefaultProp,\n    TuiDestroyService,\n    TuiDragStage,\n    TuiZoom,\n    typedFromEvent,\n} from '@taiga-ui/cdk';\nimport {tuiSlideInTop} from '@taiga-ui/core';\nimport {LanguagePreview} from '@taiga-ui/i18n';\nimport {BehaviorSubject, combineLatest, merge, Observable} from 'rxjs';\nimport {map, mapTo, startWith} from 'rxjs/operators';\n\nconst INITIAL_SCALE_COEF = 0.8;\nconst EMPTY_COORDINATES: [number, number] = [0, 0];\nconst ROTATION_ANGLE = 90;\n\n@Component({\n    selector: 'tui-preview',\n    templateUrl: './preview.template.html',\n    styleUrls: ['./preview.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    animations: [tuiSlideInTop],\n    providers: [TuiDestroyService],\n})\nexport class TuiPreviewComponent {\n    @Input()\n    @tuiDefaultProp()\n    zoomable = true;\n\n    @Input()\n    @tuiDefaultProp()\n    rotatable = false;\n\n    minZoom = 1;\n\n    width = 0;\n    height = 0;\n\n    readonly zoom$ = new BehaviorSubject<number>(this.minZoom);\n    readonly rotation$ = new BehaviorSubject<number>(0);\n    readonly coordinates$ = new BehaviorSubject<readonly [number, number]>(\n        EMPTY_COORDINATES,\n    );\n\n    readonly transitioned$ = merge(\n        dragAndDropFrom(this.elementRef.nativeElement).pipe(\n            map(({stage}) => stage !== TuiDragStage.Continues),\n        ),\n        typedFromEvent(this.elementRef.nativeElement, 'touchmove', {passive: true}).pipe(\n            mapTo(false),\n        ),\n        typedFromEvent(this.elementRef.nativeElement, 'wheel', {passive: true}).pipe(\n            mapTo(false),\n        ),\n    );\n\n    readonly cursor$ = dragAndDropFrom(this.elementRef.nativeElement).pipe(\n        map(({stage}) => (stage === TuiDragStage.Continues ? 'grabbing' : 'initial')),\n        startWith('initial'),\n    );\n\n    readonly wrapperTransform$ = combineLatest([\n        this.coordinates$.pipe(map(([x, y]) => `${px(x)}, ${px(y)}`)),\n        this.zoom$,\n        this.rotation$,\n    ]).pipe(\n        map(\n            ([translate, zoom, rotation]) =>\n                `translate(${translate}) scale(${zoom}) rotate(${rotation}deg)`,\n        ),\n    );\n\n    constructor(\n        @Inject(ElementRef) readonly elementRef: ElementRef<HTMLElement>,\n        @Inject(TuiDestroyService) readonly destroy$: Observable<void>,\n        @Inject(TUI_PREVIEW_TEXTS)\n        readonly texts$: Observable<LanguagePreview['previewTexts']>,\n    ) {}\n\n    rotate(): void {\n        this.rotation$.next(this.rotation$.value - ROTATION_ANGLE);\n    }\n\n    onPan(delta: readonly [number, number]): void {\n        this.coordinates$.next(\n            this.getGuardedCoordinates(\n                this.coordinates$.value[0] + delta[0],\n                this.coordinates$.value[1] + delta[1],\n            ),\n        );\n    }\n\n    onMutation(contentWrapper: HTMLElement): void {\n        const {clientWidth, clientHeight} = contentWrapper;\n\n        this.refresh(clientWidth, clientHeight);\n    }\n\n    onZoom({clientX, clientY, delta}: TuiZoom): void {\n        if (this.zoomable) {\n            this.processZoom(clientX, clientY, delta);\n        }\n    }\n\n    onResize(contentResizeEntries: readonly ResizeObserverEntry[]): void {\n        if (contentResizeEntries.length === 0) {\n            return;\n        }\n\n        const {width, height} = contentResizeEntries[0].contentRect;\n\n        this.refresh(width, height);\n    }\n\n    reset(): void {\n        this.zoom$.next(this.minZoom);\n        this.coordinates$.next(EMPTY_COORDINATES);\n    }\n\n    private get offsets(): {offsetX: number; offsetY: number} {\n        const offsetX = ((this.zoom$.value - this.minZoom) * this.width) / 2;\n        const offsetY = ((this.zoom$.value - this.minZoom) * this.height) / 2;\n\n        return {offsetX, offsetY};\n    }\n\n    private calculateMinZoom(\n        contentHeight: number,\n        contentWidth: number,\n        boxHeight: number,\n        boxWidth: number,\n    ): number {\n        const bigSize =\n            contentHeight > boxHeight * INITIAL_SCALE_COEF ||\n            contentWidth > boxWidth * INITIAL_SCALE_COEF;\n        const {clientHeight, clientWidth} = this.elementRef.nativeElement;\n\n        return bigSize\n            ? round(\n                  Math.min(\n                      (clientHeight * INITIAL_SCALE_COEF) / contentHeight,\n                      (clientWidth * INITIAL_SCALE_COEF) / contentWidth,\n                  ),\n                  2,\n              )\n            : 1;\n    }\n\n    private refresh(width: number, height: number): void {\n        this.width = width;\n        this.height = height;\n        this.minZoom = this.calculateMinZoom(\n            height,\n            width,\n            this.elementRef.nativeElement.clientHeight,\n            this.elementRef.nativeElement.clientWidth,\n        );\n        this.zoom$.next(this.minZoom);\n        this.coordinates$.next(EMPTY_COORDINATES);\n        this.rotation$.next(0);\n    }\n\n    private processZoom(clientX: number, clientY: number, delta: number): void {\n        const oldScale = this.zoom$.value;\n        const newScale = clamp(oldScale + delta, this.minZoom, 2);\n\n        const center = this.getScaleCenter(\n            {clientX, clientY},\n            this.coordinates$.value,\n            this.zoom$.value,\n        );\n\n        const moveX = center[0] * oldScale - center[0] * newScale;\n        const moveY = center[1] * oldScale - center[1] * newScale;\n\n        this.zoom$.next(newScale);\n        this.coordinates$.next(\n            this.getGuardedCoordinates(\n                this.coordinates$.value[0] + moveX,\n                this.coordinates$.value[1] + moveY,\n            ),\n        );\n    }\n\n    private getGuardedCoordinates(x: number, y: number): readonly [number, number] {\n        const {offsetX, offsetY} = this.offsets;\n\n        return [clamp(x, -offsetX, offsetX), clamp(y, -offsetY, offsetY)];\n    }\n\n    private getScaleCenter(\n        {clientX, clientY}: {clientX: number; clientY: number},\n        [x, y]: readonly [number, number],\n        scale: number,\n    ): [number, number] {\n        return [\n            (clientX - x - this.elementRef.nativeElement.offsetWidth / 2) / scale,\n            (clientY - y - this.elementRef.nativeElement.offsetHeight / 2) / scale,\n        ];\n    }\n}\n","import {Directive} from '@angular/core';\nimport {TUI_BUTTON_OPTIONS, TuiButtonOptions} from '@taiga-ui/core';\n\n// TODO: 3.0 remove in ivy compilation\nexport const PREVIEW_ACTION_OPTIONS: TuiButtonOptions = {\n    appearance: 'preview-action',\n    shape: 'rounded',\n    size: 's',\n};\n\n@Directive({\n    selector: '[tuiPreviewAction]',\n    providers: [\n        {\n            provide: TUI_BUTTON_OPTIONS,\n            useValue: PREVIEW_ACTION_OPTIONS,\n        },\n    ],\n})\nexport class TuiPreviewActionDirective {}\n","import {NgModule} from '@angular/core';\n\nimport {TuiPreviewActionDirective} from './preview-action.directive';\n\n@NgModule({\n    declarations: [TuiPreviewActionDirective],\n    exports: [TuiPreviewActionDirective],\n})\nexport class TuiPreviewActionModule {}\n","import {ChangeDetectionStrategy, Component} from '@angular/core';\n\n@Component({\n    selector: 'tui-preview-title',\n    template: `\n        <ng-content></ng-content>\n    `,\n    styleUrls: ['./preview-title.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPreviewTitleComponent {}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Inject,\n    Input,\n    Output,\n} from '@angular/core';\nimport {TUI_PREVIEW_ZOOM_TEXTS} from '@taiga-ui/addon-preview/tokens';\nimport {clamp, tuiDefaultProp} from '@taiga-ui/cdk';\nimport {LanguagePreview} from '@taiga-ui/i18n';\nimport {merge, Observable, of, timer} from 'rxjs';\nimport {mapTo, startWith, switchMap} from 'rxjs/operators';\n\nconst STEP = 0.5;\n\n@Component({\n    selector: 'tui-preview-zoom',\n    templateUrl: './preview-zoom.template.html',\n    styleUrls: ['./preview-zoom.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPreviewZoomComponent {\n    @Input()\n    @tuiDefaultProp()\n    min = 0.5;\n\n    @Input()\n    @tuiDefaultProp()\n    max = 2;\n\n    @Input()\n    @tuiDefaultProp()\n    value = 1;\n\n    @Output()\n    readonly valueChange = new EventEmitter<number>();\n\n    @Output()\n    readonly reset = new EventEmitter<void>();\n\n    readonly hintShow$ = this.valueChange.pipe(\n        switchMap(() => merge(of(true), timer(1000).pipe(mapTo(false)))),\n        startWith(false),\n    );\n\n    constructor(\n        @Inject(TUI_PREVIEW_ZOOM_TEXTS)\n        readonly zoomTexts$: Observable<LanguagePreview['zoomTexts']>,\n    ) {}\n\n    get leftButtonDisabled(): boolean {\n        return this.value === this.min;\n    }\n\n    get rightButtonDisabled(): boolean {\n        return this.value === this.max;\n    }\n\n    get collapseVisible(): boolean {\n        return this.value > this.min;\n    }\n\n    onModelChange(value: number): void {\n        const clamped = clamp(value, this.min, this.max);\n\n        if (clamped === this.value) {\n            return;\n        }\n\n        this.value = clamped;\n        this.valueChange.emit(clamped);\n    }\n\n    onReset(): void {\n        this.reset.emit();\n    }\n\n    onMinus(): void {\n        this.onModelChange(this.value - STEP);\n    }\n\n    onPlus(): void {\n        this.onModelChange(this.value < 1 ? 1 : this.value + STEP);\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {MutationObserverModule} from '@ng-web-apis/mutation-observer';\nimport {PREVIEW_DIALOG_PROVIDER} from '@taiga-ui/addon-preview/components/preview-dialog';\nimport {TuiDragModule, TuiPanModule, TuiResizeModule, TuiZoomModule} from '@taiga-ui/cdk';\nimport {\n    TuiButtonModule,\n    TuiHintModule,\n    TuiLoaderModule,\n    TuiManualHintModule,\n    TuiSvgModule,\n} from '@taiga-ui/core';\nimport {TuiSliderModule} from '@taiga-ui/kit';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiPreviewPaginationComponent} from './pagination/preview-pagination.component';\nimport {TuiPreviewComponent} from './preview.component';\nimport {TuiPreviewActionDirective} from './preview-action/preview-action.directive';\nimport {TuiPreviewActionModule} from './preview-action/preview-action.module';\nimport {TuiPreviewTitleComponent} from './title/preview-title.component';\nimport {TuiPreviewZoomComponent} from './zoom/preview-zoom.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        MutationObserverModule,\n        TuiButtonModule,\n        FormsModule,\n        TuiSliderModule,\n        TuiHintModule,\n        TuiDragModule,\n        TuiManualHintModule,\n        TuiResizeModule,\n        TuiSvgModule,\n        TuiLoaderModule,\n        TuiPanModule,\n        TuiZoomModule,\n        TuiPreviewActionModule,\n    ],\n    declarations: [\n        TuiPreviewComponent,\n        TuiPreviewTitleComponent,\n        TuiPreviewPaginationComponent,\n        TuiPreviewZoomComponent,\n    ],\n    exports: [\n        TuiPreviewComponent,\n        TuiPreviewActionDirective,\n        TuiPreviewTitleComponent,\n        TuiPreviewPaginationComponent,\n        TuiPreviewZoomComponent,\n    ],\n    providers: [PREVIEW_DIALOG_PROVIDER],\n})\nexport class TuiPreviewModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}