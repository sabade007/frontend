{"version":3,"file":"taiga-ui-addon-preview-components-preview.js","sources":["ng://@taiga-ui/addon-preview/components/preview/pagination/preview-pagination.component.ts","ng://@taiga-ui/addon-preview/components/preview/preview.component.ts","ng://@taiga-ui/addon-preview/components/preview/preview-action/preview-action.directive.ts","ng://@taiga-ui/addon-preview/components/preview/preview-action/preview-action.module.ts","ng://@taiga-ui/addon-preview/components/preview/title/preview-title.component.ts","ng://@taiga-ui/addon-preview/components/preview/zoom/preview-zoom.component.ts","ng://@taiga-ui/addon-preview/components/preview/preview.module.ts","ng://@taiga-ui/addon-preview/components/preview/taiga-ui-addon-preview-components-preview.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    HostListener,\n    Inject,\n    Input,\n    Output,\n} from '@angular/core';\nimport {clamp, tuiDefaultProp} from '@taiga-ui/cdk';\nimport {LanguageKit} from '@taiga-ui/i18n';\nimport {TUI_PAGINATION_TEXTS} from '@taiga-ui/kit';\nimport {Observable} from 'rxjs';\n\n@Component({\n    selector: 'tui-preview-pagination',\n    templateUrl: './preview-pagination.template.html',\n    styleUrls: ['./preview-pagination.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPreviewPaginationComponent {\n    @Input()\n    @tuiDefaultProp()\n    length = 1;\n\n    @Input()\n    @tuiDefaultProp()\n    index = 0;\n\n    @Output()\n    readonly indexChange = new EventEmitter<number>();\n\n    constructor(\n        @Inject(TUI_PAGINATION_TEXTS)\n        readonly texts$: Observable<LanguageKit['pagination']>,\n    ) {}\n\n    get leftButtonDisabled(): boolean {\n        return this.index === 0;\n    }\n\n    get rightButtonDisabled(): boolean {\n        return this.index === this.length - 1;\n    }\n\n    @HostListener('document:keydown.arrowRight.prevent', ['1'])\n    @HostListener('document:keydown.arrowLeft.prevent', ['-1'])\n    onArrowClick(step: number): void {\n        this.updateIndex(clamp(this.index + step, 0, this.length - 1));\n    }\n\n    private updateIndex(index: number): void {\n        if (this.index === index) {\n            return;\n        }\n\n        this.index = index;\n        this.indexChange.emit(index);\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    Inject,\n    Input,\n} from '@angular/core';\nimport {TUI_PREVIEW_TEXTS} from '@taiga-ui/addon-preview/tokens';\nimport {\n    clamp,\n    dragAndDropFrom,\n    px,\n    round,\n    tuiDefaultProp,\n    TuiDestroyService,\n    TuiDragStage,\n    TuiZoom,\n    typedFromEvent,\n} from '@taiga-ui/cdk';\nimport {tuiSlideInTop} from '@taiga-ui/core';\nimport {LanguagePreview} from '@taiga-ui/i18n';\nimport {BehaviorSubject, combineLatest, merge, Observable} from 'rxjs';\nimport {map, mapTo, startWith} from 'rxjs/operators';\n\nconst INITIAL_SCALE_COEF = 0.8;\nconst EMPTY_COORDINATES: [number, number] = [0, 0];\nconst ROTATION_ANGLE = 90;\n\n@Component({\n    selector: 'tui-preview',\n    templateUrl: './preview.template.html',\n    styleUrls: ['./preview.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    animations: [tuiSlideInTop],\n    providers: [TuiDestroyService],\n})\nexport class TuiPreviewComponent {\n    @Input()\n    @tuiDefaultProp()\n    zoomable = true;\n\n    @Input()\n    @tuiDefaultProp()\n    rotatable = false;\n\n    minZoom = 1;\n\n    width = 0;\n    height = 0;\n\n    readonly zoom$ = new BehaviorSubject<number>(this.minZoom);\n    readonly rotation$ = new BehaviorSubject<number>(0);\n    readonly coordinates$ = new BehaviorSubject<readonly [number, number]>(\n        EMPTY_COORDINATES,\n    );\n\n    readonly transitioned$ = merge(\n        dragAndDropFrom(this.elementRef.nativeElement).pipe(\n            map(({stage}) => stage !== TuiDragStage.Continues),\n        ),\n        typedFromEvent(this.elementRef.nativeElement, 'touchmove', {passive: true}).pipe(\n            mapTo(false),\n        ),\n        typedFromEvent(this.elementRef.nativeElement, 'wheel', {passive: true}).pipe(\n            mapTo(false),\n        ),\n    );\n\n    readonly cursor$ = dragAndDropFrom(this.elementRef.nativeElement).pipe(\n        map(({stage}) => (stage === TuiDragStage.Continues ? 'grabbing' : 'initial')),\n        startWith('initial'),\n    );\n\n    readonly wrapperTransform$ = combineLatest([\n        this.coordinates$.pipe(map(([x, y]) => `${px(x)}, ${px(y)}`)),\n        this.zoom$,\n        this.rotation$,\n    ]).pipe(\n        map(\n            ([translate, zoom, rotation]) =>\n                `translate(${translate}) scale(${zoom}) rotate(${rotation}deg)`,\n        ),\n    );\n\n    constructor(\n        @Inject(ElementRef) readonly elementRef: ElementRef<HTMLElement>,\n        @Inject(TuiDestroyService) readonly destroy$: Observable<void>,\n        @Inject(TUI_PREVIEW_TEXTS)\n        readonly texts$: Observable<LanguagePreview['previewTexts']>,\n    ) {}\n\n    rotate(): void {\n        this.rotation$.next(this.rotation$.value - ROTATION_ANGLE);\n    }\n\n    onPan(delta: readonly [number, number]): void {\n        this.coordinates$.next(\n            this.getGuardedCoordinates(\n                this.coordinates$.value[0] + delta[0],\n                this.coordinates$.value[1] + delta[1],\n            ),\n        );\n    }\n\n    onMutation(contentWrapper: HTMLElement): void {\n        const {clientWidth, clientHeight} = contentWrapper;\n\n        this.refresh(clientWidth, clientHeight);\n    }\n\n    onZoom({clientX, clientY, delta}: TuiZoom): void {\n        if (this.zoomable) {\n            this.processZoom(clientX, clientY, delta);\n        }\n    }\n\n    onResize(contentResizeEntries: readonly ResizeObserverEntry[]): void {\n        if (contentResizeEntries.length === 0) {\n            return;\n        }\n\n        const {width, height} = contentResizeEntries[0].contentRect;\n\n        this.refresh(width, height);\n    }\n\n    reset(): void {\n        this.zoom$.next(this.minZoom);\n        this.coordinates$.next(EMPTY_COORDINATES);\n    }\n\n    private get offsets(): {offsetX: number; offsetY: number} {\n        const offsetX = ((this.zoom$.value - this.minZoom) * this.width) / 2;\n        const offsetY = ((this.zoom$.value - this.minZoom) * this.height) / 2;\n\n        return {offsetX, offsetY};\n    }\n\n    private calculateMinZoom(\n        contentHeight: number,\n        contentWidth: number,\n        boxHeight: number,\n        boxWidth: number,\n    ): number {\n        const bigSize =\n            contentHeight > boxHeight * INITIAL_SCALE_COEF ||\n            contentWidth > boxWidth * INITIAL_SCALE_COEF;\n        const {clientHeight, clientWidth} = this.elementRef.nativeElement;\n\n        return bigSize\n            ? round(\n                  Math.min(\n                      (clientHeight * INITIAL_SCALE_COEF) / contentHeight,\n                      (clientWidth * INITIAL_SCALE_COEF) / contentWidth,\n                  ),\n                  2,\n              )\n            : 1;\n    }\n\n    private refresh(width: number, height: number): void {\n        this.width = width;\n        this.height = height;\n        this.minZoom = this.calculateMinZoom(\n            height,\n            width,\n            this.elementRef.nativeElement.clientHeight,\n            this.elementRef.nativeElement.clientWidth,\n        );\n        this.zoom$.next(this.minZoom);\n        this.coordinates$.next(EMPTY_COORDINATES);\n        this.rotation$.next(0);\n    }\n\n    private processZoom(clientX: number, clientY: number, delta: number): void {\n        const oldScale = this.zoom$.value;\n        const newScale = clamp(oldScale + delta, this.minZoom, 2);\n\n        const center = this.getScaleCenter(\n            {clientX, clientY},\n            this.coordinates$.value,\n            this.zoom$.value,\n        );\n\n        const moveX = center[0] * oldScale - center[0] * newScale;\n        const moveY = center[1] * oldScale - center[1] * newScale;\n\n        this.zoom$.next(newScale);\n        this.coordinates$.next(\n            this.getGuardedCoordinates(\n                this.coordinates$.value[0] + moveX,\n                this.coordinates$.value[1] + moveY,\n            ),\n        );\n    }\n\n    private getGuardedCoordinates(x: number, y: number): readonly [number, number] {\n        const {offsetX, offsetY} = this.offsets;\n\n        return [clamp(x, -offsetX, offsetX), clamp(y, -offsetY, offsetY)];\n    }\n\n    private getScaleCenter(\n        {clientX, clientY}: {clientX: number; clientY: number},\n        [x, y]: readonly [number, number],\n        scale: number,\n    ): [number, number] {\n        return [\n            (clientX - x - this.elementRef.nativeElement.offsetWidth / 2) / scale,\n            (clientY - y - this.elementRef.nativeElement.offsetHeight / 2) / scale,\n        ];\n    }\n}\n","import {Directive} from '@angular/core';\nimport {TUI_BUTTON_OPTIONS, TuiButtonOptions} from '@taiga-ui/core';\n\n// TODO: 3.0 remove in ivy compilation\nexport const PREVIEW_ACTION_OPTIONS: TuiButtonOptions = {\n    appearance: 'preview-action',\n    shape: 'rounded',\n    size: 's',\n};\n\n@Directive({\n    selector: '[tuiPreviewAction]',\n    providers: [\n        {\n            provide: TUI_BUTTON_OPTIONS,\n            useValue: PREVIEW_ACTION_OPTIONS,\n        },\n    ],\n})\nexport class TuiPreviewActionDirective {}\n","import {NgModule} from '@angular/core';\n\nimport {TuiPreviewActionDirective} from './preview-action.directive';\n\n@NgModule({\n    declarations: [TuiPreviewActionDirective],\n    exports: [TuiPreviewActionDirective],\n})\nexport class TuiPreviewActionModule {}\n","import {ChangeDetectionStrategy, Component} from '@angular/core';\n\n@Component({\n    selector: 'tui-preview-title',\n    template: `\n        <ng-content></ng-content>\n    `,\n    styleUrls: ['./preview-title.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPreviewTitleComponent {}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Inject,\n    Input,\n    Output,\n} from '@angular/core';\nimport {TUI_PREVIEW_ZOOM_TEXTS} from '@taiga-ui/addon-preview/tokens';\nimport {clamp, tuiDefaultProp} from '@taiga-ui/cdk';\nimport {LanguagePreview} from '@taiga-ui/i18n';\nimport {merge, Observable, of, timer} from 'rxjs';\nimport {mapTo, startWith, switchMap} from 'rxjs/operators';\n\nconst STEP = 0.5;\n\n@Component({\n    selector: 'tui-preview-zoom',\n    templateUrl: './preview-zoom.template.html',\n    styleUrls: ['./preview-zoom.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPreviewZoomComponent {\n    @Input()\n    @tuiDefaultProp()\n    min = 0.5;\n\n    @Input()\n    @tuiDefaultProp()\n    max = 2;\n\n    @Input()\n    @tuiDefaultProp()\n    value = 1;\n\n    @Output()\n    readonly valueChange = new EventEmitter<number>();\n\n    @Output()\n    readonly reset = new EventEmitter<void>();\n\n    readonly hintShow$ = this.valueChange.pipe(\n        switchMap(() => merge(of(true), timer(1000).pipe(mapTo(false)))),\n        startWith(false),\n    );\n\n    constructor(\n        @Inject(TUI_PREVIEW_ZOOM_TEXTS)\n        readonly zoomTexts$: Observable<LanguagePreview['zoomTexts']>,\n    ) {}\n\n    get leftButtonDisabled(): boolean {\n        return this.value === this.min;\n    }\n\n    get rightButtonDisabled(): boolean {\n        return this.value === this.max;\n    }\n\n    get collapseVisible(): boolean {\n        return this.value > this.min;\n    }\n\n    onModelChange(value: number): void {\n        const clamped = clamp(value, this.min, this.max);\n\n        if (clamped === this.value) {\n            return;\n        }\n\n        this.value = clamped;\n        this.valueChange.emit(clamped);\n    }\n\n    onReset(): void {\n        this.reset.emit();\n    }\n\n    onMinus(): void {\n        this.onModelChange(this.value - STEP);\n    }\n\n    onPlus(): void {\n        this.onModelChange(this.value < 1 ? 1 : this.value + STEP);\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {MutationObserverModule} from '@ng-web-apis/mutation-observer';\nimport {PREVIEW_DIALOG_PROVIDER} from '@taiga-ui/addon-preview/components/preview-dialog';\nimport {TuiDragModule, TuiPanModule, TuiResizeModule, TuiZoomModule} from '@taiga-ui/cdk';\nimport {\n    TuiButtonModule,\n    TuiHintModule,\n    TuiLoaderModule,\n    TuiManualHintModule,\n    TuiSvgModule,\n} from '@taiga-ui/core';\nimport {TuiSliderModule} from '@taiga-ui/kit';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiPreviewPaginationComponent} from './pagination/preview-pagination.component';\nimport {TuiPreviewComponent} from './preview.component';\nimport {TuiPreviewActionDirective} from './preview-action/preview-action.directive';\nimport {TuiPreviewActionModule} from './preview-action/preview-action.module';\nimport {TuiPreviewTitleComponent} from './title/preview-title.component';\nimport {TuiPreviewZoomComponent} from './zoom/preview-zoom.component';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        MutationObserverModule,\n        TuiButtonModule,\n        FormsModule,\n        TuiSliderModule,\n        TuiHintModule,\n        TuiDragModule,\n        TuiManualHintModule,\n        TuiResizeModule,\n        TuiSvgModule,\n        TuiLoaderModule,\n        TuiPanModule,\n        TuiZoomModule,\n        TuiPreviewActionModule,\n    ],\n    declarations: [\n        TuiPreviewComponent,\n        TuiPreviewTitleComponent,\n        TuiPreviewPaginationComponent,\n        TuiPreviewZoomComponent,\n    ],\n    exports: [\n        TuiPreviewComponent,\n        TuiPreviewActionDirective,\n        TuiPreviewTitleComponent,\n        TuiPreviewPaginationComponent,\n        TuiPreviewZoomComponent,\n    ],\n    providers: [PREVIEW_DIALOG_PROVIDER],\n})\nexport class TuiPreviewModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}