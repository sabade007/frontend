{"version":3,"file":"taiga-ui-core-components-data-list.js","sources":["ng://@taiga-ui/core/components/data-list/option/option.component.ts","ng://@taiga-ui/core/components/data-list/data-list.component.ts","ng://@taiga-ui/core/components/data-list/data-list.directive.ts","ng://@taiga-ui/core/components/data-list/data-list-dropdown-manager.directive.ts","ng://@taiga-ui/core/components/data-list/opt-group.directive.ts","ng://@taiga-ui/core/components/data-list/data-list.module.ts","ng://@taiga-ui/core/components/data-list/taiga-ui-core-components-data-list.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    forwardRef,\n    HostBinding,\n    HostListener,\n    Inject,\n    Input,\n    OnDestroy,\n    Optional,\n    Self,\n    TemplateRef,\n} from '@angular/core';\nimport {\n    isNativeFocused,\n    setNativeFocused,\n    TuiContextWithImplicit,\n    tuiDefaultProp,\n    TuiEventWith,\n} from '@taiga-ui/cdk';\nimport {TuiDropdownDirective} from '@taiga-ui/core/directives/dropdown';\nimport {TuiDataListHost} from '@taiga-ui/core/interfaces';\nimport {TUI_DATA_LIST_HOST, TUI_OPTION_CONTENT} from '@taiga-ui/core/tokens';\nimport {TuiOptionRole, TuiSizeL, TuiSizeXS} from '@taiga-ui/core/types';\nimport {shouldCall} from '@tinkoff/ng-event-plugins';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiDataListComponent} from '../data-list.component';\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function shouldFocus({\n    currentTarget,\n}: TuiEventWith<MouseEvent, HTMLElement>): boolean {\n    return !isNativeFocused(currentTarget);\n}\n\n// TODO: Consider all use cases for aria roles\n@Component({\n    selector: 'button[tuiOption], a[tuiOption]',\n    templateUrl: './option.template.html',\n    styleUrls: ['./option.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    host: {\n        tabIndex: '-1',\n        type: 'button',\n        '[attr.disabled]': 'disabled || null',\n    },\n})\nexport class TuiOptionComponent<T = unknown> implements OnDestroy {\n    @Input()\n    @HostBinding('attr.data-size')\n    @tuiDefaultProp()\n    size: TuiSizeL | TuiSizeXS = 'm';\n\n    @Input()\n    @HostBinding('attr.role')\n    @tuiDefaultProp()\n    role: TuiOptionRole = 'option';\n\n    @Input()\n    @tuiDefaultProp()\n    disabled = false;\n\n    @Input()\n    value?: T;\n\n    // TODO: 3.0 Fix dataList type when updated to Ivy and compilation drops metadata\n    constructor(\n        @Optional()\n        @Inject(TUI_OPTION_CONTENT)\n        readonly content: PolymorpheusContent<\n            TuiContextWithImplicit<TemplateRef<Record<string, unknown>>>\n        > | null,\n        @Inject(forwardRef(() => TuiDataListComponent))\n        private readonly dataList: TuiDataListComponent<T>,\n        @Inject(ElementRef) private readonly elementRef: ElementRef<HTMLElement>,\n        @Optional()\n        @Inject(TUI_DATA_LIST_HOST)\n        private readonly host: TuiDataListHost<T> | null,\n        @Optional()\n        @Self()\n        @Inject(TuiDropdownDirective)\n        readonly dropdown: TuiDropdownDirective | null,\n    ) {}\n\n    @HostBinding('class._with-dropdown')\n    get active(): boolean {\n        return !!this.dropdown && !!this.dropdown.dropdownBoxRef;\n    }\n\n    @HostListener('click')\n    onClick(): void {\n        if (this.host && this.value !== undefined) {\n            this.host.handleOption(this.value);\n        }\n    }\n\n    // @bad TODO: Consider aria-activedescendant for proper accessibility implementation\n    @shouldCall(shouldFocus)\n    @HostListener('mousemove.init', ['$event'])\n    @HostListener('mousemove.silent', ['$event'])\n    onMouseMove({currentTarget}: TuiEventWith<MouseEvent, HTMLElement>): void {\n        setNativeFocused(currentTarget, true, true);\n    }\n\n    // Preventing focus loss upon focused option removal\n    ngOnDestroy(): void {\n        this.dataList.handleFocusLossIfNecessary(this.elementRef.nativeElement);\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    ContentChildren,\n    ElementRef,\n    forwardRef,\n    HostBinding,\n    HostListener,\n    Inject,\n    Input,\n    QueryList,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {\n    EMPTY_QUERY,\n    isNativeFocusedIn,\n    isPresent,\n    itemsQueryListObservable,\n    moveFocus,\n    setNativeMouseFocused,\n    tuiAssertIsHTMLElement,\n    tuiDefaultProp,\n    tuiPure,\n} from '@taiga-ui/cdk';\nimport {TuiDataListAccessor} from '@taiga-ui/core/interfaces';\nimport {TUI_DATA_LIST_ACCESSOR, TUI_NOTHING_FOUND_MESSAGE} from '@taiga-ui/core/tokens';\nimport {TuiDataListRole} from '@taiga-ui/core/types';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nimport {TuiOptionComponent} from './option/option.component';\n\n// TODO: Consider aria-activedescendant for proper accessibility implementation\n// @dynamic\n@Component({\n    selector: 'tui-data-list',\n    templateUrl: './data-list.template.html',\n    styleUrls: ['./data-list.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    providers: [\n        {\n            provide: TUI_DATA_LIST_ACCESSOR,\n            useExisting: forwardRef(() => TuiDataListComponent),\n        },\n    ],\n})\nexport class TuiDataListComponent<T> implements TuiDataListAccessor<T> {\n    @ContentChildren(forwardRef(() => TuiOptionComponent), {descendants: true})\n    private readonly options: QueryList<TuiOptionComponent<T>> = EMPTY_QUERY;\n\n    private origin?: HTMLElement;\n\n    @Input()\n    @HostBinding('attr.role')\n    @tuiDefaultProp()\n    role: TuiDataListRole = 'listbox';\n\n    @Input()\n    @tuiDefaultProp()\n    emptyContent: PolymorpheusContent = '';\n\n    constructor(\n        @Inject(ElementRef) private readonly elementRef: ElementRef<HTMLElement>,\n        @Inject(TUI_NOTHING_FOUND_MESSAGE)\n        readonly defaultEmptyContent$: Observable<string>,\n    ) {}\n\n    @tuiPure\n    get empty$(): Observable<boolean> {\n        return itemsQueryListObservable(this.options).pipe(map(({length}) => !length));\n    }\n\n    @HostListener('focusin', ['$event.relatedTarget', '$event.currentTarget'])\n    onFocusIn(relatedTarget: HTMLElement, currentTarget: HTMLElement): void {\n        if (!currentTarget.contains(relatedTarget) && !this.origin) {\n            this.origin = relatedTarget;\n        }\n    }\n\n    @HostListener('mousedown.prevent')\n    noop(): void {}\n\n    @HostListener('keydown.arrowDown.prevent', ['$event.target', '1'])\n    @HostListener('keydown.arrowUp.prevent', ['$event.target', '-1'])\n    onKeyDownArrow(current: HTMLElement, step: number): void {\n        const {elements} = this;\n\n        moveFocus(elements.indexOf(current), elements, step);\n    }\n\n    // TODO: Consider aria-activedescendant for proper accessibility implementation\n    @HostListener('wheel.silent.passive')\n    @HostListener('mouseleave', ['$event.target'])\n    handleFocusLossIfNecessary(\n        element: HTMLElement = this.elementRef.nativeElement,\n    ): void {\n        if (this.origin && isNativeFocusedIn(element)) {\n            setNativeMouseFocused(this.origin, true, true);\n        }\n    }\n\n    getOptions(includeDisabled: boolean = false): readonly T[] {\n        return this.options\n            .toArray()\n            .filter(({disabled}) => includeDisabled || !disabled)\n            .map(({value}) => value)\n            .filter(isPresent);\n    }\n\n    onFocus({target}: Event, top: boolean): void {\n        tuiAssertIsHTMLElement(target);\n\n        const {elements} = this;\n\n        moveFocus(top ? -1 : elements.length, elements, top ? 1 : -1);\n        this.handleFocusLossIfNecessary(target);\n    }\n\n    private get elements(): readonly HTMLElement[] {\n        return Array.from(this.elementRef.nativeElement.querySelectorAll('[tuiOption]'));\n    }\n}\n","import {Directive} from '@angular/core';\n\n@Directive({\n    selector: 'ng-template[tuiDataList]',\n})\nexport class TuiDataListDirective {}\n","import {\n    AfterViewInit,\n    ContentChildren,\n    Directive,\n    ElementRef,\n    QueryList,\n} from '@angular/core';\nimport {\n    EMPTY_QUERY,\n    getClosestKeyboardFocusable,\n    itemsQueryListObservable,\n    preventDefault,\n    setNativeFocused,\n    tuiPure,\n    typedFromEvent,\n} from '@taiga-ui/cdk';\nimport {TuiDropdownDirective} from '@taiga-ui/core/directives/dropdown';\nimport {EMPTY, merge, Observable} from 'rxjs';\nimport {\n    debounceTime,\n    filter,\n    map,\n    mapTo,\n    shareReplay,\n    switchMap,\n    take,\n    tap,\n} from 'rxjs/operators';\n\n// TODO: 3.0 Move into separate module\n@Directive({\n    selector: 'tui-data-list[tuiDataListDropdownManager]',\n})\nexport class TuiDataListDropdownManagerDirective implements AfterViewInit {\n    @ContentChildren(TuiDropdownDirective, {descendants: true})\n    private readonly dropdowns: QueryList<TuiDropdownDirective> = EMPTY_QUERY;\n\n    @ContentChildren(TuiDropdownDirective, {read: ElementRef, descendants: true})\n    private readonly elements: QueryList<ElementRef<HTMLElement>> = EMPTY_QUERY;\n\n    ngAfterViewInit(): void {\n        this.right$.subscribe(index => {\n            this.tryToFocus(index);\n        });\n\n        merge(this.immediate$, this.debounce$)\n            .pipe(\n                switchMap(active => {\n                    this.dropdowns.forEach((dropdown, index) => {\n                        dropdown.open = index === active;\n                    });\n\n                    const element = this.elements.toArray()[active];\n                    const dropdown = this.dropdowns.toArray()[active];\n\n                    if (!element || !dropdown || !dropdown.dropdownBoxRef) {\n                        return EMPTY;\n                    }\n\n                    const {nativeElement} = dropdown.dropdownBoxRef.location;\n                    const mouseEnter$ = typedFromEvent(nativeElement, 'mouseenter').pipe(\n                        take(1),\n                    );\n                    const esc$ = merge(\n                        typedFromEvent(element.nativeElement, 'keydown'),\n                        typedFromEvent(nativeElement, 'keydown'),\n                    ).pipe(filter(({keyCode}) => keyCode === 27));\n\n                    return merge(mouseEnter$, esc$).pipe(\n                        tap(event => {\n                            if (dropdown.dropdownBoxRef) {\n                                event.stopPropagation();\n                            }\n\n                            setNativeFocused(element.nativeElement);\n                            // TODO: iframe warning\n                            dropdown.open = event instanceof MouseEvent;\n                        }),\n                    );\n                }),\n            )\n            .subscribe();\n    }\n\n    @tuiPure\n    private get elements$(): Observable<readonly HTMLElement[]> {\n        return itemsQueryListObservable(this.elements).pipe(\n            map(array => array.map(({nativeElement}) => nativeElement)),\n            shareReplay({bufferSize: 1, refCount: true}),\n        );\n    }\n\n    @tuiPure\n    private get right$(): Observable<number> {\n        return this.elements$.pipe(\n            switchMap(elements =>\n                merge(\n                    ...elements.map((element, index) =>\n                        typedFromEvent(element, 'keydown').pipe(\n                            filter(({keyCode}) => keyCode === 39),\n                            preventDefault(),\n                            mapTo(index),\n                        ),\n                    ),\n                ),\n            ),\n        );\n    }\n\n    @tuiPure\n    private get immediate$(): Observable<number> {\n        return this.elements$.pipe(\n            switchMap(elements =>\n                merge(\n                    ...elements.map((element, index) =>\n                        typedFromEvent(element, 'click').pipe(mapTo(index)),\n                    ),\n                ),\n            ),\n        );\n    }\n\n    @tuiPure\n    private get debounce$(): Observable<number> {\n        return this.elements$.pipe(\n            switchMap(elements =>\n                merge(\n                    ...elements.map((element, index) =>\n                        merge(\n                            typedFromEvent(element, 'focus'),\n                            typedFromEvent(element, 'blur'),\n                        ).pipe(\n                            filter(({relatedTarget}) =>\n                                this.notInDropdown(relatedTarget, index),\n                            ),\n                            map(({type}) => (type === 'focus' ? index : NaN)),\n                        ),\n                    ),\n                ),\n            ),\n            debounceTime(300),\n        );\n    }\n\n    private notInDropdown(element: EventTarget | null, index: number): boolean {\n        const dropdown = this.dropdowns.toArray()[index];\n\n        return !dropdown?.dropdownBoxRef?.location.nativeElement.contains(element);\n    }\n\n    private tryToFocus(index: number): void {\n        const dropdown = this.dropdowns.toArray()[index];\n        const content = dropdown?.dropdownBoxRef?.instance.contentElementRef;\n\n        if (!content) {\n            return;\n        }\n\n        const item = getClosestKeyboardFocusable(\n            content.nativeElement,\n            false,\n            content.nativeElement,\n        );\n\n        if (item) {\n            setNativeFocused(item);\n        }\n    }\n}\n","import {Directive, HostBinding, Input} from '@angular/core';\nimport {tuiDefaultProp} from '@taiga-ui/cdk';\n\n@Directive({\n    selector: 'tui-opt-group',\n    host: {\n        role: 'group',\n    },\n})\nexport class TuiOptGroupDirective {\n    @Input()\n    @HostBinding('attr.data-label')\n    @tuiDefaultProp()\n    label = '';\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiSvgModule} from '@taiga-ui/core/components/svg';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiDataListComponent} from './data-list.component';\nimport {TuiDataListDirective} from './data-list.directive';\nimport {TuiDataListDropdownManagerDirective} from './data-list-dropdown-manager.directive';\nimport {TuiOptGroupDirective} from './opt-group.directive';\nimport {TuiOptionComponent} from './option/option.component';\n\n@NgModule({\n    imports: [CommonModule, TuiSvgModule, PolymorpheusModule],\n    declarations: [\n        TuiDataListComponent,\n        TuiOptionComponent,\n        TuiOptGroupDirective,\n        TuiDataListDirective,\n        TuiDataListDropdownManagerDirective,\n    ],\n    exports: [\n        TuiDataListComponent,\n        TuiOptionComponent,\n        TuiOptGroupDirective,\n        TuiDataListDirective,\n        TuiDataListDropdownManagerDirective,\n    ],\n})\nexport class TuiDataListModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}