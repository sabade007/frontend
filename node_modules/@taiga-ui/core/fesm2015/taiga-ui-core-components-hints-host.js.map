{"version":3,"file":"taiga-ui-core-components-hints-host.js","sources":["ng://@taiga-ui/core/components/hints-host/hints-host.component.ts","ng://@taiga-ui/core/components/hints-host/hint-box/hint-box.component.ts","ng://@taiga-ui/core/components/hints-host/hint-box/hint-box.module.ts","ng://@taiga-ui/core/components/hints-host/hints-host.module.ts","ng://@taiga-ui/core/components/hints-host/taiga-ui-core-components-hints-host.ts"],"sourcesContent":["import {ChangeDetectionStrategy, Component, ElementRef, Inject} from '@angular/core';\nimport {TUI_PARENT_ANIMATION} from '@taiga-ui/cdk';\nimport {TuiHint} from '@taiga-ui/core/interfaces';\nimport {TuiHintService} from '@taiga-ui/core/services';\nimport {PolymorpheusComponent} from '@tinkoff/ng-polymorpheus';\nimport {Observable} from 'rxjs';\n\nimport {TuiHintBoxComponent} from './hint-box/hint-box.component';\n\n@Component({\n    selector: 'tui-hints-host',\n    templateUrl: './hints-host.template.html',\n    styleUrls: ['./hints-host.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    animations: [TUI_PARENT_ANIMATION],\n    host: {\n        'aria-live': 'polite',\n    },\n})\nexport class TuiHintsHostComponent {\n    readonly component = new PolymorpheusComponent(TuiHintBoxComponent);\n\n    constructor(\n        @Inject(ElementRef) private readonly elementRef: ElementRef<HTMLElement>,\n        @Inject(TuiHintService) readonly hints$: Observable<readonly TuiHint[]>,\n    ) {}\n\n    get clientRect(): ClientRect {\n        return this.elementRef.nativeElement.getBoundingClientRect();\n    }\n}\n","import {AnimationOptions} from '@angular/animations';\nimport {\n    ChangeDetectionStrategy,\n    Component,\n    ElementRef,\n    forwardRef,\n    HostBinding,\n    Inject,\n    NgZone,\n    ViewChild,\n} from '@angular/core';\nimport {ANIMATION_FRAME, WINDOW} from '@ng-web-apis/common';\nimport {\n    px,\n    TuiContextWithImplicit,\n    TuiDestroyService,\n    tuiPure,\n    tuiZonefree,\n} from '@taiga-ui/cdk';\nimport {AbstractTuiHint} from '@taiga-ui/core/abstract';\nimport {tuiFadeIn} from '@taiga-ui/core/animations';\nimport {TuiHintDirective} from '@taiga-ui/core/directives';\nimport {TuiPointerHintDirective} from '@taiga-ui/core/directives/pointer-hint';\nimport {TuiMedia} from '@taiga-ui/core/interfaces';\nimport {TUI_ANIMATION_OPTIONS, TUI_MEDIA} from '@taiga-ui/core/tokens';\nimport {TuiDirection, TuiHintModeT} from '@taiga-ui/core/types';\nimport {tuiIsMobile} from '@taiga-ui/core/utils';\nimport {POLYMORPHEUS_CONTEXT} from '@tinkoff/ng-polymorpheus';\nimport {Observable} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\nimport {TuiHintsHostComponent} from '../hints-host.component';\n\nconst SPACE = 8;\nconst BORDER_WIDTH = 1;\nconst LEFT_PADDING = 16;\nconst TOP_PADDING = 12;\nconst ARROW_SIZE = 8;\nconst ARROW_OFFSET = 16;\nconst ARROWHEAD_OFFSET = ARROW_OFFSET + (ARROW_SIZE * Math.sqrt(2)) / 2;\nconst reverseDirectionsVertical: {[key in TuiDirection]: TuiDirection} = {\n    'top-left': 'bottom-left',\n    'top-right': 'bottom-right',\n    'bottom-left': 'top-left',\n    'bottom-right': 'top-right',\n    left: 'right',\n    right: 'left',\n    'top-middle': 'bottom-middle',\n    'bottom-middle': 'top-middle',\n};\nconst reverseDirectionsHorizontal: {[key in TuiDirection]: TuiDirection} = {\n    'top-left': 'top-right',\n    'top-right': 'top-left',\n    'bottom-left': 'bottom-right',\n    'bottom-right': 'bottom-left',\n    left: 'right',\n    right: 'left',\n    'top-middle': 'top-middle',\n    'bottom-middle': 'bottom-middle',\n};\n\n// TODO: consider abstracting UI and move to CDK, split hint and overflow\n// Ambient type cannot be used without dynamic https://github.com/angular/angular/issues/23395\n// @dynamic\n@Component({\n    selector: 'tui-hint-box[hint]',\n    templateUrl: './hint-box.template.html',\n    styleUrls: ['./hint-box.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [TuiDestroyService],\n    animations: [tuiFadeIn],\n})\nexport class TuiHintBoxComponent {\n    @ViewChild('arrow')\n    private readonly arrow?: ElementRef<HTMLElement>;\n\n    @HostBinding('@tuiFadeIn')\n    readonly animation = {value: '', ...this.options} as const;\n\n    constructor(\n        @Inject(ANIMATION_FRAME) animationFrame$: Observable<number>,\n        @Inject(TuiDestroyService) destroy$: Observable<void>,\n        @Inject(NgZone) ngZone: NgZone,\n        @Inject(TUI_ANIMATION_OPTIONS) private readonly options: AnimationOptions,\n        @Inject(ElementRef) private readonly elementRef: ElementRef<HTMLElement>,\n        @Inject(WINDOW) private readonly windowRef: Window,\n        @Inject(TUI_MEDIA) private readonly media: TuiMedia,\n        @Inject(forwardRef(() => TuiHintsHostComponent))\n        private readonly hintsHost: TuiHintsHostComponent,\n        @Inject(POLYMORPHEUS_CONTEXT)\n        private readonly context: TuiContextWithImplicit<AbstractTuiHint>,\n    ) {\n        animationFrame$\n            .pipe(tuiZonefree(ngZone), takeUntil(destroy$))\n            .subscribe(() => this.calculatePosition());\n    }\n\n    get hint(): AbstractTuiHint {\n        return this.context.$implicit;\n    }\n\n    @tuiPure\n    @HostBinding('class._untouchable')\n    get isUntouchable(): boolean {\n        return this.hint instanceof TuiPointerHintDirective;\n    }\n\n    @HostBinding('attr.data-mode')\n    get mode(): TuiHintModeT | null {\n        return this.hint.mode;\n    }\n\n    get isMobile(): boolean {\n        return tuiIsMobile(this.windowRef, this.media);\n    }\n\n    onHovered(hovered: boolean): void {\n        if (this.hint instanceof TuiHintDirective) {\n            this.hint.componentHovered$.next(hovered);\n        }\n    }\n\n    /**\n     * Calculates wrapper position.\n     * Styles are set directly to avoid visual shake of element\n     */\n    private calculatePosition(): void {\n        if (this.mode !== 'overflow') {\n            this.calculateCoordinates();\n        } else {\n            this.setOverflowStyles();\n        }\n    }\n\n    private calculateCoordinates(): void {\n        if (this.isMobile) {\n            this.calculateMobileCoordinates();\n\n            return;\n        }\n\n        const hostRect = this.hint.getElementClientRect();\n        const portalRect = this.hintsHost.clientRect;\n        const tooltip = this.elementRef.nativeElement;\n        const {style} = tooltip;\n        const tooltipRect = tooltip.getBoundingClientRect();\n        const isHostLong = hostRect.width > ARROWHEAD_OFFSET * 2;\n        const directions: TuiDirection[] = [\n            'left',\n            'right',\n            'bottom-left',\n            'bottom-right',\n            'bottom-middle',\n            'top-left',\n            'top-right',\n            'top-middle',\n        ];\n\n        let top = 0;\n        let left = 0;\n        let {direction} = this.hint;\n\n        const horizontalTop =\n            hostRect.top + hostRect.height / 2 - tooltipRect.height / 2 - portalRect.top;\n        const horizontalLeft =\n            hostRect.left - tooltipRect.width - SPACE - portalRect.left;\n        const horizontalRight = hostRect.left + hostRect.width + SPACE - portalRect.left;\n        const verticalBottom = hostRect.bottom + SPACE - portalRect.top;\n        const verticalTop = hostRect.top - tooltipRect.height - SPACE - portalRect.top;\n        const verticalRight = isHostLong\n            ? hostRect.left - portalRect.left\n            : hostRect.left + hostRect.width / 2 - ARROWHEAD_OFFSET - portalRect.left;\n        const verticalLeft = isHostLong\n            ? hostRect.left - tooltipRect.width + hostRect.width - portalRect.left\n            : hostRect.left -\n              tooltipRect.width +\n              hostRect.width / 2 +\n              ARROWHEAD_OFFSET -\n              portalRect.left;\n        const verticalMiddle =\n            hostRect.left - tooltipRect.width / 2 + hostRect.width / 2 - portalRect.left;\n\n        directions.splice(directions.indexOf(direction), 1);\n\n        // eslint-disable-next-line no-constant-condition\n        while (true) {\n            switch (direction) {\n                case 'left':\n                    top = horizontalTop;\n                    left = horizontalLeft;\n                    break;\n                case 'right':\n                    top = horizontalTop;\n                    left = horizontalRight;\n                    break;\n                case 'top-right':\n                    top = verticalTop;\n                    left = verticalRight;\n                    break;\n                case 'top-left':\n                    top = verticalTop;\n                    left = verticalLeft;\n                    break;\n                case 'bottom-right':\n                    top = verticalBottom;\n                    left = verticalRight;\n                    break;\n                case 'bottom-left':\n                    top = verticalBottom;\n                    left = verticalLeft;\n                    break;\n                case 'bottom-middle':\n                    top = verticalBottom;\n                    left = verticalMiddle;\n                    break;\n                case 'top-middle':\n                    top = verticalTop;\n                    left = verticalMiddle;\n                    break;\n            }\n\n            const verticalFit =\n                top + portalRect.top > SPACE &&\n                top + tooltipRect.height + SPACE + portalRect.top <\n                    this.windowRef.innerHeight;\n            const horizontalFit =\n                left > SPACE &&\n                left + tooltipRect.width + SPACE + portalRect.left < portalRect.width;\n\n            if (directions.length === 0 || (verticalFit && horizontalFit)) {\n                break;\n            }\n\n            direction = verticalFit\n                ? reverseDirectionsHorizontal[direction]\n                : reverseDirectionsVertical[direction];\n            direction =\n                directions.splice(directions.indexOf(direction), 1)[0] || direction;\n        }\n\n        style.top = px(top);\n        style.left = px(left);\n\n        tooltip.setAttribute('data-tui-host-direction', direction);\n    }\n\n    private calculateMobileCoordinates(): void {\n        const hostRect = this.hint.getElementClientRect();\n        const portalRect = this.hintsHost.clientRect;\n        const tooltip = this.elementRef.nativeElement;\n        const {style} = tooltip;\n        const tooltipRect = tooltip.getBoundingClientRect();\n        const verticalTop = hostRect.top - tooltipRect.height - SPACE - portalRect.top;\n        const verticalBottom = hostRect.bottom + SPACE - portalRect.top;\n        const verticalTopFit =\n            verticalTop + portalRect.top > SPACE &&\n            hostRect.top < this.windowRef.innerHeight;\n        const verticalBottomFit =\n            hostRect.bottom > 0 &&\n            hostRect.bottom + 2 * SPACE + tooltipRect.height < this.windowRef.innerHeight;\n        const direction =\n            (this.hint.direction.includes('top') && verticalTopFit) || !verticalBottomFit\n                ? 'top'\n                : 'bottom';\n        const attemptedLeft =\n            portalRect.left + hostRect.left + hostRect.width / 2 - tooltipRect.width / 2;\n        const left = Math.max(\n            attemptedLeft + tooltipRect.width + SPACE > portalRect.right\n                ? portalRect.right - SPACE - tooltipRect.width\n                : attemptedLeft,\n            SPACE * 2,\n        );\n\n        style.left = px(left);\n        style.top = direction === 'top' ? px(verticalTop) : px(verticalBottom);\n\n        if (this.arrow) {\n            this.arrow.nativeElement.style.left = px(\n                hostRect.left <= SPACE * 2 && hostRect.width > ARROW_OFFSET * 2\n                    ? ARROW_OFFSET\n                    : hostRect.left + hostRect.width / 2 - left - ARROW_SIZE / 2,\n            );\n        }\n\n        tooltip.setAttribute('data-tui-host-direction', direction);\n    }\n\n    private setOverflowStyles(): void {\n        const hostRect = this.hint.getElementClientRect();\n        const {style} = this.elementRef.nativeElement;\n\n        style.top = px(hostRect.top - window.innerHeight - TOP_PADDING - BORDER_WIDTH);\n        style.left = px(hostRect.left - LEFT_PADDING - BORDER_WIDTH);\n        style.width = px(hostRect.width + LEFT_PADDING * 2 + BORDER_WIDTH * 2);\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiHoveredModule} from '@taiga-ui/cdk';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiHintBoxComponent} from './hint-box.component';\n\n@NgModule({\n    imports: [CommonModule, PolymorpheusModule, TuiHoveredModule],\n    declarations: [TuiHintBoxComponent],\n    exports: [TuiHintBoxComponent],\n    entryComponents: [TuiHintBoxComponent],\n})\nexport class TuiHintBoxModule {}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiActiveZoneModule} from '@taiga-ui/cdk';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiHintBoxModule} from './hint-box/hint-box.module';\nimport {TuiHintsHostComponent} from './hints-host.component';\n\n@NgModule({\n    imports: [CommonModule, PolymorpheusModule, TuiHintBoxModule, TuiActiveZoneModule],\n    declarations: [TuiHintsHostComponent],\n    exports: [TuiHintsHostComponent],\n})\nexport class TuiHintsHostModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}