{"version":3,"file":"taiga-ui-core-internal-svg-defs-host.js","sources":["ng://@taiga-ui/core/internal/svg-defs-host/svg-defs-host.component.ts","ng://@taiga-ui/core/internal/svg-defs-host/svg-defs-host.module.ts","ng://@taiga-ui/core/internal/svg-defs-host/taiga-ui-core-internal-svg-defs-host.ts"],"sourcesContent":["import {DOCUMENT, isPlatformServer} from '@angular/common';\nimport {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    Inject,\n    OnInit,\n    PLATFORM_ID,\n} from '@angular/core';\nimport {SafeHtml} from '@angular/platform-browser';\nimport {TuiDestroyService} from '@taiga-ui/cdk';\nimport {TuiSvgService} from '@taiga-ui/core/services';\nimport {innerHTML} from '@taiga-ui/core/utils/polyfills';\nimport {takeUntil} from 'rxjs/operators';\n\n// @dynamic\n@Component({\n    selector: 'tui-svg-defs-host',\n    templateUrl: './svg-defs-host.template.html',\n    styleUrls: ['./svg-defs-host.style.less'],\n    providers: [TuiDestroyService],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiSvgDefsHostComponent implements OnInit {\n    items!: IterableIterator<SafeHtml>;\n    isBrowser = true;\n\n    constructor(\n        @Inject(DOCUMENT) documentRef: Document,\n        @Inject(TuiSvgService) private readonly svgService: TuiSvgService,\n        @Inject(ChangeDetectorRef) private readonly changeDetectorRef: ChangeDetectorRef,\n        @Inject(TuiDestroyService)\n        private readonly destroy$: TuiDestroyService,\n        @Inject(PLATFORM_ID) platformId: Record<string, unknown>,\n    ) {\n        this.isBrowser = !isPlatformServer(platformId);\n        innerHTML(documentRef);\n    }\n\n    // @bad TODO: Looks like it could be async piped but it was probably written like that for a reason\n    ngOnInit(): void {\n        this.svgService.items$.pipe(takeUntil(this.destroy$)).subscribe(defsMap => {\n            this.items = defsMap.values();\n            this.changeDetectorRef.detectChanges();\n        });\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiLetModule} from '@taiga-ui/cdk';\n\nimport {TuiSvgDefsHostComponent} from './svg-defs-host.component';\n\n@NgModule({\n    imports: [CommonModule, TuiLetModule],\n    declarations: [TuiSvgDefsHostComponent],\n    exports: [TuiSvgDefsHostComponent],\n})\nexport class TuiSvgDefsHostModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;AAeA;IAQa,uBAAuB,GAApC,MAAa,uBAAuB;IAIhC,YACsB,WAAqB,EACC,UAAyB,EACrB,iBAAoC,EAE/D,QAA2B,EACvB,UAAmC;QAJhB,eAAU,GAAV,UAAU,CAAe;QACrB,sBAAiB,GAAjB,iBAAiB,CAAmB;QAE/D,aAAQ,GAAR,QAAQ,CAAmB;QAPhD,cAAS,GAAG,IAAI,CAAC;QAUb,IAAI,CAAC,SAAS,GAAG,CAAC,gBAAgB,CAAC,UAAU,CAAC,CAAC;QAC/C,SAAS,CAAC,WAAW,CAAC,CAAC;KAC1B;;IAGD,QAAQ;QACJ,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,SAAS,CAAC,OAAO;YACnE,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC,MAAM,EAAE,CAAC;YAC9B,IAAI,CAAC,iBAAiB,CAAC,aAAa,EAAE,CAAC;SAC1C,CAAC,CAAC;KACN;EACJ;;YAlBsC,QAAQ,uBAAtC,MAAM,SAAC,QAAQ;YACoC,aAAa,uBAAhE,MAAM,SAAC,aAAa;YAC0C,iBAAiB,uBAA/E,MAAM,SAAC,iBAAiB;YAEE,iBAAiB,uBAD3C,MAAM,SAAC,iBAAiB;4CAExB,MAAM,SAAC,WAAW;;AAVd,uBAAuB;IAPnC,SAAS,CAAC;QACP,QAAQ,EAAE,mBAAmB;QAC7B,6lBAA4C;QAE5C,SAAS,EAAE,CAAC,iBAAiB,CAAC;QAC9B,eAAe,EAAE,uBAAuB,CAAC,MAAM;;KAClD,CAAC;IAMO,WAAA,MAAM,CAAC,QAAQ,CAAC,CAAA;IAChB,WAAA,MAAM,CAAC,aAAa,CAAC,CAAA;IACrB,WAAA,MAAM,CAAC,iBAAiB,CAAC,CAAA;IACzB,WAAA,MAAM,CAAC,iBAAiB,CAAC,CAAA;IAEzB,WAAA,MAAM,CAAC,WAAW,CAAC,CAAA;GAVf,uBAAuB,CAuBnC;;ICnCY,oBAAoB,GAAjC,MAAa,oBAAoB;EAAG;AAAvB,oBAAoB;IALhC,QAAQ,CAAC;QACN,OAAO,EAAE,CAAC,YAAY,EAAE,YAAY,CAAC;QACrC,YAAY,EAAE,CAAC,uBAAuB,CAAC;QACvC,OAAO,EAAE,CAAC,uBAAuB,CAAC;KACrC,CAAC;GACW,oBAAoB,CAAG;;ACXpC;;;;;;"}