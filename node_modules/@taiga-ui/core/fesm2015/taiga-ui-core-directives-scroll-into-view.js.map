{"version":3,"file":"taiga-ui-core-directives-scroll-into-view.js","sources":["ng://@taiga-ui/core/directives/scroll-into-view/scroll-into-view.directive.ts","ng://@taiga-ui/core/directives/scroll-into-view/scroll-into-view.module.ts","ng://@taiga-ui/core/directives/scroll-into-view/taiga-ui-core-directives-scroll-into-view.ts"],"sourcesContent":["import {DOCUMENT} from '@angular/common';\nimport {Directive, ElementRef, Inject, Input} from '@angular/core';\nimport {tuiCustomEvent, TuiDestroyService, tuiRequiredSetter} from '@taiga-ui/cdk';\nimport {TUI_SCROLL_INTO_VIEW} from '@taiga-ui/core/constants';\nimport {Observable, timer} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\n/**\n * Directive scrolls element into view inside tui-scrollbar\n */\n// @dynamic\n@Directive({\n    selector: '[tuiScrollIntoView]',\n    providers: [TuiDestroyService],\n})\nexport class TuiScrollIntoViewDirective {\n    @Input()\n    @tuiRequiredSetter()\n    set tuiScrollIntoView(scroll: boolean) {\n        if (!scroll) {\n            return;\n        }\n\n        // Timeout is necessary in order to give element render cycle to get into its final spot\n        // (for example if it is inside dropdown box which has to be positioned first)\n        timer(0)\n            .pipe(takeUntil(this.destroy$))\n            .subscribe(() => {\n                this.elementRef.nativeElement.dispatchEvent(\n                    tuiCustomEvent<Element>(\n                        TUI_SCROLL_INTO_VIEW,\n                        {\n                            bubbles: true,\n                            detail: this.elementRef.nativeElement,\n                        },\n                        this.documentRef,\n                    ),\n                );\n            });\n    }\n\n    constructor(\n        @Inject(ElementRef) private readonly elementRef: ElementRef<Element>,\n        @Inject(DOCUMENT) private readonly documentRef: Document,\n        @Inject(TuiDestroyService) private readonly destroy$: Observable<void>,\n    ) {}\n}\n","import {NgModule} from '@angular/core';\n\nimport {TuiScrollIntoViewDirective} from './scroll-into-view.directive';\n\n@NgModule({\n    declarations: [TuiScrollIntoViewDirective],\n    exports: [TuiScrollIntoViewDirective],\n})\nexport class TuiScrollIntoViewModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;;;;;;;AAOA;;;AAGA;IAKa,0BAA0B,GAAvC,MAAa,0BAA0B;IA0BnC,YACyC,UAA+B,EACjC,WAAqB,EACZ,QAA0B;QAFjC,eAAU,GAAV,UAAU,CAAqB;QACjC,gBAAW,GAAX,WAAW,CAAU;QACZ,aAAQ,GAAR,QAAQ,CAAkB;KACtE;IA3BJ,IAAI,iBAAiB,CAAC,MAAe;QACjC,IAAI,CAAC,MAAM,EAAE;YACT,OAAO;SACV;;;QAID,KAAK,CAAC,CAAC,CAAC;aACH,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;aAC9B,SAAS,CAAC;YACP,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,aAAa,CACvC,cAAc,CACV,oBAAoB,EACpB;gBACI,OAAO,EAAE,IAAI;gBACb,MAAM,EAAE,IAAI,CAAC,UAAU,CAAC,aAAa;aACxC,EACD,IAAI,CAAC,WAAW,CACnB,CACJ,CAAC;SACL,CAAC,CAAC;KACV;EAOJ;;YAJwD,UAAU,uBAA1D,MAAM,SAAC,UAAU;YAC8B,QAAQ,uBAAvD,MAAM,SAAC,QAAQ;YACsC,UAAU,uBAA/D,MAAM,SAAC,iBAAiB;;AA1B7B;IAFC,KAAK,EAAE;IACP,iBAAiB,EAAE;mEAsBnB;AAxBQ,0BAA0B;IAJtC,SAAS,CAAC;QACP,QAAQ,EAAE,qBAAqB;QAC/B,SAAS,EAAE,CAAC,iBAAiB,CAAC;KACjC,CAAC;IA4BO,WAAA,MAAM,CAAC,UAAU,CAAC,CAAA;IAClB,WAAA,MAAM,CAAC,QAAQ,CAAC,CAAA;IAChB,WAAA,MAAM,CAAC,iBAAiB,CAAC,CAAA;GA7BrB,0BAA0B,CA+BtC;;ICtCY,uBAAuB,GAApC,MAAa,uBAAuB;EAAG;AAA1B,uBAAuB;IAJnC,QAAQ,CAAC;QACN,YAAY,EAAE,CAAC,0BAA0B,CAAC;QAC1C,OAAO,EAAE,CAAC,0BAA0B,CAAC;KACxC,CAAC;GACW,uBAAuB,CAAG;;ACRvC;;;;;;"}