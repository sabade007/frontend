import { __decorate, __param } from "tslib";
import { DOCUMENT } from '@angular/common';
import { ChangeDetectionStrategy, Component, ElementRef, Inject } from '@angular/core';
import { TUI_DIALOGS, TUI_IS_MOBILE, TUI_VERSION, tuiAssert } from '@taiga-ui/cdk';
import { TUI_IS_MOBILE_RES_PROVIDER } from '@taiga-ui/core/providers';
import { TUI_ANIMATIONS_DURATION, TUI_ASSERT_ENABLED, TUI_IS_MOBILE_RES, TUI_THEME, } from '@taiga-ui/core/tokens';
import { combineLatest, Observable, of } from 'rxjs';
import { map } from 'rxjs/operators';
// @dynamic
let TuiRootComponent = class TuiRootComponent {
    constructor(duration, elementRef, dialogs, isMobile, enabled, isMobileRes$, { body }, theme) {
        this.duration = duration;
        this.elementRef = elementRef;
        this.dialogs = dialogs;
        this.isMobile = isMobile;
        this.isMobileRes$ = isMobileRes$;
        this.scrollbars$ = this.dialogs.length && !this.isMobile
            ? combineLatest([...this.dialogs]).pipe(map(dialogs => !dialogs.some(({ length }) => length)))
            : of(!this.isMobile);
        tuiAssert.enabled = enabled;
        body.setAttribute('data-tui-theme', theme.toLowerCase());
    }
};
TuiRootComponent.ctorParameters = () => [
    { type: Number, decorators: [{ type: Inject, args: [TUI_ANIMATIONS_DURATION,] }] },
    { type: ElementRef, decorators: [{ type: Inject, args: [ElementRef,] }] },
    { type: undefined, decorators: [{ type: Inject, args: [TUI_DIALOGS,] }] },
    { type: Boolean, decorators: [{ type: Inject, args: [TUI_IS_MOBILE,] }] },
    { type: Boolean, decorators: [{ type: Inject, args: [TUI_ASSERT_ENABLED,] }] },
    { type: Observable, decorators: [{ type: Inject, args: [TUI_IS_MOBILE_RES,] }] },
    { type: Document, decorators: [{ type: Inject, args: [DOCUMENT,] }] },
    { type: String, decorators: [{ type: Inject, args: [TUI_THEME,] }] }
];
TuiRootComponent = __decorate([
    Component({
        selector: 'tui-root',
        template: "<tui-scroll-controls\n    *ngIf=\"scrollbars$ | async\"\n    class=\"t-scrollbar\"\n></tui-scroll-controls>\n<tui-svg-defs-host></tui-svg-defs-host>\n<tui-dropdown-host>\n    <div class=\"t-content\">\n        <ng-content></ng-content>\n    </div>\n    <ng-content select=\"tuiOverContent\"></ng-content>\n    <tui-dialog-host></tui-dialog-host>\n    <ng-content select=\"tuiOverDialogs\"></ng-content>\n    <tui-alert-host></tui-alert-host>\n    <ng-content select=\"tuiOverAlerts\"></ng-content>\n    <!-- TODO: 3.0 Remove-->\n    <ng-content select=\"tuiOverNotifications\"></ng-content>\n</tui-dropdown-host>\n<ng-content select=\"tuiOverPortals\"></ng-content>\n<tui-hints-host></tui-hints-host>\n<ng-content select=\"tuiOverHints\"></ng-content>\n",
        changeDetection: ChangeDetectionStrategy.OnPush,
        providers: [TUI_IS_MOBILE_RES_PROVIDER],
        host: {
            'data-tui-version': TUI_VERSION,
            '[style.--tui-duration]': 'duration + "ms"',
            '($.class._mobile)': 'isMobileRes$',
        },
        styles: ["@keyframes tuiPresent{to{content:'1'}}:host{position:relative;display:block;flex:1;-webkit-tap-highlight-color:transparent}.t-scrollbar{position:fixed;top:0;left:0;bottom:0;right:0;margin:0}.t-content{position:relative;z-index:0;height:100%}"]
    }),
    __param(0, Inject(TUI_ANIMATIONS_DURATION)),
    __param(1, Inject(ElementRef)),
    __param(2, Inject(TUI_DIALOGS)),
    __param(3, Inject(TUI_IS_MOBILE)),
    __param(4, Inject(TUI_ASSERT_ENABLED)),
    __param(5, Inject(TUI_IS_MOBILE_RES)),
    __param(6, Inject(DOCUMENT)),
    __param(7, Inject(TUI_THEME))
], TuiRootComponent);
export { TuiRootComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm9vdC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkvY29yZS9jb21wb25lbnRzL3Jvb3QvIiwic291cmNlcyI6WyJyb290LmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLFFBQVEsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQ3pDLE9BQU8sRUFBQyx1QkFBdUIsRUFBRSxTQUFTLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUNyRixPQUFPLEVBQUMsV0FBVyxFQUFFLGFBQWEsRUFBRSxXQUFXLEVBQUUsU0FBUyxFQUFDLE1BQU0sZUFBZSxDQUFDO0FBQ2pGLE9BQU8sRUFBQywwQkFBMEIsRUFBQyxNQUFNLDBCQUEwQixDQUFDO0FBQ3BFLE9BQU8sRUFDSCx1QkFBdUIsRUFDdkIsa0JBQWtCLEVBQ2xCLGlCQUFpQixFQUNqQixTQUFTLEdBQ1osTUFBTSx1QkFBdUIsQ0FBQztBQUMvQixPQUFPLEVBQUMsYUFBYSxFQUFFLFVBQVUsRUFBRSxFQUFFLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFDbkQsT0FBTyxFQUFDLEdBQUcsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRW5DLFdBQVc7QUFhWCxJQUFhLGdCQUFnQixHQUE3QixNQUFhLGdCQUFnQjtJQVF6QixZQUM4QyxRQUFnQixFQUM3QixVQUFtQyxFQUV2RCxPQUFzRCxFQUN2QixRQUFpQixFQUM3QixPQUFnQixFQUNSLFlBQWlDLEVBQ25ELEVBQUMsSUFBSSxFQUFXLEVBQ2YsS0FBYTtRQVJVLGFBQVEsR0FBUixRQUFRLENBQVE7UUFDN0IsZUFBVSxHQUFWLFVBQVUsQ0FBeUI7UUFFdkQsWUFBTyxHQUFQLE9BQU8sQ0FBK0M7UUFDdkIsYUFBUSxHQUFSLFFBQVEsQ0FBUztRQUVyQixpQkFBWSxHQUFaLFlBQVksQ0FBcUI7UUFkaEUsZ0JBQVcsR0FDaEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUTtZQUNqQyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQ2pDLEdBQUcsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsTUFBTSxFQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQ3REO1lBQ0gsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQWF6QixTQUFTLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUM1QixJQUFJLENBQUMsWUFBWSxDQUFDLGdCQUFnQixFQUFFLEtBQUssQ0FBQyxXQUFXLEVBQUUsQ0FBQyxDQUFDO0lBQzdELENBQUM7Q0FDSixDQUFBOzt5Q0FiUSxNQUFNLFNBQUMsdUJBQXVCO1lBQ1UsVUFBVSx1QkFBbEQsTUFBTSxTQUFDLFVBQVU7NENBQ2pCLE1BQU0sU0FBQyxXQUFXOzBDQUVsQixNQUFNLFNBQUMsYUFBYTswQ0FDcEIsTUFBTSxTQUFDLGtCQUFrQjtZQUN3QixVQUFVLHVCQUEzRCxNQUFNLFNBQUMsaUJBQWlCO1lBQ0MsUUFBUSx1QkFBakMsTUFBTSxTQUFDLFFBQVE7eUNBQ2YsTUFBTSxTQUFDLFNBQVM7O0FBakJaLGdCQUFnQjtJQVo1QixTQUFTLENBQUM7UUFDUCxRQUFRLEVBQUUsVUFBVTtRQUNwQiw2dkJBQWlDO1FBRWpDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO1FBQy9DLFNBQVMsRUFBRSxDQUFDLDBCQUEwQixDQUFDO1FBQ3ZDLElBQUksRUFBRTtZQUNGLGtCQUFrQixFQUFFLFdBQVc7WUFDL0Isd0JBQXdCLEVBQUUsaUJBQWlCO1lBQzNDLG1CQUFtQixFQUFFLGNBQWM7U0FDdEM7O0tBQ0osQ0FBQztJQVVPLFdBQUEsTUFBTSxDQUFDLHVCQUF1QixDQUFDLENBQUE7SUFDL0IsV0FBQSxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUE7SUFDbEIsV0FBQSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUE7SUFFbkIsV0FBQSxNQUFNLENBQUMsYUFBYSxDQUFDLENBQUE7SUFDckIsV0FBQSxNQUFNLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtJQUMxQixXQUFBLE1BQU0sQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO0lBQ3pCLFdBQUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBQ2hCLFdBQUEsTUFBTSxDQUFDLFNBQVMsQ0FBQyxDQUFBO0dBakJiLGdCQUFnQixDQXNCNUI7U0F0QlksZ0JBQWdCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtET0NVTUVOVH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5qZWN0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7VFVJX0RJQUxPR1MsIFRVSV9JU19NT0JJTEUsIFRVSV9WRVJTSU9OLCB0dWlBc3NlcnR9IGZyb20gJ0B0YWlnYS11aS9jZGsnO1xuaW1wb3J0IHtUVUlfSVNfTU9CSUxFX1JFU19QUk9WSURFUn0gZnJvbSAnQHRhaWdhLXVpL2NvcmUvcHJvdmlkZXJzJztcbmltcG9ydCB7XG4gICAgVFVJX0FOSU1BVElPTlNfRFVSQVRJT04sXG4gICAgVFVJX0FTU0VSVF9FTkFCTEVELFxuICAgIFRVSV9JU19NT0JJTEVfUkVTLFxuICAgIFRVSV9USEVNRSxcbn0gZnJvbSAnQHRhaWdhLXVpL2NvcmUvdG9rZW5zJztcbmltcG9ydCB7Y29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSwgb2Z9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHttYXB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuLy8gQGR5bmFtaWNcbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndHVpLXJvb3QnLFxuICAgIHRlbXBsYXRlVXJsOiAncm9vdC50ZW1wbGF0ZS5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9yb290LnN0eWxlLmxlc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBwcm92aWRlcnM6IFtUVUlfSVNfTU9CSUxFX1JFU19QUk9WSURFUl0sXG4gICAgaG9zdDoge1xuICAgICAgICAnZGF0YS10dWktdmVyc2lvbic6IFRVSV9WRVJTSU9OLFxuICAgICAgICAnW3N0eWxlLi0tdHVpLWR1cmF0aW9uXSc6ICdkdXJhdGlvbiArIFwibXNcIicsXG4gICAgICAgICcoJC5jbGFzcy5fbW9iaWxlKSc6ICdpc01vYmlsZVJlcyQnLFxuICAgIH0sXG59KVxuZXhwb3J0IGNsYXNzIFR1aVJvb3RDb21wb25lbnQge1xuICAgIHJlYWRvbmx5IHNjcm9sbGJhcnMkOiBPYnNlcnZhYmxlPGJvb2xlYW4+ID1cbiAgICAgICAgdGhpcy5kaWFsb2dzLmxlbmd0aCAmJiAhdGhpcy5pc01vYmlsZVxuICAgICAgICAgICAgPyBjb21iaW5lTGF0ZXN0KFsuLi50aGlzLmRpYWxvZ3NdKS5waXBlKFxuICAgICAgICAgICAgICAgICAgbWFwKGRpYWxvZ3MgPT4gIWRpYWxvZ3Muc29tZSgoe2xlbmd0aH0pID0+IGxlbmd0aCkpLFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICA6IG9mKCF0aGlzLmlzTW9iaWxlKTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBASW5qZWN0KFRVSV9BTklNQVRJT05TX0RVUkFUSU9OKSByZWFkb25seSBkdXJhdGlvbjogbnVtYmVyLFxuICAgICAgICBASW5qZWN0KEVsZW1lbnRSZWYpIHJlYWRvbmx5IGVsZW1lbnRSZWY6IEVsZW1lbnRSZWY8SFRNTEVsZW1lbnQ+LFxuICAgICAgICBASW5qZWN0KFRVSV9ESUFMT0dTKVxuICAgICAgICByZWFkb25seSBkaWFsb2dzOiBSZWFkb25seUFycmF5PE9ic2VydmFibGU8cmVhZG9ubHkgdW5rbm93bltdPj4sXG4gICAgICAgIEBJbmplY3QoVFVJX0lTX01PQklMRSkgcHJpdmF0ZSByZWFkb25seSBpc01vYmlsZTogYm9vbGVhbixcbiAgICAgICAgQEluamVjdChUVUlfQVNTRVJUX0VOQUJMRUQpIGVuYWJsZWQ6IGJvb2xlYW4sXG4gICAgICAgIEBJbmplY3QoVFVJX0lTX01PQklMRV9SRVMpIHJlYWRvbmx5IGlzTW9iaWxlUmVzJDogT2JzZXJ2YWJsZTxib29sZWFuPixcbiAgICAgICAgQEluamVjdChET0NVTUVOVCkge2JvZHl9OiBEb2N1bWVudCxcbiAgICAgICAgQEluamVjdChUVUlfVEhFTUUpIHRoZW1lOiBzdHJpbmcsXG4gICAgKSB7XG4gICAgICAgIHR1aUFzc2VydC5lbmFibGVkID0gZW5hYmxlZDtcbiAgICAgICAgYm9keS5zZXRBdHRyaWJ1dGUoJ2RhdGEtdHVpLXRoZW1lJywgdGhlbWUudG9Mb3dlckNhc2UoKSk7XG4gICAgfVxufVxuIl19