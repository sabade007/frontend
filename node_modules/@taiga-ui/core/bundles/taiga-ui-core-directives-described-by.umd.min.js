!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@taiga-ui/cdk"),require("@taiga-ui/core/services"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@taiga-ui/core/directives/described-by",["exports","@angular/core","@taiga-ui/cdk","@taiga-ui/core/services","rxjs","rxjs/operators"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].core=e["taiga-ui"].core||{},e["taiga-ui"].core.directives=e["taiga-ui"].core.directives||{},e["taiga-ui"].core.directives["described-by"]={}),e.ng.core,e.cdk,e["taiga-ui"].core.services,e.rxjs,e.rxjs.operators)}(this,(function(e,t,i,r,o,c){"use strict";function n(e,t,i,r){var o,c=arguments.length,n=c<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,i,r);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(n=(c<3?o(n):c>3?o(t,i,n):o(t,i))||n);return c>3&&n&&Object.defineProperty(t,i,n),n}function u(e,t){return function(i,r){t(i,r,e)}}Object.create;Object.create;var s=new t.InjectionToken("Accessible tooltip visibility stream"),a=[i.TuiDestroyService,i.TuiFocusVisibleService,{provide:s,deps:[i.TuiFocusVisibleService,t.ElementRef],useFactory:d}];function d(e,t){var r=t.nativeElement;return e.pipe(c.filter(Boolean),c.switchMapTo(o.timer(1e3).pipe(c.mapTo(!0),c.takeUntil(o.merge(i.typedFromEvent(r,"keydown"),i.typedFromEvent(r,"blur"))))),c.switchMapTo(o.merge(i.typedFromEvent(r,"keydown").pipe(c.filter((function(e){return"Escape"===e.key})),c.take(1),i.stopPropagation(),c.mapTo(!1),c.startWith(!0)),i.typedFromEvent(r,"blur").pipe(c.mapTo(!1))))).pipe(c.distinctUntilChanged())}var p=function(){function e(e,t){var i=this;this.tuiDescribedBy="",t.subscribe((function(t){i.tuiDescribedBy&&(t?e.showHintForId(i.tuiDescribedBy):e.hideHintForId(i.tuiDescribedBy))}))}return Object.defineProperty(e.prototype,"computedDescribedBy",{get:function(){return this.tuiDescribedBy?this.tuiDescribedBy+"_described-by":null},enumerable:!0,configurable:!0}),e.ctorParameters=function(){return[{type:r.TuiHintService,decorators:[{type:t.Inject,args:[r.TuiHintService]}]},{type:o.Observable,decorators:[{type:t.Inject,args:[s]}]}]},n([t.Input(),i.tuiDefaultProp()],e.prototype,"tuiDescribedBy",void 0),n([t.HostBinding("attr.aria-describedby")],e.prototype,"computedDescribedBy",null),e=n([t.Directive({selector:"[tuiDescribedBy]:not(ng-container)",providers:a}),u(0,t.Inject(r.TuiHintService)),u(1,t.Inject(s))],e)}(),y=function(){function e(){}return e=n([t.NgModule({declarations:[p],exports:[p]})],e)}();e.DESCRIBED_BY="_described-by",e.TUI_DESCRIBED_BY_PROVIDERS=a,e.TUI_DESCRIBED_BY_SHOW=s,e.TuiDescribedByDirective=p,e.TuiDescribedByModule=y,e.describedByFactory=d,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-core-directives-described-by.umd.min.js.map