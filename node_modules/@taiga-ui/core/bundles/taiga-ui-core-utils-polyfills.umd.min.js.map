{"version":3,"sources":["ng://@taiga-ui/core/utils/polyfills/inner-html.ts"],"names":["documentRef","undefined","createElementNS","innerHTML","serializer","XMLSerializer","parser","DOMParser","Object","defineProperty","SVGElement","prototype","get","result","childNode","this","firstChild","push","serializeToString","nextSibling","join","set","text","removeChild","svgDocElement","parseFromString","documentElement","ownerDocument","appendChild","importNode","e","TuiXmlParsingException"],"mappings":"ucAO0BA,GAGtB,QAAsBC,IAFVD,EAAYE,gBAAgB,6BAA8B,OAE9DC,UAAR,CAIA,IAAMC,EAAa,IAAIC,cACjBC,EAAS,IAAIC,UAEnBC,OAAOC,eAAeC,WAAWC,UAAW,YAAa,CACrDC,IAAA,WAII,IAHA,IAAMC,EAAmB,GACrBC,EAAiBC,KAAKC,WAEnBF,GACHD,EAAOI,KAAKb,EAAWc,kBAAkBJ,IACzCA,EAAYA,EAAUK,YAG1B,OAAON,EAAOO,KAAK,KAEvBC,IAAA,SAAsBC,GAClB,KAAOP,KAAKC,YACRD,KAAKQ,YAAYR,KAAKC,YAG1B,IACI,IAAMQ,EAAgBlB,EAAOmB,gBACzBH,EACA,iBACFI,gBAEEX,KAAKY,eACLZ,KAAKa,YAAYb,KAAKY,cAAcE,WAAWL,GAAe,IAEpE,MAAOM,GACL,MAAM,IAAIC,EAAAA","sourcesContent":["import {TuiXmlParsingException} from '@taiga-ui/cdk';\n\n/**\n * @deprecated\n * TODO: remove in v3.0\n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function innerHTML(documentRef: Document): void {\n    const svg = documentRef.createElementNS(`http://www.w3.org/2000/svg`, `svg`);\n\n    if (svg.innerHTML !== undefined) {\n        return;\n    }\n\n    const serializer = new XMLSerializer();\n    const parser = new DOMParser();\n\n    Object.defineProperty(SVGElement.prototype, `innerHTML`, {\n        get(this: SVGElement): string {\n            const result: string[] = [];\n            let childNode: any = this.firstChild;\n\n            while (childNode) {\n                result.push(serializer.serializeToString(childNode));\n                childNode = childNode.nextSibling;\n            }\n\n            return result.join(``);\n        },\n        set(this: SVGElement, text: string) {\n            while (this.firstChild) {\n                this.removeChild(this.firstChild);\n            }\n\n            try {\n                const svgDocElement = parser.parseFromString(\n                    text,\n                    `image/svg+xml`,\n                ).documentElement;\n\n                if (this.ownerDocument) {\n                    this.appendChild(this.ownerDocument.importNode(svgDocElement, true));\n                }\n            } catch (e) {\n                throw new TuiXmlParsingException();\n            }\n        },\n    });\n}\n"]}