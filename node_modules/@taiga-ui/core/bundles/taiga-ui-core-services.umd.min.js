!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("rxjs"),require("@ng-web-apis/common"),require("rxjs/operators"),require("@angular/router"),require("@taiga-ui/cdk"),require("@angular/platform-browser"),require("@taiga-ui/core/tokens"),require("@taiga-ui/core/utils/dom")):"function"==typeof define&&define.amd?define("@taiga-ui/core/services",["exports","@angular/core","rxjs","@ng-web-apis/common","rxjs/operators","@angular/router","@taiga-ui/cdk","@angular/platform-browser","@taiga-ui/core/tokens","@taiga-ui/core/utils/dom"],e):e(((t=t||self)["taiga-ui"]=t["taiga-ui"]||{},t["taiga-ui"].core=t["taiga-ui"].core||{},t["taiga-ui"].core.services={}),t.ng.core,t.rxjs,t.common,t.rxjs.operators,t.ng.router,t.cdk,t.ng.platformBrowser,t["taiga-ui"].core.tokens,t["taiga-ui"].core.utils.dom)}(this,(function(t,e,r,i,n,o,c,a,u,s){"use strict";var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function f(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var l=function(){return(l=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function d(t,e,r,i){var n,o=arguments.length,c=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,i);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(o<3?n(c):o>3?n(e,r,c):n(e,r))||c);return o>3&&c&&Object.defineProperty(e,r,c),c}function v(t,e){return function(r,i){e(r,i,t)}}Object.create;function h(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,n,o=r.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)c.push(i.value)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return c}Object.create;var y=function(){function t(t){this.locale=t}return t.prototype.format=function(t){return r.of(new Date(t).toLocaleTimeString(this.locale,{hour:"numeric",minute:"2-digit"}))},t.ctorParameters=function(){return[{type:String,decorators:[{type:e.Inject,args:[e.LOCALE_ID]}]}]},t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(e.LOCALE_ID))},token:t,providedIn:"root"}),t=d([e.Injectable({providedIn:"root"}),v(0,e.Inject(e.LOCALE_ID))],t)}(),I=function(t){function r(){var e=t.call(this,[])||this;return e.directives=[],e}return f(r,t),r.prototype.add=function(t){this.next(this.value.concat(t))},r.prototype.remove=function(t){this.value.includes(t)&&this.next(this.value.filter((function(e){return e!==t})))},r.prototype.register=function(t){this.directives=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}(this.directives,[t])},r.prototype.unregister=function(t){this.remove(t),this.directives=this.directives.filter((function(e){return e!==t}))},r.prototype.showHintForId=function(t){var e=this.findDirectiveWithHintId(t);e&&this.add(e)},r.prototype.hideHintForId=function(t){var e=this.findDirectiveWithHintId(t);e&&this.remove(e)},r.prototype.findDirectiveWithHintId=function(t){return this.directives.find((function(e){return e.tuiHintId===t}))},r.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new r},token:r,providedIn:"root"}),r=d([e.Injectable({providedIn:"root"})],r)}(r.BehaviorSubject),g=function(t){function o(e){var i=e.matchMedia("(prefers-color-scheme: dark)"),o=r.fromEvent(i,"change").pipe(n.startWith(null),n.map((function(){return i.matches})),n.share());return t.call(this,(function(t){return o.subscribe(t)}))||this}return f(o,t),o.ctorParameters=function(){return[{type:Window,decorators:[{type:e.Inject,args:[i.WINDOW]}]}]},o.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new o(e.ɵɵinject(i.WINDOW))},token:o,providedIn:"root"}),o=d([e.Injectable({providedIn:"root"}),v(0,e.Inject(i.WINDOW))],o)}(r.Observable),j=function(t){function a(e,i,o,a){var u=e?o.pipe(n.map((function(){return e.isActive})),n.distinctUntilChanged(),c.tuiZoneOptimized(i),n.takeUntil(a)):r.EMPTY;return t.call(this,(function(t){return u.subscribe(t)}))||this}return f(a,t),a.ctorParameters=function(){return[{type:o.RouterLinkActive,decorators:[{type:e.Optional},{type:e.Inject,args:[o.RouterLinkActive]}]},{type:e.NgZone,decorators:[{type:e.Inject,args:[e.NgZone]}]},{type:r.Observable,decorators:[{type:e.Inject,args:[i.ANIMATION_FRAME]}]},{type:c.TuiDestroyService,decorators:[{type:e.Inject,args:[c.TuiDestroyService]}]}]},a=d([e.Injectable(),v(0,e.Optional()),v(0,e.Inject(o.RouterLinkActive)),v(1,e.Inject(e.NgZone)),v(2,e.Inject(i.ANIMATION_FRAME)),v(3,e.Inject(c.TuiDestroyService))],a)}(r.Observable),m=function(){function t(t,e,i){this.tuiSanitizer=t,this.sanitizer=e,this.originals={},this.items$=new r.BehaviorSubject(new Map),this.define(i)}return t.prototype.define=function(t){var e=this,r=this.items$.value;Object.keys(t).forEach((function(i){e.defineIcon(i,t[i],r)})),this.items$.next(r)},t.prototype.getOriginal=function(t){return this.originals[t]||null},t.prototype.defineIcon=function(t,e,r){var i;if(!r.has(t)){var n=this.parseSrc(t,e);n?(r.set(t,n),this.originals=l(l({},this.originals),((i={})[t]=e,i))):c.tuiAssert.assert(!1,"Unable to parse given SVG src")}},t.prototype.parseSrc=function(t,e){return this.sanitize(s.processIcon(e,t))},t.prototype.sanitize=function(t){return this.sanitizer.bypassSecurityTrustHtml((this.tuiSanitizer?this.tuiSanitizer.sanitize(e.SecurityContext.HTML,t):this.sanitizer.sanitize(e.SecurityContext.HTML,t))||"")},t.ctorParameters=function(){return[{type:e.Sanitizer,decorators:[{type:e.Optional},{type:e.Inject,args:[u.TUI_SANITIZER]}]},{type:a.DomSanitizer,decorators:[{type:e.Inject,args:[a.DomSanitizer]}]},{type:void 0,decorators:[{type:e.Inject,args:[u.TUI_ICONS]}]}]},t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(u.TUI_SANITIZER,8),e.ɵɵinject(a.DomSanitizer),e.ɵɵinject(u.TUI_ICONS))},token:t,providedIn:"root"}),t=d([e.Injectable({providedIn:"root"}),v(0,e.Optional()),v(0,e.Inject(u.TUI_SANITIZER)),v(1,e.Inject(a.DomSanitizer)),v(2,e.Inject(u.TUI_ICONS))],t)}();t.TuiFormatDateService=y,t.TuiHintService=I,t.TuiNightThemeService=g,t.TuiRouterLinkActiveService=j,t.TuiSvgService=m,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-core-services.umd.min.js.map