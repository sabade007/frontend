!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@taiga-ui/cdk"),require("@taiga-ui/core/animations"),require("@taiga-ui/core/tokens"),require("@tinkoff/ng-polymorpheus"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@taiga-ui/core/components/notification"),require("@taiga-ui/cdk/services")):"function"==typeof define&&define.amd?define("@taiga-ui/core/components/alert",["exports","@angular/core","@taiga-ui/cdk","@taiga-ui/core/animations","@taiga-ui/core/tokens","@tinkoff/ng-polymorpheus","rxjs","rxjs/operators","@angular/common","@taiga-ui/core/components/notification","@taiga-ui/cdk/services"],e):e(((t=t||self)["taiga-ui"]=t["taiga-ui"]||{},t["taiga-ui"].core=t["taiga-ui"].core||{},t["taiga-ui"].core.components=t["taiga-ui"].core.components||{},t["taiga-ui"].core.components.alert={}),t.ng.core,t.cdk,t["taiga-ui"].core.animations,t["taiga-ui"].core.tokens,t.ngPolymorpheus,t.rxjs,t.rxjs.operators,t.ng.common,t["taiga-ui"].core.components.notification,t.services)}(this,(function(t,e,o,n,i,r,a,c,u,s,l){"use strict";var p=function(t,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)};var f=function(){return(f=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function m(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a}function d(t,e){return function(o,n){e(o,n,t)}}Object.create;Object.create;var g=function(){function t(t,e,o,n,i){this.elementRef=t,this.destroy$=e,this.options=o,this.animationOptions=n,this.item=i,this.autoClose="function"==typeof this.item.autoClose?this.item.autoClose(this.item.status):this.item.autoClose,this.animation=f({value:""},this.animationOptions)}return t.prototype.ngOnInit=function(){this.initAutoClose()},Object.defineProperty(t.prototype,"context",{get:function(){return this.calculateContext(this.item)},enumerable:!0,configurable:!0}),t.prototype.closeNotification=function(){this.item.$implicit.complete()},t.prototype.calculateContext=function(t){var e=t.$implicit;return{$implicit:t.status,data:t.data,label:t.label,closeHook:function(){e.complete()},emitHook:function(t){e.next(t)},emitAndCloseHook:function(t){e.next(t),e.complete()}}},t.prototype.initAutoClose=function(){var t=this;this.autoClose&&a.timer(o.isNumber(this.autoClose)?this.autoClose:this.options.defaultAutoCloseTime).pipe(c.takeUntil(a.fromEvent(this.elementRef.nativeElement,"mouseenter")),c.repeatWhen((function(){return a.fromEvent(t.elementRef.nativeElement,"mouseleave")})),c.takeUntil(this.destroy$)).subscribe((function(){return t.closeNotification()}))},t.ctorParameters=function(){return[{type:e.ElementRef,decorators:[{type:e.Inject,args:[e.ElementRef]}]},{type:o.TuiDestroyService,decorators:[{type:e.Inject,args:[o.TuiDestroyService]}]},{type:void 0,decorators:[{type:e.Inject,args:[i.TUI_NOTIFICATION_OPTIONS]}]},{type:void 0,decorators:[{type:e.Inject,args:[i.TUI_ANIMATION_OPTIONS]}]},{type:void 0,decorators:[{type:e.Inject,args:[r.POLYMORPHEUS_CONTEXT]}]}]},m([e.HostBinding("@tuiFadeIn"),e.HostBinding("@tuiSlideInRight"),e.HostBinding("@tuiHeightCollapse")],t.prototype,"animation",void 0),m([o.tuiPure],t.prototype,"calculateContext",null),t=m([e.Component({selector:"tui-alert",template:'<tui-notification\n    *ngIf="item.hasCloseButton; else noClose"\n    [status]="item.status"\n    [hasIcon]="item.hasIcon"\n    (close)="closeNotification()"\n>\n    <label\n        *ngIf="item.label"\n        polymorpheus-outlet\n        automation-id="tui-notification-alert__heading"\n        class="t-heading"\n        [content]="$any(item.label)"\n        [context]="context"\n    ></label>\n    <div\n        polymorpheus-outlet\n        automation-id="tui-notification-alert__content"\n        class="t-content"\n        [content]="item.content"\n        [context]="$any(context)"\n    ></div>\n</tui-notification>\n<ng-template #noClose>\n    <tui-notification\n        [status]="item.status"\n        [hasIcon]="item.hasIcon"\n    >\n        <label\n            *ngIf="item.label"\n            polymorpheus-outlet\n            automation-id="tui-notification-alert__heading"\n            class="t-heading"\n            [content]="$any(item.label)"\n            [context]="context"\n        ></label>\n        <div\n            polymorpheus-outlet\n            automation-id="tui-notification-alert__content"\n            class="t-content"\n            [content]="item.content"\n            [context]="$any(context)"\n        ></div>\n    </tui-notification>\n</ng-template>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,providers:[o.TuiDestroyService],animations:[n.tuiFadeIn,n.tuiSlideInRight,n.tuiHeightCollapse],host:{role:"alert"},styles:[":host{box-shadow:0 .5rem 1rem rgba(0,0,0,.16);display:block;border-radius:var(--tui-radius-m);width:18rem;margin:2rem 3rem 0 auto}:host-context(tui-root._mobile) :host{margin:1rem 1rem 0 auto}:host:not(:first-child){margin-top:.75rem}.t-heading{font:var(--tui-font-text-m);line-height:1.25rem;font-weight:700;margin:0}.t-content{color:var(--tui-text-01);word-wrap:break-word}.t-content:empty{display:none}"]}),d(0,e.Inject(e.ElementRef)),d(1,e.Inject(o.TuiDestroyService)),d(2,e.Inject(i.TUI_NOTIFICATION_OPTIONS)),d(3,e.Inject(i.TUI_ANIMATION_OPTIONS)),d(4,e.Inject(r.POLYMORPHEUS_CONTEXT))],t)}(),h=function(t){function n(e,o){var n=t.call(this,o)||this;return n.defaultOptions=e,n.component=new r.PolymorpheusComponent(g),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=t}p(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(n,t),n.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[i.TUI_NOTIFICATION_OPTIONS]}]},{type:o.TuiIdService,decorators:[{type:e.Inject,args:[o.TuiIdService]}]}]},n.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new n(e.ɵɵinject(i.TUI_NOTIFICATION_OPTIONS),e.ɵɵinject(l.TuiIdService))},token:n,providedIn:"root"}),n=m([e.Injectable({providedIn:"root"}),d(0,e.Inject(i.TUI_NOTIFICATION_OPTIONS)),d(1,e.Inject(o.TuiIdService))],n)}(o.AbstractTuiDialogService),I=function(){function t(t){this.alert=t}return t.prototype.show=function(t,e){return void 0===e&&(e={}),this.alert.open(t,e)},t.ctorParameters=function(){return[{type:h,decorators:[{type:e.Inject,args:[h]}]}]},t.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(h))},token:t,providedIn:"root"}),t=m([e.Injectable({providedIn:"root"}),d(0,e.Inject(h))],t)}(),y=function(){function t(){}return t=m([e.NgModule({imports:[u.CommonModule,r.PolymorpheusModule,s.TuiNotificationModule],declarations:[g],exports:[g],entryComponents:[g],providers:[{provide:o.TUI_ALERTS,useExisting:h,multi:!0}]})],t)}(),v=function(){function t(){}return t=m([e.NgModule({imports:[y]})],t)}();t.TuiAlertComponent=g,t.TuiAlertModule=y,t.TuiAlertService=h,t.TuiNotificationsModule=v,t.TuiNotificationsService=I,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-core-components-alert.umd.min.js.map