import { __decorate, __param } from "tslib";
import { Attribute, ChangeDetectionStrategy, Component, ContentChildren, Inject, Input, } from '@angular/core';
import { EMPTY_QUERY } from '@taiga-ui/cdk';
import { TUI_DOC_DEFAULT_TABS } from '../../tokens/default-tabs';
import { PAGE_PROVIDERS, PAGE_SEE_ALSO } from './page.providers';
import { TuiDocPageTabConnectorDirective } from './page-tab.directive';
// Ambient type cannot be used without dynamic https://github.com/angular/angular/issues/23395
// @dynamic
let TuiDocPageComponent = class TuiDocPageComponent {
    constructor(deprecated, defaultTabs, seeAlso) {
        this.deprecated = deprecated;
        this.defaultTabs = defaultTabs;
        this.seeAlso = seeAlso;
        this.header = '';
        this.package = '';
        this.type = '';
        this.path = '';
        this.tabConnectors = EMPTY_QUERY;
        this.activeItemIndex = NaN;
    }
    get showSeeAlso() {
        return !!this.seeAlso.length && this.activeItemIndex === 0;
    }
    getRouterLink(tab = '') {
        return `./${tab.replace(/ /g, '_')}`;
    }
};
TuiDocPageComponent.ctorParameters = () => [
    { type: String, decorators: [{ type: Attribute, args: ['deprecated',] }] },
    { type: undefined, decorators: [{ type: Inject, args: [TUI_DOC_DEFAULT_TABS,] }] },
    { type: undefined, decorators: [{ type: Inject, args: [PAGE_SEE_ALSO,] }] }
];
__decorate([
    Input()
], TuiDocPageComponent.prototype, "header", void 0);
__decorate([
    Input()
], TuiDocPageComponent.prototype, "package", void 0);
__decorate([
    Input()
], TuiDocPageComponent.prototype, "type", void 0);
__decorate([
    Input()
], TuiDocPageComponent.prototype, "path", void 0);
__decorate([
    ContentChildren(TuiDocPageTabConnectorDirective)
], TuiDocPageComponent.prototype, "tabConnectors", void 0);
TuiDocPageComponent = __decorate([
    Component({
        selector: 'tui-doc-page',
        template: "<header class=\"t-header\">\n    <h1 class=\"t-title\">\n        {{ header }}\n        <tui-tag\n            *ngIf=\"deprecated !== null\"\n            value=\"deprecated\"\n            status=\"custom\"\n            class=\"t-tag t-tag_deprecated\"\n        ></tui-tag>\n        <tui-tag\n            *ngIf=\"package\"\n            status=\"custom\"\n            class=\"t-tag t-tag_package\"\n            [value]=\"package\"\n            [autoColor]=\"true\"\n        ></tui-tag>\n    </h1>\n    <tui-tabs-with-more\n        *ngIf=\"tabConnectors.length\"\n        class=\"t-tabs\"\n        [(activeItemIndex)]=\"activeItemIndex\"\n    >\n        <ng-container *ngFor=\"let tab of tabConnectors; first as first; index as index\">\n            <ng-container *ngIf=\"first; else dynamicTab\">\n                <a\n                    *tuiTab\n                    tuiTab\n                    routerLink=\"./\"\n                    routerLinkActive\n                    [routerLinkActiveOptions]=\"{exact: true}\"\n                >\n                    {{ tab.pageTab || defaultTabs[index] }}\n                </a>\n            </ng-container>\n            <ng-template #dynamicTab>\n                <a\n                    *tuiTab\n                    tuiTab\n                    routerLinkActive\n                    [routerLink]=\"getRouterLink(tab.pageTab || defaultTabs[index])\"\n                >\n                    {{ tab.pageTab || defaultTabs[index] }}\n                </a>\n            </ng-template>\n        </ng-container>\n    </tui-tabs-with-more>\n    <tui-doc-source-code\n        class=\"t-source-code\"\n        [header]=\"header\"\n        [package]=\"package\"\n        [type]=\"type\"\n        [path]=\"path\"\n    ></tui-doc-source-code>\n</header>\n<div class=\"t-content\">\n    <ng-content></ng-content>\n    <tui-doc-see-also\n        *ngIf=\"showSeeAlso\"\n        class=\"t-see-also\"\n        [seeAlso]=\"seeAlso\"\n    ></tui-doc-see-also>\n    <ng-container *ngFor=\"let tab of tabConnectors; index as index\">\n        <ng-container\n            *ngIf=\"index === activeItemIndex\"\n            [ngTemplateOutlet]=\"tab.template\"\n        ></ng-container>\n    </ng-container>\n</div>\n",
        changeDetection: ChangeDetectionStrategy.OnPush,
        providers: PAGE_PROVIDERS,
        styles: [":host{display:flex;flex-direction:column;min-height:0;flex-basis:0;flex-grow:1}.t-header{display:flex;font:var(--tui-font-heading-3);flex-wrap:wrap;min-height:7.25rem;color:var(--tui-text-01);box-shadow:inset 0 -1px 0 0 var(--tui-base-03);padding:3.75rem 0 0;box-sizing:border-box;flex-shrink:0;margin:0 min(10vw,8.75rem)}:host-context(tui-root._mobile) .t-header{font:var(--tui-font-heading-4);min-height:4.5rem;padding:1.25rem 1.25rem 0;margin:0}.t-title{min-width:100%;font-size:inherit;margin:0}.t-tag{vertical-align:middle;text-transform:uppercase;margin-right:.5rem}.t-tag_deprecated{background-color:var(--tui-error-fill)}.t-tag.t-tag_package{color:#000}.t-tabs{flex:1;margin:1.125rem .3125rem 0 0}:host-context(tui-root._mobile) .t-tabs{margin-top:.25rem}.t-content{padding:2rem 0;margin:0 min(10vw,8.75rem)}:host-context(tui-root._mobile) .t-content{padding:2rem 1.25rem;margin:0}.t-see-also{min-width:18.75rem;width:30%;float:right;margin-left:1.5rem}:host-context(tui-root._mobile) .t-see-also{float:none;width:100%;margin:0 0 1.5rem}.t-source-code{align-self:flex-end;line-height:2.75rem}"]
    }),
    __param(0, Attribute('deprecated')),
    __param(1, Inject(TUI_DOC_DEFAULT_TABS)),
    __param(2, Inject(PAGE_SEE_ALSO))
], TuiDocPageComponent);
export { TuiDocPageComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkvYWRkb24tZG9jLyIsInNvdXJjZXMiOlsiY29tcG9uZW50cy9wYWdlL3BhZ2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUNULHVCQUF1QixFQUN2QixTQUFTLEVBQ1QsZUFBZSxFQUNmLE1BQU0sRUFDTixLQUFLLEdBRVIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUUxQyxPQUFPLEVBQUMsb0JBQW9CLEVBQUMsTUFBTSwyQkFBMkIsQ0FBQztBQUMvRCxPQUFPLEVBQUMsY0FBYyxFQUFFLGFBQWEsRUFBQyxNQUFNLGtCQUFrQixDQUFDO0FBQy9ELE9BQU8sRUFBQywrQkFBK0IsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBRXJFLDhGQUE4RjtBQUM5RixXQUFXO0FBUVgsSUFBYSxtQkFBbUIsR0FBaEMsTUFBYSxtQkFBbUI7SUFrQjVCLFlBQ3NDLFVBQXlCLEVBQ3BCLFdBQThCLEVBQ3JDLE9BQTBCO1FBRnhCLGVBQVUsR0FBVixVQUFVLENBQWU7UUFDcEIsZ0JBQVcsR0FBWCxXQUFXLENBQW1CO1FBQ3JDLFlBQU8sR0FBUCxPQUFPLENBQW1CO1FBbkI5RCxXQUFNLEdBQUcsRUFBRSxDQUFDO1FBR1osWUFBTyxHQUFHLEVBQUUsQ0FBQztRQUdiLFNBQUksR0FBRyxFQUFFLENBQUM7UUFHVixTQUFJLEdBQUcsRUFBRSxDQUFDO1FBR0Qsa0JBQWEsR0FBK0MsV0FBVyxDQUFDO1FBRWpGLG9CQUFlLEdBQUcsR0FBRyxDQUFDO0lBTW5CLENBQUM7SUFFSixJQUFJLFdBQVc7UUFDWCxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsZUFBZSxLQUFLLENBQUMsQ0FBQztJQUMvRCxDQUFDO0lBRUQsYUFBYSxDQUFDLE1BQWMsRUFBRTtRQUMxQixPQUFPLEtBQUssR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0NBQ0osQ0FBQTs7eUNBWlEsU0FBUyxTQUFDLFlBQVk7NENBQ3RCLE1BQU0sU0FBQyxvQkFBb0I7NENBQzNCLE1BQU0sU0FBQyxhQUFhOztBQW5CekI7SUFEQyxLQUFLLEVBQUU7bURBQ0k7QUFHWjtJQURDLEtBQUssRUFBRTtvREFDSztBQUdiO0lBREMsS0FBSyxFQUFFO2lEQUNFO0FBR1Y7SUFEQyxLQUFLLEVBQUU7aURBQ0U7QUFHVjtJQURDLGVBQWUsQ0FBQywrQkFBK0IsQ0FBQzswREFDZ0M7QUFkeEUsbUJBQW1CO0lBUC9CLFNBQVMsQ0FBQztRQUNQLFFBQVEsRUFBRSxjQUFjO1FBQ3hCLDJyRUFBbUM7UUFFbkMsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07UUFDL0MsU0FBUyxFQUFFLGNBQWM7O0tBQzVCLENBQUM7SUFvQk8sV0FBQSxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUE7SUFDdkIsV0FBQSxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtJQUM1QixXQUFBLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQTtHQXJCakIsbUJBQW1CLENBK0IvQjtTQS9CWSxtQkFBbUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIEF0dHJpYnV0ZSxcbiAgICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgICBDb21wb25lbnQsXG4gICAgQ29udGVudENoaWxkcmVuLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbiAgICBRdWVyeUxpc3QsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtFTVBUWV9RVUVSWX0gZnJvbSAnQHRhaWdhLXVpL2Nkayc7XG5cbmltcG9ydCB7VFVJX0RPQ19ERUZBVUxUX1RBQlN9IGZyb20gJy4uLy4uL3Rva2Vucy9kZWZhdWx0LXRhYnMnO1xuaW1wb3J0IHtQQUdFX1BST1ZJREVSUywgUEFHRV9TRUVfQUxTT30gZnJvbSAnLi9wYWdlLnByb3ZpZGVycyc7XG5pbXBvcnQge1R1aURvY1BhZ2VUYWJDb25uZWN0b3JEaXJlY3RpdmV9IGZyb20gJy4vcGFnZS10YWIuZGlyZWN0aXZlJztcblxuLy8gQW1iaWVudCB0eXBlIGNhbm5vdCBiZSB1c2VkIHdpdGhvdXQgZHluYW1pYyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyL2lzc3Vlcy8yMzM5NVxuLy8gQGR5bmFtaWNcbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndHVpLWRvYy1wYWdlJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vcGFnZS50ZW1wbGF0ZS5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9wYWdlLnN0eWxlLmxlc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBwcm92aWRlcnM6IFBBR0VfUFJPVklERVJTLFxufSlcbmV4cG9ydCBjbGFzcyBUdWlEb2NQYWdlQ29tcG9uZW50IHtcbiAgICBASW5wdXQoKVxuICAgIGhlYWRlciA9ICcnO1xuXG4gICAgQElucHV0KClcbiAgICBwYWNrYWdlID0gJyc7XG5cbiAgICBASW5wdXQoKVxuICAgIHR5cGUgPSAnJztcblxuICAgIEBJbnB1dCgpXG4gICAgcGF0aCA9ICcnO1xuXG4gICAgQENvbnRlbnRDaGlsZHJlbihUdWlEb2NQYWdlVGFiQ29ubmVjdG9yRGlyZWN0aXZlKVxuICAgIHJlYWRvbmx5IHRhYkNvbm5lY3RvcnM6IFF1ZXJ5TGlzdDxUdWlEb2NQYWdlVGFiQ29ubmVjdG9yRGlyZWN0aXZlPiA9IEVNUFRZX1FVRVJZO1xuXG4gICAgYWN0aXZlSXRlbUluZGV4ID0gTmFOO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBBdHRyaWJ1dGUoJ2RlcHJlY2F0ZWQnKSByZWFkb25seSBkZXByZWNhdGVkOiBzdHJpbmcgfCBudWxsLFxuICAgICAgICBASW5qZWN0KFRVSV9ET0NfREVGQVVMVF9UQUJTKSByZWFkb25seSBkZWZhdWx0VGFiczogcmVhZG9ubHkgc3RyaW5nW10sXG4gICAgICAgIEBJbmplY3QoUEFHRV9TRUVfQUxTTykgcmVhZG9ubHkgc2VlQWxzbzogcmVhZG9ubHkgc3RyaW5nW10sXG4gICAgKSB7fVxuXG4gICAgZ2V0IHNob3dTZWVBbHNvKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISF0aGlzLnNlZUFsc28ubGVuZ3RoICYmIHRoaXMuYWN0aXZlSXRlbUluZGV4ID09PSAwO1xuICAgIH1cblxuICAgIGdldFJvdXRlckxpbmsodGFiOiBzdHJpbmcgPSAnJyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgLi8ke3RhYi5yZXBsYWNlKC8gL2csICdfJyl9YDtcbiAgICB9XG59XG4iXX0=