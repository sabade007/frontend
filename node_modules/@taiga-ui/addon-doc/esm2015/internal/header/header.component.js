import { __decorate, __param } from "tslib";
import { ChangeDetectionStrategy, Component, Inject } from '@angular/core';
import { Router } from '@angular/router';
import { TuiSwipeService } from '@taiga-ui/cdk';
import { merge, Subject } from 'rxjs';
import { distinctUntilChanged, filter, map, mapTo, startWith } from 'rxjs/operators';
import { TUI_DOC_MENU_TEXT } from '../../tokens/i18n';
import { TUI_DOC_LOGO } from '../../tokens/logo';
let TuiDocHeaderComponent = class TuiDocHeaderComponent {
    constructor(logo, menu, router, swipes$) {
        this.logo = logo;
        this.menu = menu;
        this.router = router;
        this.swipes$ = swipes$;
        this.stream$ = new Subject();
        this.open$ = merge(this.router.events.pipe(mapTo(false)), this.stream$, this.swipes$.pipe(filter(swipe => swipe.direction === 'left' || swipe.direction === 'right'), map(swipe => swipe.direction === 'right'))).pipe(startWith(false), distinctUntilChanged());
    }
    onClick() {
        this.stream$.next(true);
    }
    onActiveZone(active) {
        if (!active) {
            this.stream$.next(false);
        }
    }
};
TuiDocHeaderComponent.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Inject, args: [TUI_DOC_LOGO,] }] },
    { type: String, decorators: [{ type: Inject, args: [TUI_DOC_MENU_TEXT,] }] },
    { type: Router, decorators: [{ type: Inject, args: [Router,] }] },
    { type: TuiSwipeService, decorators: [{ type: Inject, args: [TuiSwipeService,] }] }
];
TuiDocHeaderComponent = __decorate([
    Component({
        selector: 'header[tuiDocHeader]',
        template: "<button\n    tuiIconButton\n    icon=\"tuiIconMenuLarge\"\n    appearance=\"icon\"\n    class=\"t-menu\"\n    [title]=\"menu\"\n    (click)=\"onClick()\"\n    (tuiActiveZoneChange)=\"onActiveZone($event)\"\n>\n    <tui-doc-navigation\n        *tuiSidebar=\"!!(open$ | async)\"\n        class=\"t-navigation\"\n    ></tui-doc-navigation>\n</button>\n<div\n    polymorpheus-outlet\n    class=\"t-logo\"\n    [content]=\"logo\"\n>\n    <ng-template let-src>\n        <img\n            alt=\"Logo\"\n            class=\"t-img\"\n            [src]=\"src\"\n        />\n    </ng-template>\n</div>\n<ng-content></ng-content>\n",
        changeDetection: ChangeDetectionStrategy.OnPush,
        styles: [":host{box-shadow:0 .125rem 1rem rgba(0,0,0,.08);position:fixed;top:0;left:0;right:0;z-index:1;display:flex;height:3.9375rem;align-items:center;padding:0 1.25rem;background:var(--tui-base-01);border-bottom:1px solid var(--tui-base-03)}.t-logo{margin-right:auto;font:var(--tui-font-heading-5)}.t-img{display:block}.t-menu{margin-left:-1.25rem}@media screen and (min-width:48em){.t-menu{display:none}}.t-navigation{min-height:100%}"]
    }),
    __param(0, Inject(TUI_DOC_LOGO)),
    __param(1, Inject(TUI_DOC_MENU_TEXT)),
    __param(2, Inject(Router)),
    __param(3, Inject(TuiSwipeService))
], TuiDocHeaderComponent);
export { TuiDocHeaderComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0YWlnYS11aS9hZGRvbi1kb2MvIiwic291cmNlcyI6WyJpbnRlcm5hbC9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLHVCQUF1QixFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDekUsT0FBTyxFQUFDLE1BQU0sRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQ3ZDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFFOUMsT0FBTyxFQUFDLEtBQUssRUFBRSxPQUFPLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFDcEMsT0FBTyxFQUFDLG9CQUFvQixFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRW5GLE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLG1CQUFtQixDQUFDO0FBQ3BELE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxtQkFBbUIsQ0FBQztBQVEvQyxJQUFhLHFCQUFxQixHQUFsQyxNQUFhLHFCQUFxQjtJQVk5QixZQUNtQyxJQUF5QixFQUNwQixJQUFZLEVBQ2YsTUFBYyxFQUNMLE9BQXdCO1FBSG5DLFNBQUksR0FBSixJQUFJLENBQXFCO1FBQ3BCLFNBQUksR0FBSixJQUFJLENBQVE7UUFDZixXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQ0wsWUFBTyxHQUFQLE9BQU8sQ0FBaUI7UUFmckQsWUFBTyxHQUFHLElBQUksT0FBTyxFQUFXLENBQUM7UUFFekMsVUFBSyxHQUFHLEtBQUssQ0FDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUNyQyxJQUFJLENBQUMsT0FBTyxFQUNaLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUNiLE1BQU0sQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxTQUFTLEtBQUssTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLEtBQUssT0FBTyxDQUFDLEVBQzFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxTQUFTLEtBQUssT0FBTyxDQUFDLENBQzVDLENBQ0osQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLG9CQUFvQixFQUFFLENBQUMsQ0FBQztJQU85QyxDQUFDO0lBRUosT0FBTztRQUNILElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCxZQUFZLENBQUMsTUFBZTtRQUN4QixJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDNUI7SUFDTCxDQUFDO0NBQ0osQ0FBQTs7NENBZlEsTUFBTSxTQUFDLFlBQVk7eUNBQ25CLE1BQU0sU0FBQyxpQkFBaUI7WUFDZ0IsTUFBTSx1QkFBOUMsTUFBTSxTQUFDLE1BQU07WUFDcUMsZUFBZSx1QkFBakUsTUFBTSxTQUFDLGVBQWU7O0FBaEJsQixxQkFBcUI7SUFOakMsU0FBUyxDQUFDO1FBQ1AsUUFBUSxFQUFFLHNCQUFzQjtRQUNoQyx1bkJBQXFDO1FBRXJDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNOztLQUNsRCxDQUFDO0lBY08sV0FBQSxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUE7SUFDcEIsV0FBQSxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQTtJQUN6QixXQUFBLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUNkLFdBQUEsTUFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFBO0dBaEJuQixxQkFBcUIsQ0E0QmpDO1NBNUJZLHFCQUFxQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgSW5qZWN0fSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7Um91dGVyfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHtUdWlTd2lwZVNlcnZpY2V9IGZyb20gJ0B0YWlnYS11aS9jZGsnO1xuaW1wb3J0IHtQb2x5bW9ycGhldXNDb250ZW50fSBmcm9tICdAdGlua29mZi9uZy1wb2x5bW9ycGhldXMnO1xuaW1wb3J0IHttZXJnZSwgU3ViamVjdH0gZnJvbSAncnhqcyc7XG5pbXBvcnQge2Rpc3RpbmN0VW50aWxDaGFuZ2VkLCBmaWx0ZXIsIG1hcCwgbWFwVG8sIHN0YXJ0V2l0aH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQge1RVSV9ET0NfTUVOVV9URVhUfSBmcm9tICcuLi8uLi90b2tlbnMvaTE4bic7XG5pbXBvcnQge1RVSV9ET0NfTE9HT30gZnJvbSAnLi4vLi4vdG9rZW5zL2xvZ28nO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2hlYWRlclt0dWlEb2NIZWFkZXJdJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vaGVhZGVyLnRlbXBsYXRlLmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2hlYWRlci5zdHlsZS5sZXNzJ10sXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIFR1aURvY0hlYWRlckNvbXBvbmVudCB7XG4gICAgcHJpdmF0ZSByZWFkb25seSBzdHJlYW0kID0gbmV3IFN1YmplY3Q8Ym9vbGVhbj4oKTtcblxuICAgIHJlYWRvbmx5IG9wZW4kID0gbWVyZ2UoXG4gICAgICAgIHRoaXMucm91dGVyLmV2ZW50cy5waXBlKG1hcFRvKGZhbHNlKSksXG4gICAgICAgIHRoaXMuc3RyZWFtJCxcbiAgICAgICAgdGhpcy5zd2lwZXMkLnBpcGUoXG4gICAgICAgICAgICBmaWx0ZXIoc3dpcGUgPT4gc3dpcGUuZGlyZWN0aW9uID09PSAnbGVmdCcgfHwgc3dpcGUuZGlyZWN0aW9uID09PSAncmlnaHQnKSxcbiAgICAgICAgICAgIG1hcChzd2lwZSA9PiBzd2lwZS5kaXJlY3Rpb24gPT09ICdyaWdodCcpLFxuICAgICAgICApLFxuICAgICkucGlwZShzdGFydFdpdGgoZmFsc2UpLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBASW5qZWN0KFRVSV9ET0NfTE9HTykgcmVhZG9ubHkgbG9nbzogUG9seW1vcnBoZXVzQ29udGVudCxcbiAgICAgICAgQEluamVjdChUVUlfRE9DX01FTlVfVEVYVCkgcmVhZG9ubHkgbWVudTogc3RyaW5nLFxuICAgICAgICBASW5qZWN0KFJvdXRlcikgcHJpdmF0ZSByZWFkb25seSByb3V0ZXI6IFJvdXRlcixcbiAgICAgICAgQEluamVjdChUdWlTd2lwZVNlcnZpY2UpIHByaXZhdGUgcmVhZG9ubHkgc3dpcGVzJDogVHVpU3dpcGVTZXJ2aWNlLFxuICAgICkge31cblxuICAgIG9uQ2xpY2soKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc3RyZWFtJC5uZXh0KHRydWUpO1xuICAgIH1cblxuICAgIG9uQWN0aXZlWm9uZShhY3RpdmU6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICAgICAgaWYgKCFhY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuc3RyZWFtJC5uZXh0KGZhbHNlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdfQ==