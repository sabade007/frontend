import { __decorate, __param } from "tslib";
import { ChangeDetectionStrategy, Component, Inject } from '@angular/core';
import { Router } from '@angular/router';
import { TuiSwipeService } from '@taiga-ui/cdk';
import { merge, Subject } from 'rxjs';
import { distinctUntilChanged, filter, map, mapTo, startWith } from 'rxjs/operators';
import { TUI_DOC_MENU_TEXT } from '../../tokens/i18n';
import { TUI_DOC_LOGO } from '../../tokens/logo';
var TuiDocHeaderComponent = /** @class */ (function () {
    function TuiDocHeaderComponent(logo, menu, router, swipes$) {
        this.logo = logo;
        this.menu = menu;
        this.router = router;
        this.swipes$ = swipes$;
        this.stream$ = new Subject();
        this.open$ = merge(this.router.events.pipe(mapTo(false)), this.stream$, this.swipes$.pipe(filter(function (swipe) { return swipe.direction === 'left' || swipe.direction === 'right'; }), map(function (swipe) { return swipe.direction === 'right'; }))).pipe(startWith(false), distinctUntilChanged());
    }
    TuiDocHeaderComponent.prototype.onClick = function () {
        this.stream$.next(true);
    };
    TuiDocHeaderComponent.prototype.onActiveZone = function (active) {
        if (!active) {
            this.stream$.next(false);
        }
    };
    TuiDocHeaderComponent.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [TUI_DOC_LOGO,] }] },
        { type: String, decorators: [{ type: Inject, args: [TUI_DOC_MENU_TEXT,] }] },
        { type: Router, decorators: [{ type: Inject, args: [Router,] }] },
        { type: TuiSwipeService, decorators: [{ type: Inject, args: [TuiSwipeService,] }] }
    ]; };
    TuiDocHeaderComponent = __decorate([
        Component({
            selector: 'header[tuiDocHeader]',
            template: "<button\n    tuiIconButton\n    icon=\"tuiIconMenuLarge\"\n    appearance=\"icon\"\n    class=\"t-menu\"\n    [title]=\"menu\"\n    (click)=\"onClick()\"\n    (tuiActiveZoneChange)=\"onActiveZone($event)\"\n>\n    <tui-doc-navigation\n        *tuiSidebar=\"!!(open$ | async)\"\n        class=\"t-navigation\"\n    ></tui-doc-navigation>\n</button>\n<div\n    polymorpheus-outlet\n    class=\"t-logo\"\n    [content]=\"logo\"\n>\n    <ng-template let-src>\n        <img\n            alt=\"Logo\"\n            class=\"t-img\"\n            [src]=\"src\"\n        />\n    </ng-template>\n</div>\n<ng-content></ng-content>\n",
            changeDetection: ChangeDetectionStrategy.OnPush,
            styles: [":host{box-shadow:0 .125rem 1rem rgba(0,0,0,.08);position:fixed;top:0;left:0;right:0;z-index:1;display:flex;height:3.9375rem;align-items:center;padding:0 1.25rem;background:var(--tui-base-01);border-bottom:1px solid var(--tui-base-03)}.t-logo{margin-right:auto;font:var(--tui-font-heading-5)}.t-img{display:block}.t-menu{margin-left:-1.25rem}@media screen and (min-width:48em){.t-menu{display:none}}.t-navigation{min-height:100%}"]
        }),
        __param(0, Inject(TUI_DOC_LOGO)),
        __param(1, Inject(TUI_DOC_MENU_TEXT)),
        __param(2, Inject(Router)),
        __param(3, Inject(TuiSwipeService))
    ], TuiDocHeaderComponent);
    return TuiDocHeaderComponent;
}());
export { TuiDocHeaderComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVhZGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0YWlnYS11aS9hZGRvbi1kb2MvIiwic291cmNlcyI6WyJpbnRlcm5hbC9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLHVCQUF1QixFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFDekUsT0FBTyxFQUFDLE1BQU0sRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBQ3ZDLE9BQU8sRUFBQyxlQUFlLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFFOUMsT0FBTyxFQUFDLEtBQUssRUFBRSxPQUFPLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFDcEMsT0FBTyxFQUFDLG9CQUFvQixFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRW5GLE9BQU8sRUFBQyxpQkFBaUIsRUFBQyxNQUFNLG1CQUFtQixDQUFDO0FBQ3BELE9BQU8sRUFBQyxZQUFZLEVBQUMsTUFBTSxtQkFBbUIsQ0FBQztBQVEvQztJQVlJLCtCQUNtQyxJQUF5QixFQUNwQixJQUFZLEVBQ2YsTUFBYyxFQUNMLE9BQXdCO1FBSG5DLFNBQUksR0FBSixJQUFJLENBQXFCO1FBQ3BCLFNBQUksR0FBSixJQUFJLENBQVE7UUFDZixXQUFNLEdBQU4sTUFBTSxDQUFRO1FBQ0wsWUFBTyxHQUFQLE9BQU8sQ0FBaUI7UUFmckQsWUFBTyxHQUFHLElBQUksT0FBTyxFQUFXLENBQUM7UUFFekMsVUFBSyxHQUFHLEtBQUssQ0FDbEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUNyQyxJQUFJLENBQUMsT0FBTyxFQUNaLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUNiLE1BQU0sQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssQ0FBQyxTQUFTLEtBQUssTUFBTSxJQUFJLEtBQUssQ0FBQyxTQUFTLEtBQUssT0FBTyxFQUF6RCxDQUF5RCxDQUFDLEVBQzFFLEdBQUcsQ0FBQyxVQUFBLEtBQUssSUFBSSxPQUFBLEtBQUssQ0FBQyxTQUFTLEtBQUssT0FBTyxFQUEzQixDQUEyQixDQUFDLENBQzVDLENBQ0osQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxFQUFFLG9CQUFvQixFQUFFLENBQUMsQ0FBQztJQU85QyxDQUFDO0lBRUosdUNBQU8sR0FBUDtRQUNJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFFRCw0Q0FBWSxHQUFaLFVBQWEsTUFBZTtRQUN4QixJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ1QsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7U0FDNUI7SUFDTCxDQUFDOztnREFkSSxNQUFNLFNBQUMsWUFBWTs2Q0FDbkIsTUFBTSxTQUFDLGlCQUFpQjtnQkFDZ0IsTUFBTSx1QkFBOUMsTUFBTSxTQUFDLE1BQU07Z0JBQ3FDLGVBQWUsdUJBQWpFLE1BQU0sU0FBQyxlQUFlOztJQWhCbEIscUJBQXFCO1FBTmpDLFNBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxzQkFBc0I7WUFDaEMsdW5CQUFxQztZQUVyQyxlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTs7U0FDbEQsQ0FBQztRQWNPLFdBQUEsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFBO1FBQ3BCLFdBQUEsTUFBTSxDQUFDLGlCQUFpQixDQUFDLENBQUE7UUFDekIsV0FBQSxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDZCxXQUFBLE1BQU0sQ0FBQyxlQUFlLENBQUMsQ0FBQTtPQWhCbkIscUJBQXFCLENBNEJqQztJQUFELDRCQUFDO0NBQUEsQUE1QkQsSUE0QkM7U0E1QlkscUJBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBJbmplY3R9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtSb3V0ZXJ9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQge1R1aVN3aXBlU2VydmljZX0gZnJvbSAnQHRhaWdhLXVpL2Nkayc7XG5pbXBvcnQge1BvbHltb3JwaGV1c0NvbnRlbnR9IGZyb20gJ0B0aW5rb2ZmL25nLXBvbHltb3JwaGV1cyc7XG5pbXBvcnQge21lcmdlLCBTdWJqZWN0fSBmcm9tICdyeGpzJztcbmltcG9ydCB7ZGlzdGluY3RVbnRpbENoYW5nZWQsIGZpbHRlciwgbWFwLCBtYXBUbywgc3RhcnRXaXRofSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCB7VFVJX0RPQ19NRU5VX1RFWFR9IGZyb20gJy4uLy4uL3Rva2Vucy9pMThuJztcbmltcG9ydCB7VFVJX0RPQ19MT0dPfSBmcm9tICcuLi8uLi90b2tlbnMvbG9nbyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnaGVhZGVyW3R1aURvY0hlYWRlcl0nLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9oZWFkZXIudGVtcGxhdGUuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vaGVhZGVyLnN0eWxlLmxlc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgVHVpRG9jSGVhZGVyQ29tcG9uZW50IHtcbiAgICBwcml2YXRlIHJlYWRvbmx5IHN0cmVhbSQgPSBuZXcgU3ViamVjdDxib29sZWFuPigpO1xuXG4gICAgcmVhZG9ubHkgb3BlbiQgPSBtZXJnZShcbiAgICAgICAgdGhpcy5yb3V0ZXIuZXZlbnRzLnBpcGUobWFwVG8oZmFsc2UpKSxcbiAgICAgICAgdGhpcy5zdHJlYW0kLFxuICAgICAgICB0aGlzLnN3aXBlcyQucGlwZShcbiAgICAgICAgICAgIGZpbHRlcihzd2lwZSA9PiBzd2lwZS5kaXJlY3Rpb24gPT09ICdsZWZ0JyB8fCBzd2lwZS5kaXJlY3Rpb24gPT09ICdyaWdodCcpLFxuICAgICAgICAgICAgbWFwKHN3aXBlID0+IHN3aXBlLmRpcmVjdGlvbiA9PT0gJ3JpZ2h0JyksXG4gICAgICAgICksXG4gICAgKS5waXBlKHN0YXJ0V2l0aChmYWxzZSksIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCkpO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBJbmplY3QoVFVJX0RPQ19MT0dPKSByZWFkb25seSBsb2dvOiBQb2x5bW9ycGhldXNDb250ZW50LFxuICAgICAgICBASW5qZWN0KFRVSV9ET0NfTUVOVV9URVhUKSByZWFkb25seSBtZW51OiBzdHJpbmcsXG4gICAgICAgIEBJbmplY3QoUm91dGVyKSBwcml2YXRlIHJlYWRvbmx5IHJvdXRlcjogUm91dGVyLFxuICAgICAgICBASW5qZWN0KFR1aVN3aXBlU2VydmljZSkgcHJpdmF0ZSByZWFkb25seSBzd2lwZXMkOiBUdWlTd2lwZVNlcnZpY2UsXG4gICAgKSB7fVxuXG4gICAgb25DbGljaygpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5zdHJlYW0kLm5leHQodHJ1ZSk7XG4gICAgfVxuXG4gICAgb25BY3RpdmVab25lKGFjdGl2ZTogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBpZiAoIWFjdGl2ZSkge1xuICAgICAgICAgICAgdGhpcy5zdHJlYW0kLm5leHQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl19