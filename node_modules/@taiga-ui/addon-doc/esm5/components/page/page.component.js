import { __decorate, __param } from "tslib";
import { Attribute, ChangeDetectionStrategy, Component, ContentChildren, Inject, Input, } from '@angular/core';
import { EMPTY_QUERY } from '@taiga-ui/cdk';
import { TUI_DOC_DEFAULT_TABS } from '../../tokens/default-tabs';
import { PAGE_PROVIDERS, PAGE_SEE_ALSO } from './page.providers';
import { TuiDocPageTabConnectorDirective } from './page-tab.directive';
// Ambient type cannot be used without dynamic https://github.com/angular/angular/issues/23395
// @dynamic
var TuiDocPageComponent = /** @class */ (function () {
    function TuiDocPageComponent(deprecated, defaultTabs, seeAlso) {
        this.deprecated = deprecated;
        this.defaultTabs = defaultTabs;
        this.seeAlso = seeAlso;
        this.header = '';
        this.package = '';
        this.type = '';
        this.path = '';
        this.tabConnectors = EMPTY_QUERY;
        this.activeItemIndex = NaN;
    }
    Object.defineProperty(TuiDocPageComponent.prototype, "showSeeAlso", {
        get: function () {
            return !!this.seeAlso.length && this.activeItemIndex === 0;
        },
        enumerable: true,
        configurable: true
    });
    TuiDocPageComponent.prototype.getRouterLink = function (tab) {
        if (tab === void 0) { tab = ''; }
        return "./" + tab.replace(/ /g, '_');
    };
    TuiDocPageComponent.ctorParameters = function () { return [
        { type: String, decorators: [{ type: Attribute, args: ['deprecated',] }] },
        { type: undefined, decorators: [{ type: Inject, args: [TUI_DOC_DEFAULT_TABS,] }] },
        { type: undefined, decorators: [{ type: Inject, args: [PAGE_SEE_ALSO,] }] }
    ]; };
    __decorate([
        Input()
    ], TuiDocPageComponent.prototype, "header", void 0);
    __decorate([
        Input()
    ], TuiDocPageComponent.prototype, "package", void 0);
    __decorate([
        Input()
    ], TuiDocPageComponent.prototype, "type", void 0);
    __decorate([
        Input()
    ], TuiDocPageComponent.prototype, "path", void 0);
    __decorate([
        ContentChildren(TuiDocPageTabConnectorDirective)
    ], TuiDocPageComponent.prototype, "tabConnectors", void 0);
    TuiDocPageComponent = __decorate([
        Component({
            selector: 'tui-doc-page',
            template: "<header class=\"t-header\">\n    <h1 class=\"t-title\">\n        {{ header }}\n        <tui-tag\n            *ngIf=\"deprecated !== null\"\n            value=\"deprecated\"\n            status=\"custom\"\n            class=\"t-tag t-tag_deprecated\"\n        ></tui-tag>\n        <tui-tag\n            *ngIf=\"package\"\n            status=\"custom\"\n            class=\"t-tag t-tag_package\"\n            [value]=\"package\"\n            [autoColor]=\"true\"\n        ></tui-tag>\n    </h1>\n    <tui-tabs-with-more\n        *ngIf=\"tabConnectors.length\"\n        class=\"t-tabs\"\n        [(activeItemIndex)]=\"activeItemIndex\"\n    >\n        <ng-container *ngFor=\"let tab of tabConnectors; first as first; index as index\">\n            <ng-container *ngIf=\"first; else dynamicTab\">\n                <a\n                    *tuiTab\n                    tuiTab\n                    routerLink=\"./\"\n                    routerLinkActive\n                    [routerLinkActiveOptions]=\"{exact: true}\"\n                >\n                    {{ tab.pageTab || defaultTabs[index] }}\n                </a>\n            </ng-container>\n            <ng-template #dynamicTab>\n                <a\n                    *tuiTab\n                    tuiTab\n                    routerLinkActive\n                    [routerLink]=\"getRouterLink(tab.pageTab || defaultTabs[index])\"\n                >\n                    {{ tab.pageTab || defaultTabs[index] }}\n                </a>\n            </ng-template>\n        </ng-container>\n    </tui-tabs-with-more>\n    <tui-doc-source-code\n        class=\"t-source-code\"\n        [header]=\"header\"\n        [package]=\"package\"\n        [type]=\"type\"\n        [path]=\"path\"\n    ></tui-doc-source-code>\n</header>\n<div class=\"t-content\">\n    <ng-content></ng-content>\n    <tui-doc-see-also\n        *ngIf=\"showSeeAlso\"\n        class=\"t-see-also\"\n        [seeAlso]=\"seeAlso\"\n    ></tui-doc-see-also>\n    <ng-container *ngFor=\"let tab of tabConnectors; index as index\">\n        <ng-container\n            *ngIf=\"index === activeItemIndex\"\n            [ngTemplateOutlet]=\"tab.template\"\n        ></ng-container>\n    </ng-container>\n</div>\n",
            changeDetection: ChangeDetectionStrategy.OnPush,
            providers: PAGE_PROVIDERS,
            styles: [":host{display:flex;flex-direction:column;min-height:0;flex-basis:0;flex-grow:1}.t-header{display:flex;font:var(--tui-font-heading-3);flex-wrap:wrap;min-height:7.25rem;color:var(--tui-text-01);box-shadow:inset 0 -1px 0 0 var(--tui-base-03);padding:3.75rem 0 0;box-sizing:border-box;flex-shrink:0;margin:0 min(10vw,8.75rem)}:host-context(tui-root._mobile) .t-header{font:var(--tui-font-heading-4);min-height:4.5rem;padding:1.25rem 1.25rem 0;margin:0}.t-title{min-width:100%;font-size:inherit;margin:0}.t-tag{vertical-align:middle;text-transform:uppercase;margin-right:.5rem}.t-tag_deprecated{background-color:var(--tui-error-fill)}.t-tag.t-tag_package{color:#000}.t-tabs{flex:1;margin:1.125rem .3125rem 0 0}:host-context(tui-root._mobile) .t-tabs{margin-top:.25rem}.t-content{padding:2rem 0;margin:0 min(10vw,8.75rem)}:host-context(tui-root._mobile) .t-content{padding:2rem 1.25rem;margin:0}.t-see-also{min-width:18.75rem;width:30%;float:right;margin-left:1.5rem}:host-context(tui-root._mobile) .t-see-also{float:none;width:100%;margin:0 0 1.5rem}.t-source-code{align-self:flex-end;line-height:2.75rem}"]
        }),
        __param(0, Attribute('deprecated')),
        __param(1, Inject(TUI_DOC_DEFAULT_TABS)),
        __param(2, Inject(PAGE_SEE_ALSO))
    ], TuiDocPageComponent);
    return TuiDocPageComponent;
}());
export { TuiDocPageComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkvYWRkb24tZG9jLyIsInNvdXJjZXMiOlsiY29tcG9uZW50cy9wYWdlL3BhZ2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUNULHVCQUF1QixFQUN2QixTQUFTLEVBQ1QsZUFBZSxFQUNmLE1BQU0sRUFDTixLQUFLLEdBRVIsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFDLFdBQVcsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUUxQyxPQUFPLEVBQUMsb0JBQW9CLEVBQUMsTUFBTSwyQkFBMkIsQ0FBQztBQUMvRCxPQUFPLEVBQUMsY0FBYyxFQUFFLGFBQWEsRUFBQyxNQUFNLGtCQUFrQixDQUFDO0FBQy9ELE9BQU8sRUFBQywrQkFBK0IsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBRXJFLDhGQUE4RjtBQUM5RixXQUFXO0FBUVg7SUFrQkksNkJBQ3NDLFVBQXlCLEVBQ3BCLFdBQThCLEVBQ3JDLE9BQTBCO1FBRnhCLGVBQVUsR0FBVixVQUFVLENBQWU7UUFDcEIsZ0JBQVcsR0FBWCxXQUFXLENBQW1CO1FBQ3JDLFlBQU8sR0FBUCxPQUFPLENBQW1CO1FBbkI5RCxXQUFNLEdBQUcsRUFBRSxDQUFDO1FBR1osWUFBTyxHQUFHLEVBQUUsQ0FBQztRQUdiLFNBQUksR0FBRyxFQUFFLENBQUM7UUFHVixTQUFJLEdBQUcsRUFBRSxDQUFDO1FBR0Qsa0JBQWEsR0FBK0MsV0FBVyxDQUFDO1FBRWpGLG9CQUFlLEdBQUcsR0FBRyxDQUFDO0lBTW5CLENBQUM7SUFFSixzQkFBSSw0Q0FBVzthQUFmO1lBQ0ksT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDLGVBQWUsS0FBSyxDQUFDLENBQUM7UUFDL0QsQ0FBQzs7O09BQUE7SUFFRCwyQ0FBYSxHQUFiLFVBQWMsR0FBZ0I7UUFBaEIsb0JBQUEsRUFBQSxRQUFnQjtRQUMxQixPQUFPLE9BQUssR0FBRyxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsR0FBRyxDQUFHLENBQUM7SUFDekMsQ0FBQzs7NkNBWEksU0FBUyxTQUFDLFlBQVk7Z0RBQ3RCLE1BQU0sU0FBQyxvQkFBb0I7Z0RBQzNCLE1BQU0sU0FBQyxhQUFhOztJQW5CekI7UUFEQyxLQUFLLEVBQUU7dURBQ0k7SUFHWjtRQURDLEtBQUssRUFBRTt3REFDSztJQUdiO1FBREMsS0FBSyxFQUFFO3FEQUNFO0lBR1Y7UUFEQyxLQUFLLEVBQUU7cURBQ0U7SUFHVjtRQURDLGVBQWUsQ0FBQywrQkFBK0IsQ0FBQzs4REFDZ0M7SUFkeEUsbUJBQW1CO1FBUC9CLFNBQVMsQ0FBQztZQUNQLFFBQVEsRUFBRSxjQUFjO1lBQ3hCLDJyRUFBbUM7WUFFbkMsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07WUFDL0MsU0FBUyxFQUFFLGNBQWM7O1NBQzVCLENBQUM7UUFvQk8sV0FBQSxTQUFTLENBQUMsWUFBWSxDQUFDLENBQUE7UUFDdkIsV0FBQSxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtRQUM1QixXQUFBLE1BQU0sQ0FBQyxhQUFhLENBQUMsQ0FBQTtPQXJCakIsbUJBQW1CLENBK0IvQjtJQUFELDBCQUFDO0NBQUEsQUEvQkQsSUErQkM7U0EvQlksbUJBQW1CIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBBdHRyaWJ1dGUsXG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ29tcG9uZW50LFxuICAgIENvbnRlbnRDaGlsZHJlbixcbiAgICBJbmplY3QsXG4gICAgSW5wdXQsXG4gICAgUXVlcnlMaXN0LFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7RU1QVFlfUVVFUll9IGZyb20gJ0B0YWlnYS11aS9jZGsnO1xuXG5pbXBvcnQge1RVSV9ET0NfREVGQVVMVF9UQUJTfSBmcm9tICcuLi8uLi90b2tlbnMvZGVmYXVsdC10YWJzJztcbmltcG9ydCB7UEFHRV9QUk9WSURFUlMsIFBBR0VfU0VFX0FMU099IGZyb20gJy4vcGFnZS5wcm92aWRlcnMnO1xuaW1wb3J0IHtUdWlEb2NQYWdlVGFiQ29ubmVjdG9yRGlyZWN0aXZlfSBmcm9tICcuL3BhZ2UtdGFiLmRpcmVjdGl2ZSc7XG5cbi8vIEFtYmllbnQgdHlwZSBjYW5ub3QgYmUgdXNlZCB3aXRob3V0IGR5bmFtaWMgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci9pc3N1ZXMvMjMzOTVcbi8vIEBkeW5hbWljXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3R1aS1kb2MtcGFnZScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3BhZ2UudGVtcGxhdGUuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vcGFnZS5zdHlsZS5sZXNzJ10sXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgcHJvdmlkZXJzOiBQQUdFX1BST1ZJREVSUyxcbn0pXG5leHBvcnQgY2xhc3MgVHVpRG9jUGFnZUNvbXBvbmVudCB7XG4gICAgQElucHV0KClcbiAgICBoZWFkZXIgPSAnJztcblxuICAgIEBJbnB1dCgpXG4gICAgcGFja2FnZSA9ICcnO1xuXG4gICAgQElucHV0KClcbiAgICB0eXBlID0gJyc7XG5cbiAgICBASW5wdXQoKVxuICAgIHBhdGggPSAnJztcblxuICAgIEBDb250ZW50Q2hpbGRyZW4oVHVpRG9jUGFnZVRhYkNvbm5lY3RvckRpcmVjdGl2ZSlcbiAgICByZWFkb25seSB0YWJDb25uZWN0b3JzOiBRdWVyeUxpc3Q8VHVpRG9jUGFnZVRhYkNvbm5lY3RvckRpcmVjdGl2ZT4gPSBFTVBUWV9RVUVSWTtcblxuICAgIGFjdGl2ZUl0ZW1JbmRleCA9IE5hTjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBAQXR0cmlidXRlKCdkZXByZWNhdGVkJykgcmVhZG9ubHkgZGVwcmVjYXRlZDogc3RyaW5nIHwgbnVsbCxcbiAgICAgICAgQEluamVjdChUVUlfRE9DX0RFRkFVTFRfVEFCUykgcmVhZG9ubHkgZGVmYXVsdFRhYnM6IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgICAgICBASW5qZWN0KFBBR0VfU0VFX0FMU08pIHJlYWRvbmx5IHNlZUFsc286IHJlYWRvbmx5IHN0cmluZ1tdLFxuICAgICkge31cblxuICAgIGdldCBzaG93U2VlQWxzbygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5zZWVBbHNvLmxlbmd0aCAmJiB0aGlzLmFjdGl2ZUl0ZW1JbmRleCA9PT0gMDtcbiAgICB9XG5cbiAgICBnZXRSb3V0ZXJMaW5rKHRhYjogc3RyaW5nID0gJycpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gYC4vJHt0YWIucmVwbGFjZSgvIC9nLCAnXycpfWA7XG4gICAgfVxufVxuIl19