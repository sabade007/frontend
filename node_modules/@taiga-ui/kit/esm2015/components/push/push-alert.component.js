import { __decorate, __param } from "tslib";
import { ChangeDetectionStrategy, Component, HostBinding, Inject } from '@angular/core';
import { TUI_ANIMATION_OPTIONS, tuiFadeIn, tuiHeightCollapse, tuiSlideInRight, } from '@taiga-ui/core';
import { POLYMORPHEUS_CONTEXT } from '@tinkoff/ng-polymorpheus';
import { TuiPushAlertDirective } from './push-alert.directive';
let TuiPushAlertComponent = class TuiPushAlertComponent {
    constructor(options, context) {
        this.options = options;
        this.context = context;
        this.animation = Object.assign({ value: '' }, this.options);
    }
    get isDirective() {
        return this.context.content instanceof TuiPushAlertDirective;
    }
};
TuiPushAlertComponent.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Inject, args: [TUI_ANIMATION_OPTIONS,] }] },
    { type: undefined, decorators: [{ type: Inject, args: [POLYMORPHEUS_CONTEXT,] }] }
];
__decorate([
    HostBinding('@tuiFadeIn'),
    HostBinding('@tuiSlideInRight'),
    HostBinding('@tuiHeightCollapse')
], TuiPushAlertComponent.prototype, "animation", void 0);
TuiPushAlertComponent = __decorate([
    Component({
        selector: 'tui-push-alert',
        template: "<tui-push\n    *ngIf=\"!isDirective; else content\"\n    [heading]=\"context.heading\"\n    [type]=\"context.type\"\n    [timestamp]=\"context.timestamp\"\n    (close)=\"context.$implicit.complete()\"\n>\n    <img\n        *ngIf=\"context.image\"\n        alt=\"\"\n        [src]=\"context.image\"\n    />\n    <tui-svg\n        *ngIf=\"context.icon\"\n        [style.color]=\"context.iconColor\"\n        [src]=\"context.icon\"\n    ></tui-svg>\n    <div\n        polymorpheus-outlet\n        [content]=\"context.content\"\n    ></div>\n    <button\n        *ngIf=\"context.buttons.length > 1\"\n        tuiButton\n        (click)=\"context.$implicit.next(context.buttons[0])\"\n    >\n        {{ context.buttons[0] }}\n    </button>\n    <button\n        *ngIf=\"context.buttons.length\"\n        tuiLink\n        (click)=\"context.$implicit.next(context.buttons[context.buttons.length - 1])\"\n    >\n        {{ context.buttons[context.buttons.length - 1] }}\n    </button>\n</tui-push>\n<ng-template #content>\n    <div\n        polymorpheus-outlet\n        [content]=\"context.content\"\n    ></div>\n</ng-template>\n",
        changeDetection: ChangeDetectionStrategy.OnPush,
        animations: [tuiFadeIn, tuiSlideInRight, tuiHeightCollapse],
        host: { role: 'alert' },
        styles: [":host{max-width:calc(100% - 2rem);margin:0 1rem 1rem auto}:host:first-child{margin-top:auto}"]
    }),
    __param(0, Inject(TUI_ANIMATION_OPTIONS)),
    __param(1, Inject(POLYMORPHEUS_CONTEXT))
], TuiPushAlertComponent);
export { TuiPushAlertComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVzaC1hbGVydC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkva2l0L2NvbXBvbmVudHMvcHVzaC8iLCJzb3VyY2VzIjpbInB1c2gtYWxlcnQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLEVBQUMsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFFdEYsT0FBTyxFQUNILHFCQUFxQixFQUNyQixTQUFTLEVBQ1QsaUJBQWlCLEVBQ2pCLGVBQWUsR0FDbEIsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUMsb0JBQW9CLEVBQUMsTUFBTSwwQkFBMEIsQ0FBQztBQUc5RCxPQUFPLEVBQUMscUJBQXFCLEVBQUMsTUFBTSx3QkFBd0IsQ0FBQztBQVU3RCxJQUFhLHFCQUFxQixHQUFsQyxNQUFhLHFCQUFxQjtJQU05QixZQUNvRCxPQUF5QixFQUVoRSxPQUEwQztRQUZILFlBQU8sR0FBUCxPQUFPLENBQWtCO1FBRWhFLFlBQU8sR0FBUCxPQUFPLENBQW1DO1FBTDlDLGNBQVMsR0FBRyxnQkFBQyxLQUFLLEVBQUUsRUFBRSxJQUFLLElBQUksQ0FBQyxPQUFPLENBQVUsQ0FBQztJQU14RCxDQUFDO0lBRUosSUFBSSxXQUFXO1FBQ1gsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sWUFBWSxxQkFBcUIsQ0FBQztJQUNqRSxDQUFDO0NBQ0osQ0FBQTs7NENBUlEsTUFBTSxTQUFDLHFCQUFxQjs0Q0FDNUIsTUFBTSxTQUFDLG9CQUFvQjs7QUFKaEM7SUFIQyxXQUFXLENBQUMsWUFBWSxDQUFDO0lBQ3pCLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQztJQUMvQixXQUFXLENBQUMsb0JBQW9CLENBQUM7d0RBQ3lCO0FBSmxELHFCQUFxQjtJQVJqQyxTQUFTLENBQUM7UUFDUCxRQUFRLEVBQUUsZ0JBQWdCO1FBQzFCLDhtQ0FBeUM7UUFFekMsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07UUFDL0MsVUFBVSxFQUFFLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxpQkFBaUIsQ0FBQztRQUMzRCxJQUFJLEVBQUUsRUFBQyxJQUFJLEVBQUUsT0FBTyxFQUFDOztLQUN4QixDQUFDO0lBUU8sV0FBQSxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQTtJQUM3QixXQUFBLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBO0dBUnhCLHFCQUFxQixDQWVqQztTQWZZLHFCQUFxQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QW5pbWF0aW9uT3B0aW9uc30gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQge0NoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIEhvc3RCaW5kaW5nLCBJbmplY3R9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtUdWlEaWFsb2d9IGZyb20gJ0B0YWlnYS11aS9jZGsnO1xuaW1wb3J0IHtcbiAgICBUVUlfQU5JTUFUSU9OX09QVElPTlMsXG4gICAgdHVpRmFkZUluLFxuICAgIHR1aUhlaWdodENvbGxhcHNlLFxuICAgIHR1aVNsaWRlSW5SaWdodCxcbn0gZnJvbSAnQHRhaWdhLXVpL2NvcmUnO1xuaW1wb3J0IHtQT0xZTU9SUEhFVVNfQ09OVEVYVH0gZnJvbSAnQHRpbmtvZmYvbmctcG9seW1vcnBoZXVzJztcblxuaW1wb3J0IHtUdWlQdXNoT3B0aW9uc30gZnJvbSAnLi9wdXNoLm9wdGlvbnMnO1xuaW1wb3J0IHtUdWlQdXNoQWxlcnREaXJlY3RpdmV9IGZyb20gJy4vcHVzaC1hbGVydC5kaXJlY3RpdmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3R1aS1wdXNoLWFsZXJ0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vcHVzaC1hbGVydC50ZW1wbGF0ZS5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9wdXNoLWFsZXJ0LnN0eWxlLmxlc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBhbmltYXRpb25zOiBbdHVpRmFkZUluLCB0dWlTbGlkZUluUmlnaHQsIHR1aUhlaWdodENvbGxhcHNlXSxcbiAgICBob3N0OiB7cm9sZTogJ2FsZXJ0J30sXG59KVxuZXhwb3J0IGNsYXNzIFR1aVB1c2hBbGVydENvbXBvbmVudCB7XG4gICAgQEhvc3RCaW5kaW5nKCdAdHVpRmFkZUluJylcbiAgICBASG9zdEJpbmRpbmcoJ0B0dWlTbGlkZUluUmlnaHQnKVxuICAgIEBIb3N0QmluZGluZygnQHR1aUhlaWdodENvbGxhcHNlJylcbiAgICByZWFkb25seSBhbmltYXRpb24gPSB7dmFsdWU6ICcnLCAuLi50aGlzLm9wdGlvbnN9IGFzIGNvbnN0O1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBJbmplY3QoVFVJX0FOSU1BVElPTl9PUFRJT05TKSBwcml2YXRlIHJlYWRvbmx5IG9wdGlvbnM6IEFuaW1hdGlvbk9wdGlvbnMsXG4gICAgICAgIEBJbmplY3QoUE9MWU1PUlBIRVVTX0NPTlRFWFQpXG4gICAgICAgIHJlYWRvbmx5IGNvbnRleHQ6IFR1aURpYWxvZzxUdWlQdXNoT3B0aW9ucywgc3RyaW5nPixcbiAgICApIHt9XG5cbiAgICBnZXQgaXNEaXJlY3RpdmUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQuY29udGVudCBpbnN0YW5jZW9mIFR1aVB1c2hBbGVydERpcmVjdGl2ZTtcbiAgICB9XG59XG4iXX0=