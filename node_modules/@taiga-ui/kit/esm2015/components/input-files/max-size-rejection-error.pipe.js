import { __decorate, __param } from "tslib";
import { Inject, Pipe } from '@angular/core';
import { TUI_DIGITAL_INFORMATION_UNITS, TUI_INPUT_FILE_TEXTS } from '@taiga-ui/kit/tokens';
import { tuiFormatSize } from '@taiga-ui/kit/utils';
import { combineLatest } from 'rxjs';
import { map } from 'rxjs/operators';
let TuiMaxSizeRejectionErrorPipe = class TuiMaxSizeRejectionErrorPipe {
    constructor(inputFileTexts$, units$) {
        this.inputFileTexts$ = inputFileTexts$;
        this.units$ = units$;
    }
    transform(maxFileSize) {
        return combineLatest([this.inputFileTexts$, this.units$]).pipe(map(([{ maxSizeRejectionReason }, units]) => maxSizeRejectionReason + tuiFormatSize(units, maxFileSize)));
    }
};
TuiMaxSizeRejectionErrorPipe.ctorParameters = () => [
    { type: undefined, decorators: [{ type: Inject, args: [TUI_INPUT_FILE_TEXTS,] }] },
    { type: undefined, decorators: [{ type: Inject, args: [TUI_DIGITAL_INFORMATION_UNITS,] }] }
];
TuiMaxSizeRejectionErrorPipe = __decorate([
    Pipe({ name: `tuiMaxSizeRejectionError` }),
    __param(0, Inject(TUI_INPUT_FILE_TEXTS)),
    __param(1, Inject(TUI_DIGITAL_INFORMATION_UNITS))
], TuiMaxSizeRejectionErrorPipe);
export { TuiMaxSizeRejectionErrorPipe };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF4LXNpemUtcmVqZWN0aW9uLWVycm9yLnBpcGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkva2l0L2NvbXBvbmVudHMvaW5wdXQtZmlsZXMvIiwic291cmNlcyI6WyJtYXgtc2l6ZS1yZWplY3Rpb24tZXJyb3IucGlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQWdCLE1BQU0sZUFBZSxDQUFDO0FBRTFELE9BQU8sRUFBQyw2QkFBNkIsRUFBRSxvQkFBb0IsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBQ3pGLE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQztBQUNsRCxPQUFPLEVBQUMsYUFBYSxFQUFhLE1BQU0sTUFBTSxDQUFDO0FBQy9DLE9BQU8sRUFBQyxHQUFHLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUduQyxJQUFhLDRCQUE0QixHQUF6QyxNQUFhLDRCQUE0QjtJQUNyQyxZQUVxQixlQUVoQixFQUVnQixNQUVoQjtRQU5nQixvQkFBZSxHQUFmLGVBQWUsQ0FFL0I7UUFFZ0IsV0FBTSxHQUFOLE1BQU0sQ0FFdEI7SUFDRixDQUFDO0lBRUosU0FBUyxDQUFDLFdBQW1CO1FBQ3pCLE9BQU8sYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQzFELEdBQUcsQ0FDQyxDQUFDLENBQUMsRUFBQyxzQkFBc0IsRUFBQyxFQUFFLEtBQUssQ0FBQyxFQUFFLEVBQUUsQ0FDbEMsc0JBQXNCLEdBQUcsYUFBYSxDQUFDLEtBQUssRUFBRSxXQUFXLENBQUMsQ0FDakUsQ0FDSixDQUFDO0lBQ04sQ0FBQztDQUNKLENBQUE7OzRDQWxCUSxNQUFNLFNBQUMsb0JBQW9COzRDQUkzQixNQUFNLFNBQUMsNkJBQTZCOztBQU5oQyw0QkFBNEI7SUFEeEMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFFLDBCQUEwQixFQUFDLENBQUM7SUFHaEMsV0FBQSxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtJQUk1QixXQUFBLE1BQU0sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFBO0dBTmpDLDRCQUE0QixDQW9CeEM7U0FwQlksNEJBQTRCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtJbmplY3QsIFBpcGUsIFBpcGVUcmFuc2Zvcm19IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtUdWlJbmplY3Rpb25Ub2tlblR5cGV9IGZyb20gJ0B0YWlnYS11aS9jZGsnO1xuaW1wb3J0IHtUVUlfRElHSVRBTF9JTkZPUk1BVElPTl9VTklUUywgVFVJX0lOUFVUX0ZJTEVfVEVYVFN9IGZyb20gJ0B0YWlnYS11aS9raXQvdG9rZW5zJztcbmltcG9ydCB7dHVpRm9ybWF0U2l6ZX0gZnJvbSAnQHRhaWdhLXVpL2tpdC91dGlscyc7XG5pbXBvcnQge2NvbWJpbmVMYXRlc3QsIE9ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHttYXB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQFBpcGUoe25hbWU6IGB0dWlNYXhTaXplUmVqZWN0aW9uRXJyb3JgfSlcbmV4cG9ydCBjbGFzcyBUdWlNYXhTaXplUmVqZWN0aW9uRXJyb3JQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBJbmplY3QoVFVJX0lOUFVUX0ZJTEVfVEVYVFMpXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgaW5wdXRGaWxlVGV4dHMkOiBUdWlJbmplY3Rpb25Ub2tlblR5cGU8XG4gICAgICAgICAgICB0eXBlb2YgVFVJX0lOUFVUX0ZJTEVfVEVYVFNcbiAgICAgICAgPixcbiAgICAgICAgQEluamVjdChUVUlfRElHSVRBTF9JTkZPUk1BVElPTl9VTklUUylcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSB1bml0cyQ6IFR1aUluamVjdGlvblRva2VuVHlwZTxcbiAgICAgICAgICAgIHR5cGVvZiBUVUlfRElHSVRBTF9JTkZPUk1BVElPTl9VTklUU1xuICAgICAgICA+LFxuICAgICkge31cblxuICAgIHRyYW5zZm9ybShtYXhGaWxlU2l6ZTogbnVtYmVyKTogT2JzZXJ2YWJsZTxzdHJpbmc+IHtcbiAgICAgICAgcmV0dXJuIGNvbWJpbmVMYXRlc3QoW3RoaXMuaW5wdXRGaWxlVGV4dHMkLCB0aGlzLnVuaXRzJF0pLnBpcGUoXG4gICAgICAgICAgICBtYXAoXG4gICAgICAgICAgICAgICAgKFt7bWF4U2l6ZVJlamVjdGlvblJlYXNvbn0sIHVuaXRzXSkgPT5cbiAgICAgICAgICAgICAgICAgICAgbWF4U2l6ZVJlamVjdGlvblJlYXNvbiArIHR1aUZvcm1hdFNpemUodW5pdHMsIG1heEZpbGVTaXplKSxcbiAgICAgICAgICAgICksXG4gICAgICAgICk7XG4gICAgfVxufVxuIl19