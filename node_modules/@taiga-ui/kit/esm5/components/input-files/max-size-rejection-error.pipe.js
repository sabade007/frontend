import { __decorate, __param, __read } from "tslib";
import { Inject, Pipe } from '@angular/core';
import { TUI_DIGITAL_INFORMATION_UNITS, TUI_INPUT_FILE_TEXTS } from '@taiga-ui/kit/tokens';
import { tuiFormatSize } from '@taiga-ui/kit/utils';
import { combineLatest } from 'rxjs';
import { map } from 'rxjs/operators';
var TuiMaxSizeRejectionErrorPipe = /** @class */ (function () {
    function TuiMaxSizeRejectionErrorPipe(inputFileTexts$, units$) {
        this.inputFileTexts$ = inputFileTexts$;
        this.units$ = units$;
    }
    TuiMaxSizeRejectionErrorPipe.prototype.transform = function (maxFileSize) {
        return combineLatest([this.inputFileTexts$, this.units$]).pipe(map(function (_a) {
            var _b = __read(_a, 2), maxSizeRejectionReason = _b[0].maxSizeRejectionReason, units = _b[1];
            return maxSizeRejectionReason + tuiFormatSize(units, maxFileSize);
        }));
    };
    TuiMaxSizeRejectionErrorPipe.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [TUI_INPUT_FILE_TEXTS,] }] },
        { type: undefined, decorators: [{ type: Inject, args: [TUI_DIGITAL_INFORMATION_UNITS,] }] }
    ]; };
    TuiMaxSizeRejectionErrorPipe = __decorate([
        Pipe({ name: "tuiMaxSizeRejectionError" }),
        __param(0, Inject(TUI_INPUT_FILE_TEXTS)),
        __param(1, Inject(TUI_DIGITAL_INFORMATION_UNITS))
    ], TuiMaxSizeRejectionErrorPipe);
    return TuiMaxSizeRejectionErrorPipe;
}());
export { TuiMaxSizeRejectionErrorPipe };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF4LXNpemUtcmVqZWN0aW9uLWVycm9yLnBpcGUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkva2l0L2NvbXBvbmVudHMvaW5wdXQtZmlsZXMvIiwic291cmNlcyI6WyJtYXgtc2l6ZS1yZWplY3Rpb24tZXJyb3IucGlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFDLE1BQU0sRUFBRSxJQUFJLEVBQWdCLE1BQU0sZUFBZSxDQUFDO0FBRTFELE9BQU8sRUFBQyw2QkFBNkIsRUFBRSxvQkFBb0IsRUFBQyxNQUFNLHNCQUFzQixDQUFDO0FBQ3pGLE9BQU8sRUFBQyxhQUFhLEVBQUMsTUFBTSxxQkFBcUIsQ0FBQztBQUNsRCxPQUFPLEVBQUMsYUFBYSxFQUFhLE1BQU0sTUFBTSxDQUFDO0FBQy9DLE9BQU8sRUFBQyxHQUFHLEVBQUMsTUFBTSxnQkFBZ0IsQ0FBQztBQUduQztJQUNJLHNDQUVxQixlQUVoQixFQUVnQixNQUVoQjtRQU5nQixvQkFBZSxHQUFmLGVBQWUsQ0FFL0I7UUFFZ0IsV0FBTSxHQUFOLE1BQU0sQ0FFdEI7SUFDRixDQUFDO0lBRUosZ0RBQVMsR0FBVCxVQUFVLFdBQW1CO1FBQ3pCLE9BQU8sYUFBYSxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWUsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQzFELEdBQUcsQ0FDQyxVQUFDLEVBQWlDO2dCQUFqQyxrQkFBaUMsRUFBL0IscURBQXNCLEVBQUcsYUFBSztZQUM3QixPQUFBLHNCQUFzQixHQUFHLGFBQWEsQ0FBQyxLQUFLLEVBQUUsV0FBVyxDQUFDO1FBQTFELENBQTBELENBQ2pFLENBQ0osQ0FBQztJQUNOLENBQUM7O2dEQWpCSSxNQUFNLFNBQUMsb0JBQW9CO2dEQUkzQixNQUFNLFNBQUMsNkJBQTZCOztJQU5oQyw0QkFBNEI7UUFEeEMsSUFBSSxDQUFDLEVBQUMsSUFBSSxFQUFFLDBCQUEwQixFQUFDLENBQUM7UUFHaEMsV0FBQSxNQUFNLENBQUMsb0JBQW9CLENBQUMsQ0FBQTtRQUk1QixXQUFBLE1BQU0sQ0FBQyw2QkFBNkIsQ0FBQyxDQUFBO09BTmpDLDRCQUE0QixDQW9CeEM7SUFBRCxtQ0FBQztDQUFBLEFBcEJELElBb0JDO1NBcEJZLDRCQUE0QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7SW5qZWN0LCBQaXBlLCBQaXBlVHJhbnNmb3JtfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7VHVpSW5qZWN0aW9uVG9rZW5UeXBlfSBmcm9tICdAdGFpZ2EtdWkvY2RrJztcbmltcG9ydCB7VFVJX0RJR0lUQUxfSU5GT1JNQVRJT05fVU5JVFMsIFRVSV9JTlBVVF9GSUxFX1RFWFRTfSBmcm9tICdAdGFpZ2EtdWkva2l0L3Rva2Vucyc7XG5pbXBvcnQge3R1aUZvcm1hdFNpemV9IGZyb20gJ0B0YWlnYS11aS9raXQvdXRpbHMnO1xuaW1wb3J0IHtjb21iaW5lTGF0ZXN0LCBPYnNlcnZhYmxlfSBmcm9tICdyeGpzJztcbmltcG9ydCB7bWFwfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBQaXBlKHtuYW1lOiBgdHVpTWF4U2l6ZVJlamVjdGlvbkVycm9yYH0pXG5leHBvcnQgY2xhc3MgVHVpTWF4U2l6ZVJlamVjdGlvbkVycm9yUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBASW5qZWN0KFRVSV9JTlBVVF9GSUxFX1RFWFRTKVxuICAgICAgICBwcml2YXRlIHJlYWRvbmx5IGlucHV0RmlsZVRleHRzJDogVHVpSW5qZWN0aW9uVG9rZW5UeXBlPFxuICAgICAgICAgICAgdHlwZW9mIFRVSV9JTlBVVF9GSUxFX1RFWFRTXG4gICAgICAgID4sXG4gICAgICAgIEBJbmplY3QoVFVJX0RJR0lUQUxfSU5GT1JNQVRJT05fVU5JVFMpXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgdW5pdHMkOiBUdWlJbmplY3Rpb25Ub2tlblR5cGU8XG4gICAgICAgICAgICB0eXBlb2YgVFVJX0RJR0lUQUxfSU5GT1JNQVRJT05fVU5JVFNcbiAgICAgICAgPixcbiAgICApIHt9XG5cbiAgICB0cmFuc2Zvcm0obWF4RmlsZVNpemU6IG51bWJlcik6IE9ic2VydmFibGU8c3RyaW5nPiB7XG4gICAgICAgIHJldHVybiBjb21iaW5lTGF0ZXN0KFt0aGlzLmlucHV0RmlsZVRleHRzJCwgdGhpcy51bml0cyRdKS5waXBlKFxuICAgICAgICAgICAgbWFwKFxuICAgICAgICAgICAgICAgIChbe21heFNpemVSZWplY3Rpb25SZWFzb259LCB1bml0c10pID0+XG4gICAgICAgICAgICAgICAgICAgIG1heFNpemVSZWplY3Rpb25SZWFzb24gKyB0dWlGb3JtYXRTaXplKHVuaXRzLCBtYXhGaWxlU2l6ZSksXG4gICAgICAgICAgICApLFxuICAgICAgICApO1xuICAgIH1cbn1cbiJdfQ==