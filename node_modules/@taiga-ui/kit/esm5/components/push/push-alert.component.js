import { __assign, __decorate, __param } from "tslib";
import { ChangeDetectionStrategy, Component, HostBinding, Inject } from '@angular/core';
import { TUI_ANIMATION_OPTIONS, tuiFadeIn, tuiHeightCollapse, tuiSlideInRight, } from '@taiga-ui/core';
import { POLYMORPHEUS_CONTEXT } from '@tinkoff/ng-polymorpheus';
import { TuiPushAlertDirective } from './push-alert.directive';
var TuiPushAlertComponent = /** @class */ (function () {
    function TuiPushAlertComponent(options, context) {
        this.options = options;
        this.context = context;
        this.animation = __assign({ value: '' }, this.options);
    }
    Object.defineProperty(TuiPushAlertComponent.prototype, "isDirective", {
        get: function () {
            return this.context.content instanceof TuiPushAlertDirective;
        },
        enumerable: true,
        configurable: true
    });
    TuiPushAlertComponent.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [TUI_ANIMATION_OPTIONS,] }] },
        { type: undefined, decorators: [{ type: Inject, args: [POLYMORPHEUS_CONTEXT,] }] }
    ]; };
    __decorate([
        HostBinding('@tuiFadeIn'),
        HostBinding('@tuiSlideInRight'),
        HostBinding('@tuiHeightCollapse')
    ], TuiPushAlertComponent.prototype, "animation", void 0);
    TuiPushAlertComponent = __decorate([
        Component({
            selector: 'tui-push-alert',
            template: "<tui-push\n    *ngIf=\"!isDirective; else content\"\n    [heading]=\"context.heading\"\n    [type]=\"context.type\"\n    [timestamp]=\"context.timestamp\"\n    (close)=\"context.$implicit.complete()\"\n>\n    <img\n        *ngIf=\"context.image\"\n        alt=\"\"\n        [src]=\"context.image\"\n    />\n    <tui-svg\n        *ngIf=\"context.icon\"\n        [style.color]=\"context.iconColor\"\n        [src]=\"context.icon\"\n    ></tui-svg>\n    <div\n        polymorpheus-outlet\n        [content]=\"context.content\"\n    ></div>\n    <button\n        *ngIf=\"context.buttons.length > 1\"\n        tuiButton\n        (click)=\"context.$implicit.next(context.buttons[0])\"\n    >\n        {{ context.buttons[0] }}\n    </button>\n    <button\n        *ngIf=\"context.buttons.length\"\n        tuiLink\n        (click)=\"context.$implicit.next(context.buttons[context.buttons.length - 1])\"\n    >\n        {{ context.buttons[context.buttons.length - 1] }}\n    </button>\n</tui-push>\n<ng-template #content>\n    <div\n        polymorpheus-outlet\n        [content]=\"context.content\"\n    ></div>\n</ng-template>\n",
            changeDetection: ChangeDetectionStrategy.OnPush,
            animations: [tuiFadeIn, tuiSlideInRight, tuiHeightCollapse],
            host: { role: 'alert' },
            styles: [":host{max-width:calc(100% - 2rem);margin:0 1rem 1rem auto}:host:first-child{margin-top:auto}"]
        }),
        __param(0, Inject(TUI_ANIMATION_OPTIONS)),
        __param(1, Inject(POLYMORPHEUS_CONTEXT))
    ], TuiPushAlertComponent);
    return TuiPushAlertComponent;
}());
export { TuiPushAlertComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHVzaC1hbGVydC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkva2l0L2NvbXBvbmVudHMvcHVzaC8iLCJzb3VyY2VzIjpbInB1c2gtYWxlcnQuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFDQSxPQUFPLEVBQUMsdUJBQXVCLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUMsTUFBTSxlQUFlLENBQUM7QUFFdEYsT0FBTyxFQUNILHFCQUFxQixFQUNyQixTQUFTLEVBQ1QsaUJBQWlCLEVBQ2pCLGVBQWUsR0FDbEIsTUFBTSxnQkFBZ0IsQ0FBQztBQUN4QixPQUFPLEVBQUMsb0JBQW9CLEVBQUMsTUFBTSwwQkFBMEIsQ0FBQztBQUc5RCxPQUFPLEVBQUMscUJBQXFCLEVBQUMsTUFBTSx3QkFBd0IsQ0FBQztBQVU3RDtJQU1JLCtCQUNvRCxPQUF5QixFQUVoRSxPQUEwQztRQUZILFlBQU8sR0FBUCxPQUFPLENBQWtCO1FBRWhFLFlBQU8sR0FBUCxPQUFPLENBQW1DO1FBTDlDLGNBQVMsR0FBRyxXQUFDLEtBQUssRUFBRSxFQUFFLElBQUssSUFBSSxDQUFDLE9BQU8sQ0FBVSxDQUFDO0lBTXhELENBQUM7SUFFSixzQkFBSSw4Q0FBVzthQUFmO1lBQ0ksT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sWUFBWSxxQkFBcUIsQ0FBQztRQUNqRSxDQUFDOzs7T0FBQTs7Z0RBUEksTUFBTSxTQUFDLHFCQUFxQjtnREFDNUIsTUFBTSxTQUFDLG9CQUFvQjs7SUFKaEM7UUFIQyxXQUFXLENBQUMsWUFBWSxDQUFDO1FBQ3pCLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQztRQUMvQixXQUFXLENBQUMsb0JBQW9CLENBQUM7NERBQ3lCO0lBSmxELHFCQUFxQjtRQVJqQyxTQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUsZ0JBQWdCO1lBQzFCLDhtQ0FBeUM7WUFFekMsZUFBZSxFQUFFLHVCQUF1QixDQUFDLE1BQU07WUFDL0MsVUFBVSxFQUFFLENBQUMsU0FBUyxFQUFFLGVBQWUsRUFBRSxpQkFBaUIsQ0FBQztZQUMzRCxJQUFJLEVBQUUsRUFBQyxJQUFJLEVBQUUsT0FBTyxFQUFDOztTQUN4QixDQUFDO1FBUU8sV0FBQSxNQUFNLENBQUMscUJBQXFCLENBQUMsQ0FBQTtRQUM3QixXQUFBLE1BQU0sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBO09BUnhCLHFCQUFxQixDQWVqQztJQUFELDRCQUFDO0NBQUEsQUFmRCxJQWVDO1NBZlkscUJBQXFCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtBbmltYXRpb25PcHRpb25zfSBmcm9tICdAYW5ndWxhci9hbmltYXRpb25zJztcbmltcG9ydCB7Q2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgSG9zdEJpbmRpbmcsIEluamVjdH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1R1aURpYWxvZ30gZnJvbSAnQHRhaWdhLXVpL2Nkayc7XG5pbXBvcnQge1xuICAgIFRVSV9BTklNQVRJT05fT1BUSU9OUyxcbiAgICB0dWlGYWRlSW4sXG4gICAgdHVpSGVpZ2h0Q29sbGFwc2UsXG4gICAgdHVpU2xpZGVJblJpZ2h0LFxufSBmcm9tICdAdGFpZ2EtdWkvY29yZSc7XG5pbXBvcnQge1BPTFlNT1JQSEVVU19DT05URVhUfSBmcm9tICdAdGlua29mZi9uZy1wb2x5bW9ycGhldXMnO1xuXG5pbXBvcnQge1R1aVB1c2hPcHRpb25zfSBmcm9tICcuL3B1c2gub3B0aW9ucyc7XG5pbXBvcnQge1R1aVB1c2hBbGVydERpcmVjdGl2ZX0gZnJvbSAnLi9wdXNoLWFsZXJ0LmRpcmVjdGl2ZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndHVpLXB1c2gtYWxlcnQnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9wdXNoLWFsZXJ0LnRlbXBsYXRlLmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL3B1c2gtYWxlcnQuc3R5bGUubGVzcyddLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgIGFuaW1hdGlvbnM6IFt0dWlGYWRlSW4sIHR1aVNsaWRlSW5SaWdodCwgdHVpSGVpZ2h0Q29sbGFwc2VdLFxuICAgIGhvc3Q6IHtyb2xlOiAnYWxlcnQnfSxcbn0pXG5leHBvcnQgY2xhc3MgVHVpUHVzaEFsZXJ0Q29tcG9uZW50IHtcbiAgICBASG9zdEJpbmRpbmcoJ0B0dWlGYWRlSW4nKVxuICAgIEBIb3N0QmluZGluZygnQHR1aVNsaWRlSW5SaWdodCcpXG4gICAgQEhvc3RCaW5kaW5nKCdAdHVpSGVpZ2h0Q29sbGFwc2UnKVxuICAgIHJlYWRvbmx5IGFuaW1hdGlvbiA9IHt2YWx1ZTogJycsIC4uLnRoaXMub3B0aW9uc30gYXMgY29uc3Q7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQEluamVjdChUVUlfQU5JTUFUSU9OX09QVElPTlMpIHByaXZhdGUgcmVhZG9ubHkgb3B0aW9uczogQW5pbWF0aW9uT3B0aW9ucyxcbiAgICAgICAgQEluamVjdChQT0xZTU9SUEhFVVNfQ09OVEVYVClcbiAgICAgICAgcmVhZG9ubHkgY29udGV4dDogVHVpRGlhbG9nPFR1aVB1c2hPcHRpb25zLCBzdHJpbmc+LFxuICAgICkge31cblxuICAgIGdldCBpc0RpcmVjdGl2ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udGV4dC5jb250ZW50IGluc3RhbmNlb2YgVHVpUHVzaEFsZXJ0RGlyZWN0aXZlO1xuICAgIH1cbn1cbiJdfQ==