import { __decorate, __param } from "tslib";
import { ChangeDetectionStrategy, Component, HostBinding, Inject, Input, } from '@angular/core';
import { isNumber, tuiDefaultProp } from '@taiga-ui/cdk';
import { MODE_PROVIDER, TUI_MODE, } from '@taiga-ui/core';
import { Observable } from 'rxjs';
var TuiBadgeComponent = /** @class */ (function () {
    function TuiBadgeComponent(mode$) {
        this.mode$ = mode$;
        this.value = '';
        this.size = 'm';
        this.status = 'default';
        this.hoverable = false;
    }
    Object.defineProperty(TuiBadgeComponent.prototype, "padding", {
        get: function () {
            if (this.isEmpty) {
                return 'none';
            }
            return isNumber(this.value.valueOf()) ? 'm' : 'l';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TuiBadgeComponent.prototype, "outputValue", {
        get: function () {
            if (isNumber(this.value.valueOf()) && this.value.valueOf() > 99) {
                return '99+';
            }
            return String(this.value);
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(TuiBadgeComponent.prototype, "isEmpty", {
        get: function () {
            return this.value === '';
        },
        enumerable: true,
        configurable: true
    });
    TuiBadgeComponent.ctorParameters = function () { return [
        { type: Observable, decorators: [{ type: Inject, args: [TUI_MODE,] }] }
    ]; };
    __decorate([
        Input(),
        tuiDefaultProp()
    ], TuiBadgeComponent.prototype, "value", void 0);
    __decorate([
        Input(),
        HostBinding('attr.data-size'),
        tuiDefaultProp()
    ], TuiBadgeComponent.prototype, "size", void 0);
    __decorate([
        Input(),
        HostBinding('attr.data-tui-host-status'),
        tuiDefaultProp()
    ], TuiBadgeComponent.prototype, "status", void 0);
    __decorate([
        Input(),
        HostBinding('class._hoverable'),
        tuiDefaultProp()
    ], TuiBadgeComponent.prototype, "hoverable", void 0);
    __decorate([
        HostBinding('attr.data-tui-host-padding')
    ], TuiBadgeComponent.prototype, "padding", null);
    __decorate([
        HostBinding('class._empty-value')
    ], TuiBadgeComponent.prototype, "isEmpty", null);
    TuiBadgeComponent = __decorate([
        Component({
            selector: 'tui-badge',
            changeDetection: ChangeDetectionStrategy.OnPush,
            template: "<span class=\"left-content\">\n    <ng-content></ng-content>\n</span>\n{{ outputValue }}\n",
            providers: [MODE_PROVIDER],
            host: {
                '($.data-mode.attr)': 'mode$',
            },
            styles: [":host{transition-property:background-color;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;--left-content-color:currentColor;position:relative;display:inline-flex;font:var(--tui-font-text-s);align-items:center;justify-content:center;box-sizing:border-box;color:var(--tui-base-01);border-radius:6.25rem;white-space:nowrap;overflow:hidden;vertical-align:middle}:host:after{transition-property:background;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;position:absolute;top:0;left:0;width:100%;height:100%;content:'';box-sizing:border-box;border-radius:inherit;pointer-events:none}:host._hoverable:active[data-tui-host-status=custom]:after,:host._hoverable:hover[data-tui-host-status=custom]:after{background-color:var(--tui-clear)}:host[data-tui-host-status=primary]{background-color:var(--tui-primary);color:var(--tui-primary-text)}:host[data-tui-host-status=primary]._hoverable:hover{background-color:var(--tui-primary-hover)}:host[data-tui-host-status=primary]._hoverable:active{background-color:var(--tui-primary-active)}:host[data-tui-host-status=error]{--left-content-color:var(--tui-error-fill);background-color:var(--tui-error-bg);color:var(--tui-text-01)}:host[data-tui-host-status=error]._hoverable:active,:host[data-tui-host-status=error]._hoverable:hover{background-color:var(--tui-error-bg-hover)}:host[data-tui-host-status=error][data-mode=onDark]{background-color:var(--tui-error-bg-night);color:var(--tui-text-01-night)}:host[data-tui-host-status=error][data-mode=onDark]._hoverable:active,:host[data-tui-host-status=error][data-mode=onDark]._hoverable:hover{background-color:var(--tui-error-bg-night-hover)}:host[data-tui-host-status=success]{--left-content-color:var(--tui-success-fill);background-color:var(--tui-success-bg);color:var(--tui-text-01)}:host[data-tui-host-status=success]._hoverable:active,:host[data-tui-host-status=success]._hoverable:hover{background-color:var(--tui-success-bg-hover)}:host[data-tui-host-status=success][data-mode=onDark]{background-color:var(--tui-success-bg-night);color:var(--tui-text-01-night)}:host[data-tui-host-status=success][data-mode=onDark]._hoverable:active,:host[data-tui-host-status=success][data-mode=onDark]._hoverable:hover{background-color:var(--tui-success-bg-night-hover)}:host[data-tui-host-status=warning]{--left-content-color:var(--tui-warning-fill);background-color:var(--tui-warning-bg);color:var(--tui-text-01)}:host[data-tui-host-status=warning]._hoverable:active,:host[data-tui-host-status=warning]._hoverable:hover{background-color:var(--tui-warning-bg-hover)}:host[data-tui-host-status=warning][data-mode=onDark]{background-color:var(--tui-warning-bg-night);color:var(--tui-text-01-night)}:host[data-tui-host-status=warning][data-mode=onDark]._hoverable:active,:host[data-tui-host-status=warning][data-mode=onDark]._hoverable:hover{background-color:var(--tui-warning-bg-night-hover)}:host[data-tui-host-status=info]{--left-content-color:var(--tui-info-fill);background-color:var(--tui-info-bg);color:var(--tui-text-01)}:host[data-tui-host-status=info]._hoverable:active,:host[data-tui-host-status=info]._hoverable:hover{background-color:var(--tui-info-bg-hover)}:host[data-tui-host-status=info][data-mode=onDark]{background-color:var(--tui-info-bg-night);color:var(--tui-text-01-night)}:host[data-tui-host-status=info][data-mode=onDark]._hoverable:active,:host[data-tui-host-status=info][data-mode=onDark]._hoverable:hover{background-color:var(--tui-info-bg-night-hover)}:host[data-tui-host-status=neutral]{--left-content-color:var(--tui-neutral-fill);background-color:var(--tui-neutral-bg);color:var(--tui-text-01)}:host[data-tui-host-status=neutral]._hoverable:active,:host[data-tui-host-status=neutral]._hoverable:hover{background-color:var(--tui-neutral-bg-hover)}:host[data-tui-host-status=neutral][data-mode=onDark]{background-color:var(--tui-neutral-bg-night);color:var(--tui-text-01-night)}:host[data-tui-host-status=neutral][data-mode=onDark]._hoverable:active,:host[data-tui-host-status=neutral][data-mode=onDark]._hoverable:hover{background-color:var(--tui-neutral-bg-night-hover)}:host[data-tui-host-status=default]{background-color:var(--tui-base-06)}:host[data-tui-host-status=default]:not([data-mode])._hoverable:hover{background-color:var(--tui-base-07)}:host[data-tui-host-status=default]:not([data-mode])._hoverable:active{background-color:var(--tui-base-08)}:host[data-tui-host-status=default][data-mode=onDark]{background-color:var(--tui-clear-inverse-hover)}:host[data-tui-host-status=default][data-mode=onDark]._hoverable:hover{background-color:var(--tui-clear-inverse-active)}:host[data-tui-host-status=default][data-mode=onDark]._hoverable:active{background-color:var(--tui-clear-inverse-active)}:host[data-tui-host-status=default][data-mode=onDark]:focus:after{border:2px solid var(--tui-base-01)}:host[data-tui-host-status=default][data-mode=onLight]{background-color:var(--tui-clear);color:var(--tui-text-01)}:host[data-tui-host-status=default][data-mode=onLight]._hoverable:hover{background-color:var(--tui-clear-hover)}:host[data-tui-host-status=default][data-mode=onLight]._hoverable:active{background-color:var(--tui-clear-active)}:host._hoverable{cursor:pointer}:host[data-tui-host-padding='m']{padding:0 .5rem}:host[data-tui-host-padding='m'][data-size=xs]{padding:0 .25rem}:host[data-tui-host-padding='m'][data-size='s']{padding:0 .375rem}:host[data-tui-host-padding='m'][data-size='l']{padding:0 .625rem}:host[data-tui-host-padding='l']{padding:0 .625rem}:host[data-tui-host-padding='l'][data-size=xs]{padding:0 .375rem}:host[data-tui-host-padding='l'][data-size='s']{padding:0 .5rem}:host[data-tui-host-padding='l'][data-size='l']{padding:0 .75rem}:host[data-size=xs]{font:var(--tui-font-text-xs);height:1rem;min-width:1rem}:host[data-size=xs] .left-content:before{width:.34375rem;height:.34375rem}:host[data-size='s']{font:var(--tui-font-text-xs);height:1.25rem;min-width:1.25rem}:host[data-size='s'] .left-content:before{width:.25rem;height:.25rem}:host[data-size='m']{height:var(--tui-height-xs);line-height:var(--tui-height-xs);min-width:var(--tui-height-xs)}:host[data-size='l']{height:var(--tui-height-s);line-height:var(--tui-height-s);min-width:var(--tui-height-s)}:host[data-size='l'] .left-content:before{margin:0 .5rem 0 0;width:.5rem;height:.5rem}:host._empty-value .left-content{margin:0 -.25rem}:host._empty-value .left-content:before{margin:0}.left-content{display:none;color:var(--left-content-color);line-height:0}.left-content:not(:empty){display:block;margin-left:-.25rem}.left-content:not(:empty):before{content:none}:host[data-tui-host-status=error] .left-content,:host[data-tui-host-status=info] .left-content,:host[data-tui-host-status=neutral] .left-content,:host[data-tui-host-status=success] .left-content,:host[data-tui-host-status=warning] .left-content{display:block}.left-content:before{content:'';display:block;background:currentColor;margin:0 .375rem 0 0;width:.375rem;height:.375rem;border-radius:100%}"]
        }),
        __param(0, Inject(TUI_MODE))
    ], TuiBadgeComponent);
    return TuiBadgeComponent;
}());
export { TuiBadgeComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFkZ2UuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRhaWdhLXVpL2tpdC9jb21wb25lbnRzL2JhZGdlLyIsInNvdXJjZXMiOlsiYmFkZ2UuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0gsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxXQUFXLEVBQ1gsTUFBTSxFQUNOLEtBQUssR0FDUixNQUFNLGVBQWUsQ0FBQztBQUN2QixPQUFPLEVBQUMsUUFBUSxFQUFFLGNBQWMsRUFBQyxNQUFNLGVBQWUsQ0FBQztBQUN2RCxPQUFPLEVBQ0gsYUFBYSxFQUNiLFFBQVEsR0FJWCxNQUFNLGdCQUFnQixDQUFDO0FBR3hCLE9BQU8sRUFBQyxVQUFVLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFZaEM7SUFvQkksMkJBQXVDLEtBQXVDO1FBQXZDLFVBQUssR0FBTCxLQUFLLENBQWtDO1FBakI5RSxVQUFLLEdBQXdCLEVBQUUsQ0FBQztRQUtoQyxTQUFJLEdBQXlCLEdBQUcsQ0FBQztRQUtqQyxXQUFNLEdBQWUsU0FBUyxDQUFDO1FBSy9CLGNBQVMsR0FBRyxLQUFLLENBQUM7SUFFK0QsQ0FBQztJQUdsRixzQkFBSSxzQ0FBTzthQUFYO1lBQ0ksSUFBSSxJQUFJLENBQUMsT0FBTyxFQUFFO2dCQUNkLE9BQU8sTUFBTSxDQUFDO2FBQ2pCO1lBRUQsT0FBTyxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQztRQUN0RCxDQUFDOzs7T0FBQTtJQUVELHNCQUFJLDBDQUFXO2FBQWY7WUFDSSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sRUFBRSxDQUFDLElBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLEVBQUU7Z0JBQzdELE9BQU8sS0FBSyxDQUFDO2FBQ2hCO1lBRUQsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzlCLENBQUM7OztPQUFBO0lBR0Qsc0JBQUksc0NBQU87YUFBWDtZQUNJLE9BQU8sSUFBSSxDQUFDLEtBQUssS0FBSyxFQUFFLENBQUM7UUFDN0IsQ0FBQzs7O09BQUE7O2dCQXRCNkMsVUFBVSx1QkFBM0MsTUFBTSxTQUFDLFFBQVE7O0lBakI1QjtRQUZDLEtBQUssRUFBRTtRQUNQLGNBQWMsRUFBRTtvREFDZTtJQUtoQztRQUhDLEtBQUssRUFBRTtRQUNQLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQztRQUM3QixjQUFjLEVBQUU7bURBQ2dCO0lBS2pDO1FBSEMsS0FBSyxFQUFFO1FBQ1AsV0FBVyxDQUFDLDJCQUEyQixDQUFDO1FBQ3hDLGNBQWMsRUFBRTtxREFDYztJQUsvQjtRQUhDLEtBQUssRUFBRTtRQUNQLFdBQVcsQ0FBQyxrQkFBa0IsQ0FBQztRQUMvQixjQUFjLEVBQUU7d0RBQ0M7SUFLbEI7UUFEQyxXQUFXLENBQUMsNEJBQTRCLENBQUM7b0RBT3pDO0lBV0Q7UUFEQyxXQUFXLENBQUMsb0JBQW9CLENBQUM7b0RBR2pDO0lBMUNRLGlCQUFpQjtRQVY3QixTQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUsV0FBVztZQUNyQixlQUFlLEVBQUUsdUJBQXVCLENBQUMsTUFBTTtZQUMvQyxzR0FBb0M7WUFFcEMsU0FBUyxFQUFFLENBQUMsYUFBYSxDQUFDO1lBQzFCLElBQUksRUFBRTtnQkFDRixvQkFBb0IsRUFBRSxPQUFPO2FBQ2hDOztTQUNKLENBQUM7UUFxQmUsV0FBQSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUE7T0FwQnBCLGlCQUFpQixDQTJDN0I7SUFBRCx3QkFBQztDQUFBLEFBM0NELElBMkNDO1NBM0NZLGlCQUFpQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gICAgQ29tcG9uZW50LFxuICAgIEhvc3RCaW5kaW5nLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge2lzTnVtYmVyLCB0dWlEZWZhdWx0UHJvcH0gZnJvbSAnQHRhaWdhLXVpL2Nkayc7XG5pbXBvcnQge1xuICAgIE1PREVfUFJPVklERVIsXG4gICAgVFVJX01PREUsXG4gICAgVHVpQnJpZ2h0bmVzcyxcbiAgICBUdWlTaXplTCxcbiAgICBUdWlTaXplWFMsXG59IGZyb20gJ0B0YWlnYS11aS9jb3JlJztcbmltcG9ydCB7VHVpU3RhdHVzVH0gZnJvbSAnQHRhaWdhLXVpL2tpdC90eXBlcyc7XG5pbXBvcnQge1BvbHltb3JwaGV1c0NvbnRlbnR9IGZyb20gJ0B0aW5rb2ZmL25nLXBvbHltb3JwaGV1cyc7XG5pbXBvcnQge09ic2VydmFibGV9IGZyb20gJ3J4anMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3R1aS1iYWRnZScsXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2JhZGdlLnRlbXBsYXRlLmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2JhZGdlLnN0eWxlLmxlc3MnXSxcbiAgICBwcm92aWRlcnM6IFtNT0RFX1BST1ZJREVSXSxcbiAgICBob3N0OiB7XG4gICAgICAgICcoJC5kYXRhLW1vZGUuYXR0ciknOiAnbW9kZSQnLFxuICAgIH0sXG59KVxuZXhwb3J0IGNsYXNzIFR1aUJhZGdlQ29tcG9uZW50IHtcbiAgICBASW5wdXQoKVxuICAgIEB0dWlEZWZhdWx0UHJvcCgpXG4gICAgdmFsdWU6IFBvbHltb3JwaGV1c0NvbnRlbnQgPSAnJztcblxuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLmRhdGEtc2l6ZScpXG4gICAgQHR1aURlZmF1bHRQcm9wKClcbiAgICBzaXplOiBUdWlTaXplTCB8IFR1aVNpemVYUyA9ICdtJztcblxuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLmRhdGEtdHVpLWhvc3Qtc3RhdHVzJylcbiAgICBAdHVpRGVmYXVsdFByb3AoKVxuICAgIHN0YXR1czogVHVpU3RhdHVzVCA9ICdkZWZhdWx0JztcblxuICAgIEBJbnB1dCgpXG4gICAgQEhvc3RCaW5kaW5nKCdjbGFzcy5faG92ZXJhYmxlJylcbiAgICBAdHVpRGVmYXVsdFByb3AoKVxuICAgIGhvdmVyYWJsZSA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IoQEluamVjdChUVUlfTU9ERSkgcmVhZG9ubHkgbW9kZSQ6IE9ic2VydmFibGU8VHVpQnJpZ2h0bmVzcyB8IG51bGw+KSB7fVxuXG4gICAgQEhvc3RCaW5kaW5nKCdhdHRyLmRhdGEtdHVpLWhvc3QtcGFkZGluZycpXG4gICAgZ2V0IHBhZGRpbmcoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuaXNFbXB0eSkge1xuICAgICAgICAgICAgcmV0dXJuICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpc051bWJlcih0aGlzLnZhbHVlLnZhbHVlT2YoKSkgPyAnbScgOiAnbCc7XG4gICAgfVxuXG4gICAgZ2V0IG91dHB1dFZhbHVlKCk6IHN0cmluZyB7XG4gICAgICAgIGlmIChpc051bWJlcih0aGlzLnZhbHVlLnZhbHVlT2YoKSkgJiYgdGhpcy52YWx1ZS52YWx1ZU9mKCkgPiA5OSkge1xuICAgICAgICAgICAgcmV0dXJuICc5OSsnO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFN0cmluZyh0aGlzLnZhbHVlKTtcbiAgICB9XG5cbiAgICBASG9zdEJpbmRpbmcoJ2NsYXNzLl9lbXB0eS12YWx1ZScpXG4gICAgZ2V0IGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSAnJztcbiAgICB9XG59XG4iXX0=