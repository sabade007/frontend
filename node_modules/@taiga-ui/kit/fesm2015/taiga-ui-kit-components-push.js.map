{"version":3,"file":"taiga-ui-kit-components-push.js","sources":["ng://@taiga-ui/kit/components/push/push.component.ts","ng://@taiga-ui/kit/components/push/push.directive.ts","ng://@taiga-ui/kit/components/push/push.options.ts","ng://@taiga-ui/kit/components/push/push-alert.directive.ts","ng://@taiga-ui/kit/components/push/push-alert.component.ts","ng://@taiga-ui/kit/components/push/push.service.ts","ng://@taiga-ui/kit/components/push/push.module.ts","ng://@taiga-ui/kit/components/push/taiga-ui-kit-components-push.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Inject,\n    Input,\n    Output,\n} from '@angular/core';\nimport {tuiDefaultProp, tuiIsObserved} from '@taiga-ui/cdk';\nimport {TUI_CLOSE_WORD} from '@taiga-ui/core';\nimport {Observable} from 'rxjs';\n\n@Component({\n    selector: 'tui-push',\n    templateUrl: './push.template.html',\n    styleUrls: ['./push.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPushComponent {\n    @Input()\n    @tuiDefaultProp()\n    heading = '';\n\n    @Input()\n    @tuiDefaultProp()\n    type = '';\n\n    @Input()\n    @tuiDefaultProp()\n    timestamp = 0;\n\n    @Output()\n    readonly close = new EventEmitter<void>();\n\n    constructor(@Inject(TUI_CLOSE_WORD) readonly closeWord$: Observable<string>) {}\n\n    get closeable(): boolean {\n        return tuiIsObserved(this.close);\n    }\n}\n","import {Directive, Inject, Optional, SkipSelf} from '@angular/core';\nimport {TUI_BUTTON_OPTIONS, TuiButtonOptions, TuiModeDirective} from '@taiga-ui/core';\nimport {Subject} from 'rxjs';\n\n@Directive({\n    selector: 'tui-push',\n    providers: [\n        {\n            provide: TuiModeDirective,\n            useExisting: TuiPushDirective,\n        },\n        {\n            provide: TUI_BUTTON_OPTIONS,\n            useExisting: TuiPushDirective,\n        },\n    ],\n})\nexport class TuiPushDirective extends TuiModeDirective implements TuiButtonOptions {\n    size: TuiButtonOptions['size'] = 's';\n\n    shape = null;\n\n    readonly change$ = this.modeDirective?.change$ || new Subject();\n\n    constructor(\n        @Optional()\n        @SkipSelf()\n        @Inject(TuiModeDirective)\n        private readonly modeDirective: TuiModeDirective | null,\n    ) {\n        super();\n    }\n\n    get appearance(): string {\n        return this.modeDirective?.mode === 'onDark' ? 'accent' : 'secondary';\n    }\n}\n","export interface TuiPushOptions {\n    readonly heading: string;\n    readonly type: string;\n    readonly timestamp: number;\n    readonly image: string;\n    readonly icon: string;\n    readonly iconColor: string;\n    readonly buttons: readonly string[];\n}\n\nexport const TUI_PUSH_DEFAULT_OPTIONS: TuiPushOptions = {\n    heading: ``,\n    type: ``,\n    timestamp: 0,\n    image: ``,\n    icon: ``,\n    iconColor: ``,\n    buttons: [],\n};\n","import {\n    ChangeDetectorRef,\n    Directive,\n    forwardRef,\n    Inject,\n    Input,\n    TemplateRef,\n} from '@angular/core';\nimport {TuiDestroyService} from '@taiga-ui/cdk';\nimport {PolymorpheusTemplate} from '@tinkoff/ng-polymorpheus';\nimport {EMPTY, Observable, Subject} from 'rxjs';\nimport {switchMap, takeUntil} from 'rxjs/operators';\n\nimport {TuiPushService} from './push.service';\n\n@Directive({\n    selector: '[tuiPush]',\n    providers: [TuiDestroyService],\n})\nexport class TuiPushAlertDirective extends PolymorpheusTemplate<any> {\n    private readonly show$ = new Subject<boolean>();\n\n    @Input()\n    set tuiPush(show: boolean) {\n        this.show$.next(show);\n    }\n\n    constructor(\n        @Inject(TemplateRef) template: TemplateRef<any>,\n        @Inject(ChangeDetectorRef) changeDetectorRef: ChangeDetectorRef,\n        @Inject(TuiDestroyService) destroy$: Observable<unknown>,\n        @Inject(forwardRef(() => TuiPushService)) push: TuiPushService,\n    ) {\n        super(template, changeDetectorRef);\n\n        this.show$\n            .pipe(\n                switchMap(show => (show ? push.open(this) : EMPTY)),\n                takeUntil(destroy$),\n            )\n            .subscribe();\n    }\n}\n","import {AnimationOptions} from '@angular/animations';\nimport {ChangeDetectionStrategy, Component, HostBinding, Inject} from '@angular/core';\nimport {TuiDialog} from '@taiga-ui/cdk';\nimport {\n    TUI_ANIMATION_OPTIONS,\n    tuiFadeIn,\n    tuiHeightCollapse,\n    tuiSlideInRight,\n} from '@taiga-ui/core';\nimport {POLYMORPHEUS_CONTEXT} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiPushOptions} from './push.options';\nimport {TuiPushAlertDirective} from './push-alert.directive';\n\n@Component({\n    selector: 'tui-push-alert',\n    templateUrl: './push-alert.template.html',\n    styleUrls: ['./push-alert.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    animations: [tuiFadeIn, tuiSlideInRight, tuiHeightCollapse],\n    host: {role: 'alert'},\n})\nexport class TuiPushAlertComponent {\n    @HostBinding('@tuiFadeIn')\n    @HostBinding('@tuiSlideInRight')\n    @HostBinding('@tuiHeightCollapse')\n    readonly animation = {value: '', ...this.options} as const;\n\n    constructor(\n        @Inject(TUI_ANIMATION_OPTIONS) private readonly options: AnimationOptions,\n        @Inject(POLYMORPHEUS_CONTEXT)\n        readonly context: TuiDialog<TuiPushOptions, string>,\n    ) {}\n\n    get isDirective(): boolean {\n        return this.context.content instanceof TuiPushAlertDirective;\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {AbstractTuiDialogService, TuiBaseDialogContext} from '@taiga-ui/cdk';\nimport {PolymorpheusComponent, PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Observable} from 'rxjs';\n\nimport {TUI_PUSH_DEFAULT_OPTIONS, TuiPushOptions} from './push.options';\nimport {TuiPushAlertComponent} from './push-alert.component';\n\n@Injectable({providedIn: `root`})\nexport class TuiPushService extends AbstractTuiDialogService<TuiPushOptions, string> {\n    protected readonly component = new PolymorpheusComponent(TuiPushAlertComponent);\n    protected readonly defaultOptions = TUI_PUSH_DEFAULT_OPTIONS;\n\n    open(\n        content: PolymorpheusContent<TuiBaseDialogContext<string> & TuiPushOptions>,\n        options: Partial<TuiPushOptions> = {},\n    ): Observable<string> {\n        return super.open(content, options);\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TUI_ALERTS} from '@taiga-ui/cdk';\nimport {\n    TuiButtonModule,\n    TuiFormatDatePipeModule,\n    TuiLinkModule,\n    TuiSvgModule,\n} from '@taiga-ui/core';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiPushComponent} from './push.component';\nimport {TuiPushDirective} from './push.directive';\nimport {TuiPushService} from './push.service';\nimport {TuiPushAlertComponent} from './push-alert.component';\nimport {TuiPushAlertDirective} from './push-alert.directive';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        TuiButtonModule,\n        TuiLinkModule,\n        TuiSvgModule,\n        TuiFormatDatePipeModule,\n    ],\n    declarations: [\n        TuiPushComponent,\n        TuiPushDirective,\n        TuiPushAlertComponent,\n        TuiPushAlertDirective,\n    ],\n    exports: [\n        TuiPushComponent,\n        TuiPushDirective,\n        TuiPushAlertComponent,\n        TuiPushAlertDirective,\n    ],\n    providers: [\n        {\n            provide: TUI_ALERTS,\n            useExisting: TuiPushService,\n            multi: true,\n        },\n    ],\n})\nexport class TuiPushModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}