{"version":3,"file":"taiga-ui-kit-components-input-files.js","sources":["ng://@taiga-ui/kit/components/input-files/input-files.component.ts","ng://@taiga-ui/kit/components/input-files/max-size-rejection-error.pipe.ts","ng://@taiga-ui/kit/components/input-files/input-files.module.ts","ng://@taiga-ui/kit/components/input-files/taiga-ui-kit-components-input-files.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    Inject,\n    Input,\n    Optional,\n    Output,\n    Self,\n    ViewChild,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {NgControl} from '@angular/forms';\nimport {\n    AbstractTuiNullableControl,\n    EMPTY_ARRAY,\n    isNativeFocused,\n    TUI_FOCUSABLE_ITEM_ACCESSOR,\n    TUI_IS_MOBILE,\n    tuiDefaultProp,\n    TuiFocusableElementAccessor,\n    TuiNativeFocusableElement,\n    tuiPure,\n} from '@taiga-ui/cdk';\nimport {MODE_PROVIDER, TuiSizeL} from '@taiga-ui/core';\nimport {TuiFileLike} from '@taiga-ui/kit/interfaces';\nimport {TUI_INPUT_FILE_TEXTS} from '@taiga-ui/kit/tokens';\nimport {getAcceptArray} from '@taiga-ui/kit/utils/files';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nconst DEFAULT_MAX_SIZE = 30 * 1024 * 1024; // 30 MiB\n\n// @dynamic\n@Component({\n    selector: 'tui-input-files',\n    templateUrl: './input-files.template.html',\n    styleUrls: ['./input-files.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    providers: [\n        MODE_PROVIDER,\n        {\n            provide: TUI_FOCUSABLE_ITEM_ACCESSOR,\n            useExisting: forwardRef(() => TuiInputFilesComponent),\n        },\n    ],\n})\nexport class TuiInputFilesComponent\n    extends AbstractTuiNullableControl<TuiFileLike | readonly TuiFileLike[]>\n    implements TuiFocusableElementAccessor\n{\n    @ViewChild('input')\n    private readonly input?: ElementRef<HTMLInputElement>;\n\n    private dataTransfer: DataTransfer | null = null;\n\n    @Input()\n    @tuiDefaultProp()\n    link: PolymorpheusContent = '';\n\n    @Input()\n    @tuiDefaultProp()\n    label: PolymorpheusContent = '';\n\n    @Input()\n    @tuiDefaultProp()\n    accept = '';\n\n    @Input()\n    @tuiDefaultProp()\n    multiple = false;\n\n    @Input()\n    @tuiDefaultProp()\n    size: TuiSizeL = 'm';\n\n    @Input()\n    @tuiDefaultProp()\n    maxFileSize = DEFAULT_MAX_SIZE;\n\n    @Output()\n    reject = new EventEmitter<TuiFileLike | readonly TuiFileLike[]>();\n\n    constructor(\n        @Optional()\n        @Self()\n        @Inject(NgControl)\n        control: NgControl | null,\n        @Inject(ChangeDetectorRef)\n        changeDetectorRef: ChangeDetectorRef,\n        @Inject(TUI_IS_MOBILE)\n        readonly isMobile: boolean,\n        @Inject(TUI_INPUT_FILE_TEXTS)\n        readonly inputFileTexts$: Observable<\n            Record<\n                | 'defaultLabelMultiple'\n                | 'defaultLabelSingle'\n                | 'defaultLinkMultiple'\n                | 'defaultLinkSingle'\n                | 'drop'\n                | 'dropMultiple'\n                | 'formatRejectionReason'\n                | 'maxSizeRejectionReason',\n                string\n            >\n        >,\n    ) {\n        super(control, changeDetectorRef);\n    }\n\n    get nativeFocusableElement(): TuiNativeFocusableElement | null {\n        return this.input?.nativeElement || null;\n    }\n\n    get focused(): boolean {\n        return isNativeFocused(this.nativeFocusableElement);\n    }\n\n    get computedPseudoHovered(): boolean | null {\n        return this.pseudoHovered ?? (this.fileDragged || null);\n    }\n\n    get computedLink$(): Observable<PolymorpheusContent> {\n        return this.computeLink$(this.fileDragged, this.multiple, this.link);\n    }\n\n    get computedLabel$(): Observable<PolymorpheusContent> {\n        return this.computeLabel$(\n            this.isMobile,\n            this.fileDragged,\n            this.multiple,\n            this.label,\n        );\n    }\n\n    get fileDragged(): boolean {\n        return !!this.dataTransfer?.types.includes('Files');\n    }\n\n    get arrayValue(): readonly TuiFileLike[] {\n        return this.getValueArray(this.value);\n    }\n\n    onHovered(hovered: boolean): void {\n        this.updateHovered(hovered);\n    }\n\n    onFocused(focused: boolean): void {\n        this.updateFocused(focused);\n    }\n\n    onPressed(pressed: boolean): void {\n        this.updatePressed(pressed);\n    }\n\n    onFilesSelected(\n        input: HTMLInputElement,\n        formatRejection: PolymorpheusContent,\n        maxSizeRejection: PolymorpheusContent,\n    ): void {\n        this.processSelectedFiles(input.files, {formatRejection, maxSizeRejection});\n        input.value = '';\n    }\n\n    onDropped(\n        event: DataTransfer,\n        formatRejection: PolymorpheusContent,\n        maxSizeRejection: PolymorpheusContent,\n    ): void {\n        this.processSelectedFiles(event.files, {formatRejection, maxSizeRejection});\n    }\n\n    onDragOver(dataTransfer: DataTransfer | null): void {\n        this.dataTransfer = dataTransfer;\n    }\n\n    removeFile(removedFile: TuiFileLike): void {\n        this.updateValue(\n            this.multiple ? this.arrayValue.filter(file => file !== removedFile) : null,\n        );\n    }\n\n    @tuiPure\n    private computeLink$(\n        fileDragged: boolean,\n        multiple: boolean,\n        link: PolymorpheusContent,\n    ): Observable<PolymorpheusContent> {\n        return fileDragged\n            ? of('')\n            : this.inputFileTexts$.pipe(\n                  map(texts =>\n                      multiple && link === ''\n                          ? texts.defaultLinkMultiple\n                          : link || texts.defaultLinkSingle,\n                  ),\n              );\n    }\n\n    @tuiPure\n    private computeLabel$(\n        isMobile: boolean,\n        fileDragged: boolean,\n        multiple: boolean,\n        label: PolymorpheusContent,\n    ): Observable<PolymorpheusContent> {\n        if (isMobile) {\n            return of('');\n        }\n\n        if (fileDragged) {\n            return this.inputFileTexts$.pipe(\n                map(texts => (multiple ? texts.dropMultiple : texts.drop)),\n            );\n        }\n\n        return this.inputFileTexts$.pipe(\n            map(texts =>\n                multiple && label === ''\n                    ? texts.defaultLabelMultiple\n                    : label || texts.defaultLabelSingle,\n            ),\n        );\n    }\n\n    @tuiPure\n    private getValueArray(\n        value: TuiFileLike | readonly TuiFileLike[] | null,\n    ): readonly TuiFileLike[] {\n        if (!value) {\n            return EMPTY_ARRAY;\n        }\n\n        return Array.isArray(value) ? value : [value];\n    }\n\n    private processSelectedFiles(\n        files: FileList | null,\n        errors: Record<'formatRejection' | 'maxSizeRejection', PolymorpheusContent>,\n    ): void {\n        // IE11 after selecting a file through the open dialog generates a second event passing an empty FileList.\n        if (!files?.length) {\n            return;\n        }\n\n        const newFiles = this.multiple ? Array.from(files) : [files[0]];\n        const tooBigFiles = newFiles.filter(file => file.size > this.maxFileSize);\n        const wrongFormatFiles = newFiles.filter(\n            file => !this.isFormatAcceptable(file) && !tooBigFiles.includes(file),\n        );\n        const acceptedFiles = newFiles.filter(\n            file => !tooBigFiles.includes(file) && !wrongFormatFiles.includes(file),\n        );\n\n        if (tooBigFiles.length || wrongFormatFiles.length) {\n            this.rejectFiles([\n                ...tooBigFiles.map(file => ({\n                    name: file.name,\n                    type: file.type,\n                    size: file.size,\n                    content: errors.maxSizeRejection,\n                })),\n                ...wrongFormatFiles.map(file => ({\n                    name: file.name,\n                    type: file.type,\n                    size: file.size,\n                    content: errors.formatRejection,\n                })),\n            ]);\n        }\n\n        this.updateValue(\n            this.multiple\n                ? [...this.arrayValue, ...acceptedFiles]\n                : acceptedFiles[0] || null,\n        );\n    }\n\n    private isFormatAcceptable(file: File): boolean {\n        if (!this.accept) {\n            return true;\n        }\n\n        const extension = `.${(file.name.split('.').pop() || '').toLowerCase()}`;\n\n        return getAcceptArray(this.accept).some(\n            format =>\n                format === extension ||\n                format === file.type ||\n                (format.split('/')[1] === '*' &&\n                    file.type.split('/')[0] === format.split('/')[0]),\n        );\n    }\n\n    private rejectFiles(rejectedFiles: readonly TuiFileLike[]): void {\n        this.reject.emit(this.multiple ? rejectedFiles : rejectedFiles[0]);\n    }\n}\n","import {Inject, Pipe, PipeTransform} from '@angular/core';\nimport {TuiInjectionTokenType} from '@taiga-ui/cdk';\nimport {TUI_DIGITAL_INFORMATION_UNITS, TUI_INPUT_FILE_TEXTS} from '@taiga-ui/kit/tokens';\nimport {tuiFormatSize} from '@taiga-ui/kit/utils';\nimport {combineLatest, Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\n@Pipe({name: `tuiMaxSizeRejectionError`})\nexport class TuiMaxSizeRejectionErrorPipe implements PipeTransform {\n    constructor(\n        @Inject(TUI_INPUT_FILE_TEXTS)\n        private readonly inputFileTexts$: TuiInjectionTokenType<\n            typeof TUI_INPUT_FILE_TEXTS\n        >,\n        @Inject(TUI_DIGITAL_INFORMATION_UNITS)\n        private readonly units$: TuiInjectionTokenType<\n            typeof TUI_DIGITAL_INFORMATION_UNITS\n        >,\n    ) {}\n\n    transform(maxFileSize: number): Observable<string> {\n        return combineLatest([this.inputFileTexts$, this.units$]).pipe(\n            map(\n                ([{maxSizeRejectionReason}, units]) =>\n                    maxSizeRejectionReason + tuiFormatSize(units, maxFileSize),\n            ),\n        );\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {\n    TuiDroppableModule,\n    TuiFocusableModule,\n    TuiFocusedModule,\n    TuiFocusVisibleModule,\n    TuiHoveredModule,\n    TuiItemDirective,\n    TuiLetModule,\n    TuiPressedModule,\n} from '@taiga-ui/cdk';\nimport {\n    TuiButtonModule,\n    TuiGroupModule,\n    TuiLinkModule,\n    TuiLoaderModule,\n    TuiSvgModule,\n    TuiWrapperModule,\n} from '@taiga-ui/core';\nimport {\n    TuiFileComponent,\n    TuiFilesComponent,\n    TuiFilesModule,\n} from '@taiga-ui/kit/components/files';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiInputFilesComponent} from './input-files.component';\nimport {TuiMaxSizeRejectionErrorPipe} from './max-size-rejection-error.pipe';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        TuiLetModule,\n        TuiFocusedModule,\n        TuiFocusVisibleModule,\n        TuiPressedModule,\n        TuiHoveredModule,\n        TuiFocusableModule,\n        TuiDroppableModule,\n        TuiWrapperModule,\n        TuiSvgModule,\n        TuiLinkModule,\n        TuiLoaderModule,\n        TuiButtonModule,\n        TuiGroupModule,\n        TuiFilesModule,\n    ],\n    declarations: [TuiInputFilesComponent, TuiMaxSizeRejectionErrorPipe],\n    exports: [\n        TuiInputFilesComponent,\n        TuiFilesComponent,\n        TuiFileComponent,\n        TuiItemDirective,\n    ],\n})\nexport class TuiInputFilesModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {TuiMaxSizeRejectionErrorPipe as ɵa} from './max-size-rejection-error.pipe';"],"names":[],"mappings":"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"}