{"version":3,"file":"taiga-ui-kit-components-input-files.js","sources":["ng://@taiga-ui/kit/components/input-files/input-files.component.ts","ng://@taiga-ui/kit/components/input-files/max-size-rejection-error.pipe.ts","ng://@taiga-ui/kit/components/input-files/input-files.module.ts","ng://@taiga-ui/kit/components/input-files/taiga-ui-kit-components-input-files.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    ChangeDetectorRef,\n    Component,\n    ElementRef,\n    EventEmitter,\n    forwardRef,\n    Inject,\n    Input,\n    Optional,\n    Output,\n    Self,\n    ViewChild,\n    ViewEncapsulation,\n} from '@angular/core';\nimport {NgControl} from '@angular/forms';\nimport {\n    AbstractTuiNullableControl,\n    EMPTY_ARRAY,\n    isNativeFocused,\n    TUI_FOCUSABLE_ITEM_ACCESSOR,\n    TUI_IS_MOBILE,\n    tuiDefaultProp,\n    TuiFocusableElementAccessor,\n    TuiNativeFocusableElement,\n    tuiPure,\n} from '@taiga-ui/cdk';\nimport {MODE_PROVIDER, TuiSizeL} from '@taiga-ui/core';\nimport {TuiFileLike} from '@taiga-ui/kit/interfaces';\nimport {TUI_INPUT_FILE_TEXTS} from '@taiga-ui/kit/tokens';\nimport {getAcceptArray} from '@taiga-ui/kit/utils/files';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Observable, of} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nconst DEFAULT_MAX_SIZE = 30 * 1024 * 1024; // 30 MiB\n\n// @dynamic\n@Component({\n    selector: 'tui-input-files',\n    templateUrl: './input-files.template.html',\n    styleUrls: ['./input-files.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    encapsulation: ViewEncapsulation.None,\n    providers: [\n        MODE_PROVIDER,\n        {\n            provide: TUI_FOCUSABLE_ITEM_ACCESSOR,\n            useExisting: forwardRef(() => TuiInputFilesComponent),\n        },\n    ],\n})\nexport class TuiInputFilesComponent\n    extends AbstractTuiNullableControl<TuiFileLike | readonly TuiFileLike[]>\n    implements TuiFocusableElementAccessor\n{\n    @ViewChild('input')\n    private readonly input?: ElementRef<HTMLInputElement>;\n\n    private dataTransfer: DataTransfer | null = null;\n\n    @Input()\n    @tuiDefaultProp()\n    link: PolymorpheusContent = '';\n\n    @Input()\n    @tuiDefaultProp()\n    label: PolymorpheusContent = '';\n\n    @Input()\n    @tuiDefaultProp()\n    accept = '';\n\n    @Input()\n    @tuiDefaultProp()\n    multiple = false;\n\n    @Input()\n    @tuiDefaultProp()\n    size: TuiSizeL = 'm';\n\n    @Input()\n    @tuiDefaultProp()\n    maxFileSize = DEFAULT_MAX_SIZE;\n\n    @Output()\n    reject = new EventEmitter<TuiFileLike | readonly TuiFileLike[]>();\n\n    constructor(\n        @Optional()\n        @Self()\n        @Inject(NgControl)\n        control: NgControl | null,\n        @Inject(ChangeDetectorRef)\n        changeDetectorRef: ChangeDetectorRef,\n        @Inject(TUI_IS_MOBILE)\n        readonly isMobile: boolean,\n        @Inject(TUI_INPUT_FILE_TEXTS)\n        readonly inputFileTexts$: Observable<\n            Record<\n                | 'defaultLabelMultiple'\n                | 'defaultLabelSingle'\n                | 'defaultLinkMultiple'\n                | 'defaultLinkSingle'\n                | 'drop'\n                | 'dropMultiple'\n                | 'formatRejectionReason'\n                | 'maxSizeRejectionReason',\n                string\n            >\n        >,\n    ) {\n        super(control, changeDetectorRef);\n    }\n\n    get nativeFocusableElement(): TuiNativeFocusableElement | null {\n        return this.input?.nativeElement || null;\n    }\n\n    get focused(): boolean {\n        return isNativeFocused(this.nativeFocusableElement);\n    }\n\n    get computedPseudoHovered(): boolean | null {\n        return this.pseudoHovered ?? (this.fileDragged || null);\n    }\n\n    get computedLink$(): Observable<PolymorpheusContent> {\n        return this.computeLink$(this.fileDragged, this.multiple, this.link);\n    }\n\n    get computedLabel$(): Observable<PolymorpheusContent> {\n        return this.computeLabel$(\n            this.isMobile,\n            this.fileDragged,\n            this.multiple,\n            this.label,\n        );\n    }\n\n    get fileDragged(): boolean {\n        return !!this.dataTransfer?.types.includes('Files');\n    }\n\n    get arrayValue(): readonly TuiFileLike[] {\n        return this.getValueArray(this.value);\n    }\n\n    onHovered(hovered: boolean): void {\n        this.updateHovered(hovered);\n    }\n\n    onFocused(focused: boolean): void {\n        this.updateFocused(focused);\n    }\n\n    onPressed(pressed: boolean): void {\n        this.updatePressed(pressed);\n    }\n\n    onFilesSelected(\n        input: HTMLInputElement,\n        formatRejection: PolymorpheusContent,\n        maxSizeRejection: PolymorpheusContent,\n    ): void {\n        this.processSelectedFiles(input.files, {formatRejection, maxSizeRejection});\n        input.value = '';\n    }\n\n    onDropped(\n        event: DataTransfer,\n        formatRejection: PolymorpheusContent,\n        maxSizeRejection: PolymorpheusContent,\n    ): void {\n        this.processSelectedFiles(event.files, {formatRejection, maxSizeRejection});\n    }\n\n    onDragOver(dataTransfer: DataTransfer | null): void {\n        this.dataTransfer = dataTransfer;\n    }\n\n    removeFile(removedFile: TuiFileLike): void {\n        this.updateValue(\n            this.multiple ? this.arrayValue.filter(file => file !== removedFile) : null,\n        );\n    }\n\n    @tuiPure\n    private computeLink$(\n        fileDragged: boolean,\n        multiple: boolean,\n        link: PolymorpheusContent,\n    ): Observable<PolymorpheusContent> {\n        return fileDragged\n            ? of('')\n            : this.inputFileTexts$.pipe(\n                  map(texts =>\n                      multiple && link === ''\n                          ? texts.defaultLinkMultiple\n                          : link || texts.defaultLinkSingle,\n                  ),\n              );\n    }\n\n    @tuiPure\n    private computeLabel$(\n        isMobile: boolean,\n        fileDragged: boolean,\n        multiple: boolean,\n        label: PolymorpheusContent,\n    ): Observable<PolymorpheusContent> {\n        if (isMobile) {\n            return of('');\n        }\n\n        if (fileDragged) {\n            return this.inputFileTexts$.pipe(\n                map(texts => (multiple ? texts.dropMultiple : texts.drop)),\n            );\n        }\n\n        return this.inputFileTexts$.pipe(\n            map(texts =>\n                multiple && label === ''\n                    ? texts.defaultLabelMultiple\n                    : label || texts.defaultLabelSingle,\n            ),\n        );\n    }\n\n    @tuiPure\n    private getValueArray(\n        value: TuiFileLike | readonly TuiFileLike[] | null,\n    ): readonly TuiFileLike[] {\n        if (!value) {\n            return EMPTY_ARRAY;\n        }\n\n        return Array.isArray(value) ? value : [value];\n    }\n\n    private processSelectedFiles(\n        files: FileList | null,\n        errors: Record<'formatRejection' | 'maxSizeRejection', PolymorpheusContent>,\n    ): void {\n        // IE11 after selecting a file through the open dialog generates a second event passing an empty FileList.\n        if (!files?.length) {\n            return;\n        }\n\n        const newFiles = this.multiple ? Array.from(files) : [files[0]];\n        const tooBigFiles = newFiles.filter(file => file.size > this.maxFileSize);\n        const wrongFormatFiles = newFiles.filter(\n            file => !this.isFormatAcceptable(file) && !tooBigFiles.includes(file),\n        );\n        const acceptedFiles = newFiles.filter(\n            file => !tooBigFiles.includes(file) && !wrongFormatFiles.includes(file),\n        );\n\n        if (tooBigFiles.length || wrongFormatFiles.length) {\n            this.rejectFiles([\n                ...tooBigFiles.map(file => ({\n                    name: file.name,\n                    type: file.type,\n                    size: file.size,\n                    content: errors.maxSizeRejection,\n                })),\n                ...wrongFormatFiles.map(file => ({\n                    name: file.name,\n                    type: file.type,\n                    size: file.size,\n                    content: errors.formatRejection,\n                })),\n            ]);\n        }\n\n        this.updateValue(\n            this.multiple\n                ? [...this.arrayValue, ...acceptedFiles]\n                : acceptedFiles[0] || null,\n        );\n    }\n\n    private isFormatAcceptable(file: File): boolean {\n        if (!this.accept) {\n            return true;\n        }\n\n        const extension = `.${(file.name.split('.').pop() || '').toLowerCase()}`;\n\n        return getAcceptArray(this.accept).some(\n            format =>\n                format === extension ||\n                format === file.type ||\n                (format.split('/')[1] === '*' &&\n                    file.type.split('/')[0] === format.split('/')[0]),\n        );\n    }\n\n    private rejectFiles(rejectedFiles: readonly TuiFileLike[]): void {\n        this.reject.emit(this.multiple ? rejectedFiles : rejectedFiles[0]);\n    }\n}\n","import {Inject, Pipe, PipeTransform} from '@angular/core';\nimport {TuiInjectionTokenType} from '@taiga-ui/cdk';\nimport {TUI_DIGITAL_INFORMATION_UNITS, TUI_INPUT_FILE_TEXTS} from '@taiga-ui/kit/tokens';\nimport {tuiFormatSize} from '@taiga-ui/kit/utils';\nimport {combineLatest, Observable} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\n@Pipe({name: `tuiMaxSizeRejectionError`})\nexport class TuiMaxSizeRejectionErrorPipe implements PipeTransform {\n    constructor(\n        @Inject(TUI_INPUT_FILE_TEXTS)\n        private readonly inputFileTexts$: TuiInjectionTokenType<\n            typeof TUI_INPUT_FILE_TEXTS\n        >,\n        @Inject(TUI_DIGITAL_INFORMATION_UNITS)\n        private readonly units$: TuiInjectionTokenType<\n            typeof TUI_DIGITAL_INFORMATION_UNITS\n        >,\n    ) {}\n\n    transform(maxFileSize: number): Observable<string> {\n        return combineLatest([this.inputFileTexts$, this.units$]).pipe(\n            map(\n                ([{maxSizeRejectionReason}, units]) =>\n                    maxSizeRejectionReason + tuiFormatSize(units, maxFileSize),\n            ),\n        );\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {\n    TuiDroppableModule,\n    TuiFocusableModule,\n    TuiFocusedModule,\n    TuiFocusVisibleModule,\n    TuiHoveredModule,\n    TuiItemDirective,\n    TuiLetModule,\n    TuiPressedModule,\n} from '@taiga-ui/cdk';\nimport {\n    TuiButtonModule,\n    TuiGroupModule,\n    TuiLinkModule,\n    TuiLoaderModule,\n    TuiSvgModule,\n    TuiWrapperModule,\n} from '@taiga-ui/core';\nimport {\n    TuiFileComponent,\n    TuiFilesComponent,\n    TuiFilesModule,\n} from '@taiga-ui/kit/components/files';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiInputFilesComponent} from './input-files.component';\nimport {TuiMaxSizeRejectionErrorPipe} from './max-size-rejection-error.pipe';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        TuiLetModule,\n        TuiFocusedModule,\n        TuiFocusVisibleModule,\n        TuiPressedModule,\n        TuiHoveredModule,\n        TuiFocusableModule,\n        TuiDroppableModule,\n        TuiWrapperModule,\n        TuiSvgModule,\n        TuiLinkModule,\n        TuiLoaderModule,\n        TuiButtonModule,\n        TuiGroupModule,\n        TuiFilesModule,\n    ],\n    declarations: [TuiInputFilesComponent, TuiMaxSizeRejectionErrorPipe],\n    exports: [\n        TuiInputFilesComponent,\n        TuiFilesComponent,\n        TuiFileComponent,\n        TuiItemDirective,\n    ],\n})\nexport class TuiInputFilesModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n\nexport {TuiMaxSizeRejectionErrorPipe as Éµa} from './max-size-rejection-error.pipe';"],"names":[],"mappings":"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"}