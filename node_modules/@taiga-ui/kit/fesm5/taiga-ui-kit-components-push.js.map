{"version":3,"file":"taiga-ui-kit-components-push.js","sources":["ng://@taiga-ui/kit/components/push/push.component.ts","ng://@taiga-ui/kit/components/push/push.directive.ts","ng://@taiga-ui/kit/components/push/push.options.ts","ng://@taiga-ui/kit/components/push/push-alert.directive.ts","ng://@taiga-ui/kit/components/push/push-alert.component.ts","ng://@taiga-ui/kit/components/push/push.service.ts","ng://@taiga-ui/kit/components/push/push.module.ts","ng://@taiga-ui/kit/components/push/taiga-ui-kit-components-push.ts"],"sourcesContent":["import {\n    ChangeDetectionStrategy,\n    Component,\n    EventEmitter,\n    Inject,\n    Input,\n    Output,\n} from '@angular/core';\nimport {tuiDefaultProp, tuiIsObserved} from '@taiga-ui/cdk';\nimport {TUI_CLOSE_WORD} from '@taiga-ui/core';\nimport {Observable} from 'rxjs';\n\n@Component({\n    selector: 'tui-push',\n    templateUrl: './push.template.html',\n    styleUrls: ['./push.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiPushComponent {\n    @Input()\n    @tuiDefaultProp()\n    heading = '';\n\n    @Input()\n    @tuiDefaultProp()\n    type = '';\n\n    @Input()\n    @tuiDefaultProp()\n    timestamp = 0;\n\n    @Output()\n    readonly close = new EventEmitter<void>();\n\n    constructor(@Inject(TUI_CLOSE_WORD) readonly closeWord$: Observable<string>) {}\n\n    get closeable(): boolean {\n        return tuiIsObserved(this.close);\n    }\n}\n","import {Directive, Inject, Optional, SkipSelf} from '@angular/core';\nimport {TUI_BUTTON_OPTIONS, TuiButtonOptions, TuiModeDirective} from '@taiga-ui/core';\nimport {Subject} from 'rxjs';\n\n@Directive({\n    selector: 'tui-push',\n    providers: [\n        {\n            provide: TuiModeDirective,\n            useExisting: TuiPushDirective,\n        },\n        {\n            provide: TUI_BUTTON_OPTIONS,\n            useExisting: TuiPushDirective,\n        },\n    ],\n})\nexport class TuiPushDirective extends TuiModeDirective implements TuiButtonOptions {\n    size: TuiButtonOptions['size'] = 's';\n\n    shape = null;\n\n    readonly change$ = this.modeDirective?.change$ || new Subject();\n\n    constructor(\n        @Optional()\n        @SkipSelf()\n        @Inject(TuiModeDirective)\n        private readonly modeDirective: TuiModeDirective | null,\n    ) {\n        super();\n    }\n\n    get appearance(): string {\n        return this.modeDirective?.mode === 'onDark' ? 'accent' : 'secondary';\n    }\n}\n","export interface TuiPushOptions {\n    readonly heading: string;\n    readonly type: string;\n    readonly timestamp: number;\n    readonly image: string;\n    readonly icon: string;\n    readonly iconColor: string;\n    readonly buttons: readonly string[];\n}\n\nexport const TUI_PUSH_DEFAULT_OPTIONS: TuiPushOptions = {\n    heading: ``,\n    type: ``,\n    timestamp: 0,\n    image: ``,\n    icon: ``,\n    iconColor: ``,\n    buttons: [],\n};\n","import {\n    ChangeDetectorRef,\n    Directive,\n    forwardRef,\n    Inject,\n    Input,\n    TemplateRef,\n} from '@angular/core';\nimport {TuiDestroyService} from '@taiga-ui/cdk';\nimport {PolymorpheusTemplate} from '@tinkoff/ng-polymorpheus';\nimport {EMPTY, Observable, Subject} from 'rxjs';\nimport {switchMap, takeUntil} from 'rxjs/operators';\n\nimport {TuiPushService} from './push.service';\n\n@Directive({\n    selector: '[tuiPush]',\n    providers: [TuiDestroyService],\n})\nexport class TuiPushAlertDirective extends PolymorpheusTemplate<any> {\n    private readonly show$ = new Subject<boolean>();\n\n    @Input()\n    set tuiPush(show: boolean) {\n        this.show$.next(show);\n    }\n\n    constructor(\n        @Inject(TemplateRef) template: TemplateRef<any>,\n        @Inject(ChangeDetectorRef) changeDetectorRef: ChangeDetectorRef,\n        @Inject(TuiDestroyService) destroy$: Observable<unknown>,\n        @Inject(forwardRef(() => TuiPushService)) push: TuiPushService,\n    ) {\n        super(template, changeDetectorRef);\n\n        this.show$\n            .pipe(\n                switchMap(show => (show ? push.open(this) : EMPTY)),\n                takeUntil(destroy$),\n            )\n            .subscribe();\n    }\n}\n","import {AnimationOptions} from '@angular/animations';\nimport {ChangeDetectionStrategy, Component, HostBinding, Inject} from '@angular/core';\nimport {TuiDialog} from '@taiga-ui/cdk';\nimport {\n    TUI_ANIMATION_OPTIONS,\n    tuiFadeIn,\n    tuiHeightCollapse,\n    tuiSlideInRight,\n} from '@taiga-ui/core';\nimport {POLYMORPHEUS_CONTEXT} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiPushOptions} from './push.options';\nimport {TuiPushAlertDirective} from './push-alert.directive';\n\n@Component({\n    selector: 'tui-push-alert',\n    templateUrl: './push-alert.template.html',\n    styleUrls: ['./push-alert.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    animations: [tuiFadeIn, tuiSlideInRight, tuiHeightCollapse],\n    host: {role: 'alert'},\n})\nexport class TuiPushAlertComponent {\n    @HostBinding('@tuiFadeIn')\n    @HostBinding('@tuiSlideInRight')\n    @HostBinding('@tuiHeightCollapse')\n    readonly animation = {value: '', ...this.options} as const;\n\n    constructor(\n        @Inject(TUI_ANIMATION_OPTIONS) private readonly options: AnimationOptions,\n        @Inject(POLYMORPHEUS_CONTEXT)\n        readonly context: TuiDialog<TuiPushOptions, string>,\n    ) {}\n\n    get isDirective(): boolean {\n        return this.context.content instanceof TuiPushAlertDirective;\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {AbstractTuiDialogService, TuiBaseDialogContext} from '@taiga-ui/cdk';\nimport {PolymorpheusComponent, PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Observable} from 'rxjs';\n\nimport {TUI_PUSH_DEFAULT_OPTIONS, TuiPushOptions} from './push.options';\nimport {TuiPushAlertComponent} from './push-alert.component';\n\n@Injectable({providedIn: `root`})\nexport class TuiPushService extends AbstractTuiDialogService<TuiPushOptions, string> {\n    protected readonly component = new PolymorpheusComponent(TuiPushAlertComponent);\n    protected readonly defaultOptions = TUI_PUSH_DEFAULT_OPTIONS;\n\n    open(\n        content: PolymorpheusContent<TuiBaseDialogContext<string> & TuiPushOptions>,\n        options: Partial<TuiPushOptions> = {},\n    ): Observable<string> {\n        return super.open(content, options);\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TUI_ALERTS} from '@taiga-ui/cdk';\nimport {\n    TuiButtonModule,\n    TuiFormatDatePipeModule,\n    TuiLinkModule,\n    TuiSvgModule,\n} from '@taiga-ui/core';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiPushComponent} from './push.component';\nimport {TuiPushDirective} from './push.directive';\nimport {TuiPushService} from './push.service';\nimport {TuiPushAlertComponent} from './push-alert.component';\nimport {TuiPushAlertDirective} from './push-alert.directive';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        TuiButtonModule,\n        TuiLinkModule,\n        TuiSvgModule,\n        TuiFormatDatePipeModule,\n    ],\n    declarations: [\n        TuiPushComponent,\n        TuiPushDirective,\n        TuiPushAlertComponent,\n        TuiPushAlertDirective,\n    ],\n    exports: [\n        TuiPushComponent,\n        TuiPushDirective,\n        TuiPushAlertComponent,\n        TuiPushAlertDirective,\n    ],\n    providers: [\n        {\n            provide: TUI_ALERTS,\n            useExisting: TuiPushService,\n            multi: true,\n        },\n    ],\n})\nexport class TuiPushModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}