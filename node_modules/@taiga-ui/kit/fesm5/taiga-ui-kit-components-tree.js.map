{"version":3,"file":"taiga-ui-kit-components-tree.js","sources":["ng://@taiga-ui/kit/components/tree/directives/tree-children.directive.ts","ng://@taiga-ui/kit/components/tree/components/tree-item-content/tree-item-content.component.ts","ng://@taiga-ui/kit/components/tree/misc/tree.constants.ts","ng://@taiga-ui/kit/components/tree/misc/tree.tokens.ts","ng://@taiga-ui/kit/components/tree/components/tree-item/tree-item.providers.ts","ng://@taiga-ui/kit/components/tree/components/tree-item/tree-item.component.ts","ng://@taiga-ui/kit/components/tree/components/tree/tree.component.ts","ng://@taiga-ui/kit/components/tree/directives/tree-controller.directive.ts","ng://@taiga-ui/kit/components/tree/directives/tree-item-controller.directive.ts","ng://@taiga-ui/kit/components/tree/directives/tree-node.directive.ts","ng://@taiga-ui/kit/components/tree/misc/tree.service.ts","ng://@taiga-ui/kit/components/tree/tree.module.ts","ng://@taiga-ui/kit/components/tree/taiga-ui-kit-components-tree.ts"],"sourcesContent":["import {Directive, Input} from '@angular/core';\nimport {EMPTY_ARRAY, tuiDefaultProp, TuiHandler} from '@taiga-ui/cdk';\n\n@Directive({\n    selector: 'tui-tree[childrenHandler]',\n})\nexport class TuiTreeChildrenDirective<T> {\n    @Input()\n    @tuiDefaultProp()\n    childrenHandler: TuiHandler<T, readonly T[]> =\n        TuiTreeChildrenDirective.defaultHandler;\n\n    static defaultHandler<G>(item: G): readonly G[] {\n        return Array.isArray(item) ? item : EMPTY_ARRAY;\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    forwardRef,\n    HostBinding,\n    Inject,\n} from '@angular/core';\nimport {POLYMORPHEUS_CONTEXT} from '@tinkoff/ng-polymorpheus';\n\nimport {TUI_DEFAULT_TREE_CONTROLLER} from '../../misc/tree.constants';\nimport {TuiTreeController, TuiTreeItemContext} from '../../misc/tree.interfaces';\nimport {TUI_TREE_CONTROLLER} from '../../misc/tree.tokens';\n\n@Component({\n    selector: 'tui-tree-item-content',\n    templateUrl: 'tree-item-content.template.html',\n    styleUrls: ['tree-item-content.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class TuiTreeItemContentComponent {\n    constructor(\n        @Inject(POLYMORPHEUS_CONTEXT) readonly context: TuiTreeItemContext,\n        @Inject(forwardRef(() => TUI_TREE_CONTROLLER))\n        private readonly controller: TuiTreeController,\n    ) {}\n\n    get isExpanded(): boolean {\n        return this.context.$implicit.isExpanded;\n    }\n\n    @HostBinding('class._expandable')\n    get isExpandable(): boolean {\n        return (\n            this.context.$implicit.isExpandable &&\n            this.controller !== TUI_DEFAULT_TREE_CONTROLLER\n        );\n    }\n\n    onClick(): void {\n        this.controller.toggle(this.context.$implicit);\n    }\n}\n","import {ALWAYS_TRUE_HANDLER, EMPTY_FUNCTION} from '@taiga-ui/cdk';\nimport {PolymorpheusComponent} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiTreeItemContentComponent} from '../components/tree-item-content/tree-item-content.component';\nimport {TuiTreeController} from './tree.interfaces';\n\nexport const TUI_TREE_ITEM_CONTENT = new PolymorpheusComponent(\n    TuiTreeItemContentComponent,\n);\n\nexport const TUI_DEFAULT_TREE_CONTROLLER: TuiTreeController = {\n    isExpanded: ALWAYS_TRUE_HANDLER,\n    toggle: EMPTY_FUNCTION as () => void,\n};\n","import {InjectionToken} from '@angular/core';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\n\nimport {TUI_DEFAULT_TREE_CONTROLLER, TUI_TREE_ITEM_CONTENT} from './tree.constants';\nimport {\n    TuiTreeAccessor,\n    TuiTreeController,\n    TuiTreeItemContext,\n    TuiTreeLoader,\n} from './tree.interfaces';\n\nexport const TUI_TREE_ACCESSOR = new InjectionToken<TuiTreeAccessor<unknown>>(\n    `Controller for tracking value - TuiTreeItemComponent pairs`,\n);\n\nexport const TUI_TREE_CONTROLLER = new InjectionToken<TuiTreeController>(\n    `Controller for expanding the tree`,\n    {\n        factory: () => TUI_DEFAULT_TREE_CONTROLLER,\n    },\n);\n\nexport const TUI_TREE_NODE = new InjectionToken(`A node of a tree view`);\n\nexport const TUI_TREE_LOADING = new InjectionToken(\n    `A tree node placeholder for loading`,\n    {factory: () => ({})},\n);\n\nexport const TUI_TREE_START = new InjectionToken(`A tree node starting point`);\n\nexport const TUI_TREE_LOADER = new InjectionToken<TuiTreeLoader<unknown>>(\n    `A service to load tree progressively`,\n);\n\nexport const TUI_TREE_CONTENT = new InjectionToken<\n    PolymorpheusContent<TuiTreeItemContext>\n>(`Content for a tree item`, {\n    factory: () => TUI_TREE_ITEM_CONTENT,\n});\n\nexport const TUI_TREE_LEVEL = new InjectionToken<number>(\n    `Nesting level of current TreeView node`,\n    {\n        factory: () => -1,\n    },\n);\n","import {forwardRef, Provider, SkipSelf} from '@angular/core';\n\nimport {TUI_TREE_LEVEL, TUI_TREE_NODE} from '../../misc/tree.tokens';\nimport {TuiTreeItemComponent} from './tree-item.component';\n\nexport const TUI_TREE_ITEM_PROVIDERS: Provider[] = [\n    {\n        provide: TUI_TREE_LEVEL,\n        deps: [[new SkipSelf(), TUI_TREE_LEVEL]],\n        useFactory: treeLevelFactory,\n    },\n    {\n        provide: TUI_TREE_NODE,\n        useExisting: forwardRef(() => TuiTreeItemComponent),\n    },\n];\n\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function treeLevelFactory(level: number): number {\n    return ++level;\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    ContentChildren,\n    DoCheck,\n    ElementRef,\n    forwardRef,\n    HostBinding,\n    Inject,\n    QueryList,\n} from '@angular/core';\nimport {EMPTY_QUERY} from '@taiga-ui/cdk';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Subject} from 'rxjs';\nimport {distinctUntilChanged, map, startWith} from 'rxjs/operators';\n\nimport {TuiTreeController, TuiTreeItemContext} from '../../misc/tree.interfaces';\nimport {\n    TUI_TREE_CONTENT,\n    TUI_TREE_CONTROLLER,\n    TUI_TREE_LEVEL,\n    TUI_TREE_NODE,\n} from '../../misc/tree.tokens';\nimport {TUI_TREE_ITEM_PROVIDERS} from './tree-item.providers';\n\n@Component({\n    selector: 'tui-tree-item',\n    templateUrl: './tree-item.template.html',\n    styleUrls: ['./tree-item.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: TUI_TREE_ITEM_PROVIDERS,\n    host: {\n        role: 'treeitem',\n    },\n})\nexport class TuiTreeItemComponent implements DoCheck {\n    @ContentChildren(TUI_TREE_NODE as any)\n    private readonly nested: QueryList<unknown> = EMPTY_QUERY;\n\n    private readonly change$ = new Subject<void>();\n\n    readonly expanded$ = this.change$.pipe(\n        startWith(null),\n        map(() => this.isExpanded),\n        distinctUntilChanged(),\n    );\n\n    readonly attached$ = this.change$.pipe(\n        map(() => this.elementRef.nativeElement.isConnected),\n        distinctUntilChanged(),\n    );\n\n    constructor(\n        @Inject(ElementRef)\n        private readonly elementRef: ElementRef<HTMLElement>,\n        @Inject(forwardRef(() => TUI_TREE_CONTROLLER))\n        private readonly controller: TuiTreeController,\n        @Inject(forwardRef(() => TUI_TREE_LEVEL))\n        readonly level: number,\n        @Inject(forwardRef(() => TUI_TREE_CONTENT))\n        readonly content: PolymorpheusContent<TuiTreeItemContext>,\n    ) {}\n\n    @HostBinding('class._expandable')\n    get isExpandable(): boolean {\n        return !!this.nested.length;\n    }\n\n    get isExpanded(): boolean {\n        return this.controller.isExpanded(this);\n    }\n\n    ngDoCheck(): void {\n        this.change$.next();\n    }\n}\n","import {\n    ChangeDetectionStrategy,\n    Component,\n    DoCheck,\n    Inject,\n    Input,\n    Optional,\n    ViewChild,\n} from '@angular/core';\nimport {TuiHandler} from '@taiga-ui/cdk';\nimport {PolymorpheusContent} from '@tinkoff/ng-polymorpheus';\nimport {Subject} from 'rxjs';\nimport {distinctUntilChanged, map, startWith} from 'rxjs/operators';\n\nimport {TuiTreeChildrenDirective} from '../../directives/tree-children.directive';\nimport {TuiTreeContext} from '../../misc/tree.interfaces';\nimport {TUI_TREE_NODE} from '../../misc/tree.tokens';\nimport {TuiTreeItemComponent} from '../tree-item/tree-item.component';\n\n@Component({\n    selector: 'tui-tree[value]',\n    templateUrl: 'tree.template.html',\n    styleUrls: ['tree.style.less'],\n    changeDetection: ChangeDetectionStrategy.OnPush,\n    providers: [\n        {\n            provide: TUI_TREE_NODE,\n            useExisting: TuiTreeComponent,\n        },\n    ],\n    host: {\n        role: 'tree',\n    },\n})\nexport class TuiTreeComponent<T> implements DoCheck {\n    private readonly check$ = new Subject<void>();\n\n    @Input()\n    value!: T;\n\n    @ViewChild(TuiTreeItemComponent)\n    readonly item?: TuiTreeItemComponent;\n\n    @ViewChild(TuiTreeComponent)\n    readonly child?: TuiTreeComponent<T>;\n\n    readonly children$ = this.check$.pipe(\n        startWith(null),\n        map(() => this.handler(this.value)),\n        distinctUntilChanged(),\n    );\n\n    constructor(\n        @Optional()\n        @Inject(TuiTreeChildrenDirective)\n        readonly directive: TuiTreeChildrenDirective<T> | null,\n    ) {}\n\n    @Input()\n    content: PolymorpheusContent<TuiTreeContext<T>> = ({$implicit}) => String($implicit);\n\n    ngDoCheck(): void {\n        this.check$.next();\n        this.item?.ngDoCheck();\n        this.child?.ngDoCheck();\n    }\n\n    private get handler(): TuiHandler<T, readonly T[]> {\n        return this.directive?.childrenHandler ?? TuiTreeChildrenDirective.defaultHandler;\n    }\n}\n","import {Directive, EventEmitter, Input, Output} from '@angular/core';\nimport {isPresent, tuiDefaultProp} from '@taiga-ui/cdk';\n\nimport {TuiTreeItemComponent} from '../components/tree-item/tree-item.component';\nimport {TuiTreeAccessor, TuiTreeController} from '../misc/tree.interfaces';\nimport {TUI_TREE_ACCESSOR, TUI_TREE_CONTROLLER} from '../misc/tree.tokens';\n\n@Directive({\n    selector: '[tuiTreeController][map]',\n    exportAs: 'tuiTreeController',\n    providers: [\n        {\n            provide: TUI_TREE_ACCESSOR,\n            useExisting: TuiTreeControllerDirective,\n        },\n        {\n            provide: TUI_TREE_CONTROLLER,\n            useExisting: TuiTreeControllerDirective,\n        },\n    ],\n})\nexport class TuiTreeControllerDirective<T>\n    implements TuiTreeController, TuiTreeAccessor<T>\n{\n    @Input('tuiTreeController')\n    @tuiDefaultProp()\n    fallback = true;\n\n    @Input()\n    @tuiDefaultProp()\n    map: Map<T, boolean> = new Map();\n\n    @Output()\n    readonly toggled = new EventEmitter<T>();\n\n    readonly items = new Map<TuiTreeItemComponent, T>();\n\n    register(item: TuiTreeItemComponent, value: T): void {\n        this.items.set(item, value);\n    }\n\n    unregister(item: TuiTreeItemComponent): void {\n        this.items.delete(item);\n    }\n\n    isExpanded(item: TuiTreeItemComponent): boolean {\n        const value = this.items.get(item);\n\n        return (value && this.map.get(value)) ?? this.fallback;\n    }\n\n    toggle(item: TuiTreeItemComponent): void {\n        const value = this.items.get(item);\n        const expanded = this.isExpanded(item);\n\n        if (!isPresent(value)) {\n            return;\n        }\n\n        this.toggled.emit(value);\n        this.map.set(value, !expanded);\n    }\n}\n","import {Directive, Input} from '@angular/core';\nimport {tuiDefaultProp} from '@taiga-ui/cdk';\n\nimport {TuiTreeItemComponent} from '../components/tree-item/tree-item.component';\nimport {TuiTreeController} from '../misc/tree.interfaces';\nimport {TUI_TREE_CONTROLLER} from '../misc/tree.tokens';\n\n@Directive({\n    selector: '[tuiTreeController]:not([map])',\n    exportAs: 'tuiTreeController',\n    providers: [\n        {\n            provide: TUI_TREE_CONTROLLER,\n            useExisting: TuiTreeItemControllerDirective,\n        },\n    ],\n})\nexport class TuiTreeItemControllerDirective implements TuiTreeController {\n    private readonly map = new WeakMap<TuiTreeItemComponent, boolean>();\n\n    @Input('tuiTreeController')\n    @tuiDefaultProp()\n    fallback = true;\n\n    isExpanded(item: TuiTreeItemComponent): boolean {\n        return this.map.get(item) ?? this.fallback;\n    }\n\n    toggle(item: TuiTreeItemComponent): void {\n        this.map.set(item, !this.isExpanded(item));\n    }\n}\n","import {Directive, Inject, Input, OnDestroy, Optional} from '@angular/core';\n\nimport {TuiTreeItemComponent} from '../components/tree-item/tree-item.component';\nimport {TuiTreeAccessor} from '../misc/tree.interfaces';\nimport {TUI_TREE_ACCESSOR} from '../misc/tree.tokens';\n\n@Directive({\n    selector: 'tui-tree-item[tuiTreeNode]',\n})\nexport class TuiTreeNodeDirective<T> implements OnDestroy {\n    @Input('tuiTreeNode')\n    set value(value: T) {\n        this.directive?.register(this.component, value);\n    }\n\n    constructor(\n        @Optional()\n        @Inject(TUI_TREE_ACCESSOR)\n        private readonly directive: TuiTreeAccessor<T>,\n        @Inject(TuiTreeItemComponent)\n        private readonly component: TuiTreeItemComponent,\n    ) {}\n\n    ngOnDestroy(): void {\n        this.directive?.unregister(this.component);\n    }\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {Subject} from 'rxjs';\nimport {map, mapTo, startWith, switchMap, tap} from 'rxjs/operators';\n\nimport {TuiTreeLoader} from './tree.interfaces';\nimport {TUI_TREE_LOADER, TUI_TREE_LOADING, TUI_TREE_START} from './tree.tokens';\n\n// @dynamic\n@Injectable()\nexport class TuiTreeService<T> {\n    private readonly map = new Map<T, readonly T[]>([[this.loading, []]]);\n\n    private readonly load$ = new Subject<T>();\n\n    readonly data$ = this.load$.pipe(\n        switchMap(item =>\n            this.loader.loadChildren(item).pipe(\n                tap(children => this.map.set(item, children)),\n                map(children => children.filter(item => !this.loader.hasChildren(item))),\n                tap(children => children.forEach(child => this.map.set(child, []))),\n            ),\n        ),\n        startWith(null),\n        mapTo(this.start),\n    );\n\n    constructor(\n        @Inject(TUI_TREE_LOADING) private readonly loading: T,\n        @Inject(TUI_TREE_START) private readonly start: T,\n        @Inject(TUI_TREE_LOADER) private readonly loader: TuiTreeLoader<T>,\n    ) {}\n\n    getChildren(item: T): readonly T[] {\n        return this.map.get(item) ?? [this.loading];\n    }\n\n    loadChildren(item: T): void {\n        if (this.map.get(item)) {\n            return;\n        }\n\n        this.map.set(item, [this.loading]);\n        this.load$.next(item);\n    }\n}\n","import {CommonModule} from '@angular/common';\nimport {NgModule} from '@angular/core';\nimport {TuiLetModule} from '@taiga-ui/cdk';\nimport {TuiButtonModule, TuiExpandModule} from '@taiga-ui/core';\nimport {PolymorpheusModule} from '@tinkoff/ng-polymorpheus';\n\nimport {TuiTreeComponent} from './components/tree/tree.component';\nimport {TuiTreeItemComponent} from './components/tree-item/tree-item.component';\nimport {TuiTreeItemContentComponent} from './components/tree-item-content/tree-item-content.component';\nimport {TuiTreeChildrenDirective} from './directives/tree-children.directive';\nimport {TuiTreeControllerDirective} from './directives/tree-controller.directive';\nimport {TuiTreeItemControllerDirective} from './directives/tree-item-controller.directive';\nimport {TuiTreeNodeDirective} from './directives/tree-node.directive';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        PolymorpheusModule,\n        TuiExpandModule,\n        TuiLetModule,\n        TuiButtonModule,\n    ],\n    entryComponents: [TuiTreeItemContentComponent],\n    declarations: [\n        TuiTreeComponent,\n        TuiTreeItemComponent,\n        TuiTreeItemContentComponent,\n        TuiTreeChildrenDirective,\n        TuiTreeItemControllerDirective,\n        TuiTreeControllerDirective,\n        TuiTreeNodeDirective,\n    ],\n    exports: [\n        TuiTreeComponent,\n        TuiTreeItemComponent,\n        TuiTreeChildrenDirective,\n        TuiTreeItemControllerDirective,\n        TuiTreeControllerDirective,\n    ],\n})\nexport class TuiTreeModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}