!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("@taiga-ui/kit/tokens"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/internal/primitive-calendar-range",["exports","@angular/core","@taiga-ui/cdk","@taiga-ui/core","@taiga-ui/kit/tokens","rxjs","rxjs/operators"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].kit=e["taiga-ui"].kit||{},e["taiga-ui"].kit.internal=e["taiga-ui"].kit.internal||{},e["taiga-ui"].kit.internal["primitive-calendar-range"]={}),e.ng.core,e.cdk,e.core$1,e["taiga-ui"].kit.tokens,e.rxjs,e.rxjs.operators)}(this,(function(e,t,i,n,o,r,a){"use strict";function d(e,t,i,n){var o,r=arguments.length,a=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,i,n);else for(var d=e.length-1;d>=0;d--)(o=e[d])&&(a=(r<3?o(a):r>3?o(t,i,a):o(t,i))||a);return r>3&&a&&Object.defineProperty(t,i,a),a}function s(e,t){return function(i,n){t(i,n,e)}}Object.create;Object.create;var u=function(){function e(e,o,r){var d=this;this.disabledItemHandler=i.ALWAYS_FALSE_HANDLER,this.markerHandler=n.TUI_DEFAULT_MARKER_HANDLER,this.defaultViewedMonthFirst=i.TuiMonth.currentLocal(),this.defaultViewedMonthSecond=i.TuiMonth.currentLocal().append({month:1}),this.min=i.TUI_FIRST_DAY,this.max=i.TUI_LAST_DAY,this.value=null,this.dayClick=new t.EventEmitter,this.hoveredItem=null,this.userViewedMonthFirst=this.defaultViewedMonthFirst,this.userViewedMonthSecond=this.defaultViewedMonthSecond,this.monthOffset=function(e,t){return e.append({month:t})},e&&e.pipe(i.watch(o),a.takeUntil(r)).subscribe((function(e){d.value=e,d.updateViewedMonths()}))}return Object.defineProperty(e.prototype,"cappedUserViewedMonthSecond",{get:function(){return this.userViewedMonthSecond.monthBefore(this.max)?this.userViewedMonthSecond:this.max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cappedUserViewedMonthFirst",{get:function(){return this.userViewedMonthFirst.monthSameOrBefore(this.userViewedMonthSecond)?this.userViewedMonthFirst:this.userViewedMonthSecond},enumerable:!0,configurable:!0}),e.prototype.ngOnInit=function(){this.setInitialMonths()},e.prototype.onSectionFirstViewedMonth=function(e){this.userViewedMonthFirst=e,this.userViewedMonthSecond.year<this.userViewedMonthFirst.year&&(this.userViewedMonthSecond=this.userViewedMonthSecond.append({year:e.year-this.userViewedMonthSecond.year}))},e.prototype.onSectionSecondViewedMonth=function(e){this.userViewedMonthSecond=e,this.userViewedMonthFirst.year>this.userViewedMonthSecond.year&&(this.userViewedMonthFirst=this.userViewedMonthFirst.append({year:e.year-this.userViewedMonthFirst.year}))},e.prototype.onDayClick=function(e){this.dayClick.emit(e)},e.prototype.setInitialMonths=function(){this.value||(this.userViewedMonthSecond=this.updatedViewedMonthSecond(this.defaultViewedMonthSecond),this.userViewedMonthFirst=this.updatedViewedMonthFirst(this.defaultViewedMonthFirst))},e.prototype.updatedViewedMonthSecond=function(e){return e.monthSameOrAfter(this.max)?this.max:e.monthBefore(this.min)?this.min.append({month:1}):e},e.prototype.updatedViewedMonthFirst=function(e){return e.monthSameOrAfter(this.userViewedMonthSecond)?this.userViewedMonthSecond.append({month:-1}):e.monthSameOrBefore(this.min)?this.min:e},e.prototype.updateViewedMonths=function(){this.userViewedMonthFirst=null===this.value?this.defaultViewedMonthFirst:this.value.from,this.userViewedMonthSecond=null===this.value?this.defaultViewedMonthSecond:this.value.to,this.userViewedMonthFirst.monthSame(this.userViewedMonthSecond)&&(this.userViewedMonthSecond=this.userViewedMonthSecond.append({month:1}))},e.ctorParameters=function(){return[{type:r.Observable,decorators:[{type:t.Inject,args:[o.TUI_CALENDAR_DATA_STREAM]},{type:t.Optional}]},{type:t.ChangeDetectorRef,decorators:[{type:t.Inject,args:[t.ChangeDetectorRef]}]},{type:i.TuiDestroyService,decorators:[{type:t.Inject,args:[i.TuiDestroyService]}]}]},d([t.Input(),i.tuiDefaultProp()],e.prototype,"disabledItemHandler",void 0),d([t.Input(),i.tuiDefaultProp()],e.prototype,"markerHandler",void 0),d([t.Input(),i.tuiDefaultProp()],e.prototype,"defaultViewedMonthFirst",void 0),d([t.Input(),i.tuiDefaultProp()],e.prototype,"defaultViewedMonthSecond",void 0),d([t.Input(),i.tuiDefaultProp()],e.prototype,"min",void 0),d([t.Input(),i.tuiDefaultProp()],e.prototype,"max",void 0),d([t.Input(),i.tuiDefaultProp()],e.prototype,"value",void 0),d([t.Output()],e.prototype,"dayClick",void 0),e=d([t.Component({selector:"tui-primitive-calendar-range",template:'<tui-calendar\n    [min]="min"\n    [max]="max"\n    [month]="userViewedMonthFirst"\n    [markerHandler]="markerHandler"\n    [maxViewedMonth]="cappedUserViewedMonthSecond | tuiMapper: monthOffset:-1"\n    [value]="value"\n    [disabledItemHandler]="disabledItemHandler"\n    [showAdjacent]="false"\n    [(hoveredItem)]="hoveredItem"\n    (dayClick)="onDayClick($event)"\n    (monthChange)="onSectionFirstViewedMonth($event)"\n></tui-calendar>\n<tui-calendar\n    class="t-border"\n    [min]="min"\n    [max]="max"\n    [month]="userViewedMonthSecond"\n    [markerHandler]="markerHandler"\n    [minViewedMonth]="cappedUserViewedMonthFirst | tuiMapper: monthOffset:1"\n    [value]="value"\n    [disabledItemHandler]="disabledItemHandler"\n    [showAdjacent]="false"\n    [(hoveredItem)]="hoveredItem"\n    (dayClick)="onDayClick($event)"\n    (monthChange)="onSectionSecondViewedMonth($event)"\n></tui-calendar>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[i.TuiDestroyService],styles:[":host{display:flex}.t-border{border-left:1px solid var(--tui-base-03)}"]}),s(0,t.Inject(o.TUI_CALENDAR_DATA_STREAM)),s(0,t.Optional()),s(1,t.Inject(t.ChangeDetectorRef)),s(2,t.Inject(i.TuiDestroyService))],e)}(),h=function(){function e(){}return e=d([t.NgModule({imports:[i.TuiMapperPipeModule,n.TuiScrollbarModule,n.TuiCalendarModule],declarations:[u],exports:[u]})],e)}();e.TuiPrimitiveCalendarRangeComponent=u,e.TuiPrimitiveCalendarRangeModule=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-internal-primitive-calendar-range.umd.min.js.map