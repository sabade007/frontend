!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("@taiga-ui/kit/utils/format"),require("@angular/common"),require("@taiga-ui/kit/directives")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/avatar",["exports","@angular/core","@taiga-ui/cdk","@taiga-ui/core","@taiga-ui/kit/utils/format","@angular/common","@taiga-ui/kit/directives"],e):e(((t=t||self)["taiga-ui"]=t["taiga-ui"]||{},t["taiga-ui"].kit=t["taiga-ui"].kit||{},t["taiga-ui"].kit.components=t["taiga-ui"].kit.components||{},t["taiga-ui"].kit.components.avatar={}),t.ng.core,t.cdk,t.core$1,t["taiga-ui"].kit.utils.format,t.ng.common,t["taiga-ui"].kit.directives)}(this,(function(t,e,a,r,i,o,n){"use strict";var s=function(){return(s=Object.assign||function(t){for(var e,a=1,r=arguments.length;a<r;a++)for(var i in e=arguments[a])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function u(t,e,a,r){var i,o=arguments.length,n=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,a):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,a,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(n=(o<3?i(n):o>3?i(e,a,n):i(e,a))||n);return o>3&&n&&Object.defineProperty(e,a,n),n}Object.create;Object.create;var c={size:"m",autoColor:!1,rounded:!1},l=new e.InjectionToken("Default parameters for avatar component",{factory:function(){return c}}),d=function(){function t(t){this.options=t,this.size=this.options.size,this.text="",this.autoColor=this.options.autoColor,this.rounded=this.options.rounded,this.avatarUrl=null,this.isUrlValid=!1}var o,n;return Object.defineProperty(t.prototype,"avatarUrlSetter",{set:function(t){this.avatarUrl=t,this.isUrlValid=!!t&&!this.iconAvatar},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bgColor",{get:function(){return this.autoColor?i.stringHashToHsl(this.text):""},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasAvatar",{get:function(){return null!==this.avatarUrl&&this.isUrlValid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"iconAvatar",{get:function(){var t;return"string"==typeof this.avatarUrl&&!!(null===(t=this.avatarUrl)||void 0===t?void 0:t.startsWith("tuiIcon"))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"computedText",{get:function(){if(this.hasAvatar||this.iconAvatar||""===this.text)return"";var t=this.text.split(" ");return t.length>1&&r.sizeBigger(this.size)?t[0].slice(0,1)+t[1].slice(0,1):t[0].slice(0,1)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stringAvatar",{get:function(){return this.iconAvatar?String(this.avatarUrl):""},enumerable:!0,configurable:!0}),t.prototype.onError=function(){this.isUrlValid=!1},t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[l]}]}]},u([e.Input(),e.HostBinding("attr.data-size"),a.tuiDefaultProp()],t.prototype,"size",void 0),u([e.Input("avatarUrl"),a.tuiRequiredSetter()],t.prototype,"avatarUrlSetter",null),u([e.Input(),a.tuiDefaultProp()],t.prototype,"text",void 0),u([e.Input(),a.tuiDefaultProp()],t.prototype,"autoColor",void 0),u([e.Input(),e.HostBinding("class._rounded"),a.tuiDefaultProp()],t.prototype,"rounded",void 0),u([e.HostBinding("style.background")],t.prototype,"bgColor",null),u([e.HostBinding("class._has-avatar")],t.prototype,"hasAvatar",null),t=u([e.Component({selector:"tui-avatar",template:'<img\n    *ngIf="isUrlValid"\n    loading="lazy"\n    class="t-image"\n    [attr.alt]="text"\n    [src]="avatarUrl || \'\'"\n    (error)="onError()"\n/>\n<tui-svg\n    *ngIf="stringAvatar"\n    class="t-icon"\n    [src]="stringAvatar"\n></tui-svg>\n<span class="t-text">{{ computedText }}</span>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[":host{position:relative;display:flex;flex-shrink:0;border-radius:var(--tui-radius-m);color:var(--tui-secondary-active);text-align:center;text-transform:uppercase;justify-content:center;align-items:center;background:var(--tui-avatar-background,currentColor);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;overflow:hidden}:host[data-size=xs]{font:var(--tui-font-text-s);width:1.5rem;height:1.5rem}:host[data-size='s']{font:var(--tui-font-text-m);width:2rem;height:2rem}:host[data-size='m']{font:var(--tui-font-text-l);width:3rem;height:3rem}:host[data-size='l']{font:var(--tui-font-heading-5);width:4rem;height:4rem;border-radius:var(--tui-radius-l)}:host[data-size=xl]{font:var(--tui-font-heading-3);width:6rem;height:6rem;border-radius:var(--tui-radius-l)}:host[data-size=xxl]{font:var(--tui-font-heading-1);width:9rem;height:9rem;border-radius:var(--tui-radius-l)}:host._has-avatar{background-color:transparent}:host._rounded{border-radius:100%}.t-image{width:100%;height:100%;object-fit:cover}.t-text{color:var(--tui-avatar-color,var(--tui-text-01))}.t-icon{position:absolute;top:0;left:0;width:100%;height:100%;color:var(--tui-avatar-color,var(--tui-text-01))}:host[data-size=xs] .t-icon{transform:scale(.5)}:host[data-size='m'] .t-icon{transform:scale(1.6)}:host[data-size='l'] .t-icon{transform:scale(2)}:host[data-size=xl] .t-icon{transform:scale(3.2)}::ng-deep .tui-avatar-stack{display:flex;width:-webkit-min-content;width:-moz-min-content;width:min-content}:host-context(.tui-avatar-stack)[data-size=xs]{margin-right:-.625rem;box-shadow:0 0 0 1px var(--tui-avatar-border,var(--tui-base-01))}:host-context(.tui-avatar-stack)[data-size='s']{margin-right:-.875rem;box-shadow:0 0 0 1px var(--tui-avatar-border,var(--tui-base-01))}:host-context(.tui-avatar-stack)[data-size='m']{margin-right:-1.25rem;box-shadow:0 0 0 2px var(--tui-avatar-border,var(--tui-base-01))}:host-context(.tui-avatar-stack)[data-size='l']{margin-right:-1.625rem;box-shadow:0 0 0 2px var(--tui-avatar-border,var(--tui-base-01))}:host-context(.tui-avatar-stack)[data-size=xl]{margin-right:-2.25rem;box-shadow:0 0 0 3px var(--tui-avatar-border,var(--tui-base-01))}:host-context(.tui-avatar-stack)[data-size=xxl]{margin-right:-3.375rem;box-shadow:0 0 0 3px var(--tui-avatar-border,var(--tui-base-01))}"]}),(o=0,n=e.Inject(l),function(t,e){n(t,e,o)})],t)}(),h=function(){function t(){}return t=u([e.NgModule({imports:[o.CommonModule,n.TuiLazyLoadingModule,r.TuiSvgModule],declarations:[d],exports:[d]})],t)}();t.TUI_AVATAR_DEFAULT_OPTIONS=c,t.TUI_AVATAR_OPTIONS=l,t.TuiAvatarComponent=d,t.TuiAvatarModule=h,t.tuiAvatarOptionsProvider=function(t){return{provide:l,useValue:s(s({},c),t)}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-avatar.umd.min.js.map