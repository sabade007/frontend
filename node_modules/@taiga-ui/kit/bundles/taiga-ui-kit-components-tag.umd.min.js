!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("@taiga-ui/kit/utils/format"),require("rxjs"),require("@angular/common"),require("@angular/forms"),require("@tinkoff/ng-polymorpheus")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/tag",["exports","@angular/core","@taiga-ui/cdk","@taiga-ui/core","@taiga-ui/kit/utils/format","rxjs","@angular/common","@angular/forms","@tinkoff/ng-polymorpheus"],e):e(((t=t||self)["taiga-ui"]=t["taiga-ui"]||{},t["taiga-ui"].kit=t["taiga-ui"].kit||{},t["taiga-ui"].kit.components=t["taiga-ui"].kit.components||{},t["taiga-ui"].kit.components.tag={}),t.ng.core,t.cdk,t.core$1,t["taiga-ui"].kit.utils.format,t.rxjs,t.ng.common,t.ng.forms,t.ngPolymorpheus)}(this,(function(t,e,o,i,a,r,n,s,d){"use strict";var u=function(){return(u=Object.assign||function(t){for(var e,o=1,i=arguments.length;o<i;o++)for(var a in e=arguments[o])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};function l(t,e,o,i){var a,r=arguments.length,n=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,o,i);else for(var s=t.length-1;s>=0;s--)(a=t[s])&&(n=(r<3?a(n):r>3?a(e,o,n):a(e,o))||n);return r>3&&n&&Object.defineProperty(e,o,n),n}function h(t,e){return function(o,i){e(o,i,t)}}Object.create;Object.create;var c={size:"m",status:"default",autoColor:!1},g=new e.InjectionToken("Default parameters for tag component",{factory:function(){return c}}),p=new RegExp(",|[\\s]"),v=function(){function t(t,o,i){this.elementRef=t,this.mode$=o,this.options=i,this.value="",this.editable=!1,this.allowSpaces=!0,this.separator=",",this.maxLength=null,this.size=this.options.size,this.showLoader=!1,this.status=this.options.status,this.hoverable=!1,this.removable=!1,this.disabled=!1,this.autoColor=this.options.autoColor,this.leftContent=null,this.edited=new e.EventEmitter,this.editing=!1,this.editedText=null}return Object.defineProperty(t.prototype,"input",{set:function(t){t&&o.setNativeFocused(t.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this.autoColor?a.stringHashToHsl(this.value):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canRemove",{get:function(){return this.removable&&!this.disabled&&!this.showLoader},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"displayText",{get:function(){return null===this.editedText?this.value:this.editedText},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loaderSize",{get:function(){return i.sizeBigger(this.size)?"s":"xs"},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasIcon",{get:function(){return this.showLoader||this.removable},enumerable:!0,configurable:!0}),t.prototype.edit=function(t){this.canEdit&&(t.preventDefault(),this.editing=!0,this.editedText=this.value)},t.prototype.remove=function(t){this.canRemove&&(t.preventDefault(),t.stopPropagation(),this.edited.emit(""))},t.prototype.onInput=function(t){var e=this.allowSpaces?t.split(this.separator):t.split(p);e.length>1?this.save(String(e)):this.editedText=t},t.prototype.onKeyDown=function(t){switch(t.stopPropagation(),t.key.toLowerCase()){case"enter":t.preventDefault(),this.save(this.editedText||"");break;case"escape":case"esc":t.preventDefault(),this.stopEditing(),o.setNativeFocused(this.elementRef.nativeElement)}},t.prototype.onBlur=function(){null!==this.editedText&&this.save(this.editedText)},Object.defineProperty(t.prototype,"canEdit",{get:function(){return this.editable&&!this.disabled&&!this.showLoader},enumerable:!0,configurable:!0}),t.prototype.stopEditing=function(){this.editing=!1,this.editedText=null},t.prototype.save=function(t){this.stopEditing(),this.edited.emit(t.trim())},t.ctorParameters=function(){return[{type:e.ElementRef,decorators:[{type:e.Inject,args:[e.ElementRef]}]},{type:r.Observable,decorators:[{type:e.Inject,args:[i.TUI_MODE]}]},{type:void 0,decorators:[{type:e.Inject,args:[g]}]}]},l([e.Input(),o.tuiDefaultProp()],t.prototype,"value",void 0),l([e.Input(),o.tuiDefaultProp()],t.prototype,"editable",void 0),l([e.Input(),o.tuiDefaultProp()],t.prototype,"allowSpaces",void 0),l([e.Input(),o.tuiDefaultProp()],t.prototype,"separator",void 0),l([e.Input(),o.tuiDefaultProp()],t.prototype,"maxLength",void 0),l([e.Input(),e.HostBinding("attr.data-size"),o.tuiDefaultProp()],t.prototype,"size",void 0),l([e.Input(),o.tuiDefaultProp()],t.prototype,"showLoader",void 0),l([e.Input(),e.HostBinding("attr.data-tui-host-status"),o.tuiDefaultProp()],t.prototype,"status",void 0),l([e.Input(),e.HostBinding("class._hoverable"),o.tuiDefaultProp()],t.prototype,"hoverable",void 0),l([e.Input(),o.tuiDefaultProp()],t.prototype,"removable",void 0),l([e.Input(),e.HostBinding("class._disabled"),o.tuiDefaultProp()],t.prototype,"disabled",void 0),l([e.Input(),e.HostBinding("class._autocolor"),o.tuiDefaultProp()],t.prototype,"autoColor",void 0),l([e.Input(),o.tuiDefaultProp()],t.prototype,"leftContent",void 0),l([e.Output()],t.prototype,"edited",void 0),l([e.HostBinding("class._editing")],t.prototype,"editing",void 0),l([e.ViewChild("input",{read:e.ElementRef})],t.prototype,"input",null),l([e.HostBinding("class._has-icon")],t.prototype,"hasIcon",null),l([e.HostListener("keydown.enter",["$event"])],t.prototype,"edit",null),l([e.HostListener("keydown.delete",["$event"]),e.HostListener("keydown.backspace",["$event"])],t.prototype,"remove",null),t=l([e.Component({selector:"tui-tag, a[tuiTag]",template:'<div\n    class="t-tag"\n    [style.backgroundColor]="backgroundColor"\n    (dblclick)="edit($event)"\n>\n    <div\n        *ngIf="leftContent"\n        polymorpheus-outlet\n        class="t-left-content"\n        [content]="leftContent"\n    ></div>\n    <span\n        automation-id="tui-tag__text"\n        class="t-text"\n    >\n        {{ displayText }}\n    </span>\n    <tui-loader\n        *ngIf="showLoader"\n        class="t-icon t-icon_loader"\n        [inheritColor]="true"\n        [size]="loaderSize"\n    ></tui-loader>\n    <tui-svg\n        *ngIf="canRemove"\n        tuiPreventDefault="mousedown"\n        automation-id="tui-tag__remove"\n        src="tuiIconCloseLarge"\n        class="t-icon"\n        (click)="remove($event)"\n    ></tui-svg>\n</div>\n<input\n    *ngIf="editing"\n    #input\n    automation-id="tui-tag__edit"\n    type="text"\n    class="t-edit"\n    [attr.maxLength]="maxLength"\n    [ngModel]="editedText"\n    (ngModelChange)="onInput($event)"\n    (blur)="onBlur()"\n    (keydown)="onKeyDown($event)"\n/>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,providers:[i.MODE_PROVIDER],host:{"($.data-mode.attr)":"mode$"},styles:[":host{transition-property:background;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;position:relative;display:inline-block;font:var(--tui-font-text-s);border-radius:var(--tui-radius-s);max-width:100%;cursor:default;outline:0;text-decoration:none}:host:after{transition-property:background;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;position:absolute;top:0;left:0;width:100%;height:100%;content:'';box-sizing:border-box;border-radius:inherit;pointer-events:none}:host._hoverable:active[data-tui-host-status=custom]:after,:host._hoverable:hover[data-tui-host-status=custom]:after{background-color:var(--tui-clear)}:host:focus:after{border:2px solid var(--tui-focus)}:host[data-tui-host-status=primary]{background-color:var(--tui-primary);color:var(--tui-primary-text)}:host[data-tui-host-status=primary]._hoverable:hover{background-color:var(--tui-primary-hover)}:host[data-tui-host-status=primary]._hoverable:active{background-color:var(--tui-primary-active)}:host[data-tui-host-status=error]{background-color:var(--tui-error-bg);color:var(--tui-text-01)}:host[data-tui-host-status=error]._hoverable:active,:host[data-tui-host-status=error]._hoverable:hover{background-color:var(--tui-error-bg-hover)}:host[data-tui-host-status=error][data-mode=onDark]{background-color:var(--tui-error-bg-night);color:var(--tui-text-01-night)}:host[data-tui-host-status=error][data-mode=onDark]._hoverable:active,:host[data-tui-host-status=error][data-mode=onDark]._hoverable:hover{background-color:var(--tui-error-bg-night-hover)}:host[data-tui-host-status=success]{background-color:var(--tui-success-bg);color:var(--tui-text-01)}:host[data-tui-host-status=success]._hoverable:active,:host[data-tui-host-status=success]._hoverable:hover{background-color:var(--tui-success-bg-hover)}:host[data-tui-host-status=success][data-mode=onDark]{background-color:var(--tui-success-bg-night);color:var(--tui-text-01-night)}:host[data-tui-host-status=success][data-mode=onDark]._hoverable:active,:host[data-tui-host-status=success][data-mode=onDark]._hoverable:hover{background-color:var(--tui-success-bg-night-hover)}:host[data-tui-host-status=warning]{background-color:var(--tui-warning-bg);color:var(--tui-text-01)}:host[data-tui-host-status=warning]._hoverable:active,:host[data-tui-host-status=warning]._hoverable:hover{background-color:var(--tui-warning-bg-hover)}:host[data-tui-host-status=warning][data-mode=onDark]{background-color:var(--tui-warning-bg-night);color:var(--tui-text-01-night)}:host[data-tui-host-status=warning][data-mode=onDark]._hoverable:active,:host[data-tui-host-status=warning][data-mode=onDark]._hoverable:hover{background-color:var(--tui-warning-bg-night-hover)}:host[data-tui-host-status=default]{color:var(--tui-text-01-night);background-color:var(--tui-base-06)}:host[data-tui-host-status=default]:not([data-mode])._hoverable:hover{background-color:var(--tui-base-07)}:host[data-tui-host-status=default]:not([data-mode])._hoverable:active{background-color:var(--tui-base-08)}:host[data-tui-host-status=default][data-mode=onDark]{color:var(--tui-text-01-night);background-color:var(--tui-clear-inverse)}:host[data-tui-host-status=default][data-mode=onDark]._hoverable:hover{background-color:var(--tui-clear-inverse-hover)}:host[data-tui-host-status=default][data-mode=onDark]._hoverable:active{background-color:var(--tui-clear-inverse-active)}:host[data-tui-host-status=default][data-mode=onDark]:focus:after{border:2px solid var(--tui-base-01)}:host[data-tui-host-status=default][data-mode=onLight]{background-color:var(--tui-clear);color:var(--tui-text-01)}:host[data-tui-host-status=default][data-mode=onLight]._hoverable:hover{background-color:var(--tui-clear-hover)}:host[data-tui-host-status=default][data-mode=onLight]._hoverable:active{background-color:var(--tui-clear-active)}:host._editing{background:0 0!important}:host._disabled{pointer-events:none;opacity:var(--tui-disabled-opacity)}:host._hoverable{cursor:pointer}:host._autocolor{color:var(--tui-text-01)}.t-text{white-space:pre;overflow:hidden;text-overflow:ellipsis;padding-right:.02em}.t-tag{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;position:relative;display:flex;width:auto;align-items:center;border-radius:inherit}:host[data-size='s'] .t-tag{font:var(--tui-font-text-xs);height:1.25rem;padding:0 .5rem}:host[data-size='m'] .t-tag{height:var(--tui-height-xs);padding:0 .5rem}:host[data-size='l'] .t-tag{height:var(--tui-height-s);padding:0 .75rem}:host._has-icon[data-size='s'] .t-tag{padding:0 .125rem 0 .75rem;-webkit-padding-start:.75rem;padding-inline-start:.75rem;-webkit-padding-end:.125rem;padding-inline-end:.125rem}:host._has-icon[data-size='m'] .t-tag{padding:0 0 0 .75rem;-webkit-padding-start:.75rem;padding-inline-start:.75rem;-webkit-padding-end:0;padding-inline-end:0}:host._has-icon[data-size='l'] .t-tag{padding:0 .25rem 0 .75rem;-webkit-padding-start:.75rem;padding-inline-start:.75rem;-webkit-padding-end:.25rem;padding-inline-end:.25rem}:host._editing .t-tag{visibility:hidden}:host._disabled._has-icon[data-size='m'] .t-tag,:host._disabled._has-icon[data-size='s'] .t-tag{padding:0 .5rem 0 .75rem;-webkit-padding-start:.75rem;padding-inline-start:.75rem;-webkit-padding-end:.5rem;padding-inline-end:.5rem}:host._disabled._has-icon[data-size='l'] .t-tag{padding:0 .75rem}.t-edit{padding:0 0 0 .5rem;margin:0;border:0;border-radius:inherit;background:0 0;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;outline:0;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;font:var(--tui-font-text-s);color:var(--tui-text-01);width:100%;box-sizing:border-box;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:0;padding-inline-end:0}.t-edit:-webkit-autofill,.t-edit:-webkit-autofill:focus,.t-edit:-webkit-autofill:hover{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}:host[data-size='s'] .t-edit{height:1.25rem;line-height:1.25rem}:host[data-size='m'] .t-edit{height:var(--tui-height-xs);line-height:var(--tui-height-xs)}:host[data-size='l'] .t-edit{height:var(--tui-height-s);line-height:var(--tui-height-s);padding:0 0 0 .75rem;-webkit-padding-start:.75rem;padding-inline-start:.75rem;-webkit-padding-end:0;padding-inline-end:0}.t-icon{margin:0 0 0 .25rem;-webkit-margin-start:.25rem;margin-inline-start:.25rem;-webkit-margin-end:0;margin-inline-end:0;height:100%}.t-icon:not(.t-icon_loader){cursor:pointer;pointer-events:all;opacity:var(--tui-disabled-opacity)}.t-icon:hover{opacity:1}.t-icon_loader{width:1rem;height:1rem;margin:0 .25rem}:host[data-size='s'] .t-icon_loader{margin:0 .375rem 0 .75rem;-webkit-margin-start:.75rem;margin-inline-start:.75rem;-webkit-margin-end:.375rem;margin-inline-end:.375rem;width:.5rem;height:.5rem}:host[data-size='l'] .t-icon_loader{margin:0 .25rem 0 .5rem;-webkit-margin-start:.5rem;margin-inline-start:.5rem;-webkit-margin-end:.25rem;margin-inline-end:.25rem}.t-left-content{margin:0 .25rem 0 0;-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:.25rem;margin-inline-end:.25rem;width:1rem;height:1rem}"]}),h(0,e.Inject(e.ElementRef)),h(1,e.Inject(i.TUI_MODE)),h(2,e.Inject(g))],t)}(),m=function(){function t(){}return t=l([e.NgModule({imports:[n.CommonModule,s.FormsModule,o.TuiPreventDefaultModule,i.TuiSvgModule,i.TuiLoaderModule,d.PolymorpheusModule],declarations:[v],exports:[v]})],t)}();t.ALLOWED_SPACE_REGEXP=p,t.TUI_TAG_DEFAULT_OPTIONS=c,t.TUI_TAG_OPTIONS=g,t.TuiTagComponent=v,t.TuiTagModule=m,t.tuiTagOptionsProvider=function(t){return{provide:g,useValue:u(u({},c),t)}},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-tag.umd.min.js.map