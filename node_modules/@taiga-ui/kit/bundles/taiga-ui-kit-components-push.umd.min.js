!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("rxjs"),require("@angular/common"),require("@tinkoff/ng-polymorpheus"),require("rxjs/operators"),require("@taiga-ui/cdk/services")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/push",["exports","@angular/core","@taiga-ui/cdk","@taiga-ui/core","rxjs","@angular/common","@tinkoff/ng-polymorpheus","rxjs/operators","@taiga-ui/cdk/services"],e):e(((t=t||self)["taiga-ui"]=t["taiga-ui"]||{},t["taiga-ui"].kit=t["taiga-ui"].kit||{},t["taiga-ui"].kit.components=t["taiga-ui"].kit.components||{},t["taiga-ui"].kit.components.push={}),t.ng.core,t.cdk,t.core$1,t.rxjs,t.ng.common,t.ngPolymorpheus,t.rxjs.operators,t.services)}(this,(function(t,e,n,o,i,r,c,a,s){"use strict";var u=function(t,e){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var p=function(){return(p=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function d(t,e,n,o){var i,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,n,c):i(e,n))||c);return r>3&&c&&Object.defineProperty(e,n,c),c}function g(t,e){return function(n,o){e(n,o,t)}}Object.create;Object.create;var m=function(){function t(t){this.closeWord$=t,this.heading="",this.type="",this.timestamp=0,this.close=new e.EventEmitter}return Object.defineProperty(t.prototype,"closeable",{get:function(){return n.tuiIsObserved(this.close)},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:i.Observable,decorators:[{type:e.Inject,args:[o.TUI_CLOSE_WORD]}]}]},d([e.Input(),n.tuiDefaultProp()],t.prototype,"heading",void 0),d([e.Input(),n.tuiDefaultProp()],t.prototype,"type",void 0),d([e.Input(),n.tuiDefaultProp()],t.prototype,"timestamp",void 0),d([e.Output()],t.prototype,"close",void 0),t=d([e.Component({selector:"tui-push",template:'<div class="t-image">\n    <ng-content select="img"></ng-content>\n</div>\n<button\n    *ngIf="closeable"\n    tuiIconButton\n    icon="tuiIconCloseLarge"\n    size="xs"\n    appearance=""\n    shape="rounded"\n    class="t-close"\n    [title]="closeWord$ | async"\n    (click)="close.emit()"\n></button>\n<div class="t-top">\n    <span class="t-icon">\n        <ng-content select="tui-svg"></ng-content>\n    </span>\n    {{ type }}\n    <span\n        *ngIf="timestamp"\n        class="t-time"\n        [textContent]="timestamp | tuiFormatDate | async"\n    ></span>\n</div>\n<h3 class="t-heading">{{ heading }}</h3>\n<div class="t-content">\n    <ng-content></ng-content>\n</div>\n<div class="t-actions">\n    <span class="t-button">\n        <ng-content select="[tuiButton]"></ng-content>\n    </span>\n    <span class="t-link">\n        <ng-content select="[tuiLink]"></ng-content>\n    </span>\n</div>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,styles:[":host{box-shadow:0 .25rem 1.5rem rgba(0,0,0,.12);position:relative;display:block;width:22.5rem;max-width:100%;box-sizing:border-box;padding:1.25rem 1.25rem .25rem;overflow:hidden;font:var(--tui-font-text-m);border-radius:var(--tui-radius-l);background:var(--tui-elevation-02)}.t-image{display:flex;flex-direction:column;max-height:10.625rem;overflow:hidden;margin:-1.25rem -1.25rem 1.25rem}.t-close{position:absolute;top:.75rem;right:.75rem;color:rgba(0,0,0,.54);background:rgba(242,242,242,.32);-webkit-backdrop-filter:blur(1rem);backdrop-filter:blur(1rem)}.t-top{display:flex;align-items:center;font:var(--tui-font-text-s);color:var(--tui-text-02)}.t-icon{height:1.25rem;margin-right:.5rem;transform:scale(.833);transform-origin:top left;color:var(--tui-link)}.t-time:before{content:'•';display:inline-block;width:1rem;text-align:center}.t-heading{line-height:1.25rem;font-weight:700;margin:.75rem 0 .25rem}.t-content,.t-heading{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2;word-break:break-word;overflow:hidden}.t-actions{display:flex;align-items:center;font:var(--tui-font-text-s)}.t-button:not(:empty){margin:.75rem .75rem .75rem 0}.t-link{margin:.75rem 0}.t-link:empty{margin:.5rem}"]}),g(0,e.Inject(o.TUI_CLOSE_WORD))],t)}(),f=function(t){function n(e){var n,o=t.call(this)||this;return o.modeDirective=e,o.size="s",o.shape=null,o.change$=(null===(n=o.modeDirective)||void 0===n?void 0:n.change$)||new i.Subject,o}var r;return l(n,t),r=n,Object.defineProperty(n.prototype,"appearance",{get:function(){var t;return"onDark"===(null===(t=this.modeDirective)||void 0===t?void 0:t.mode)?"accent":"secondary"},enumerable:!0,configurable:!0}),n.ctorParameters=function(){return[{type:o.TuiModeDirective,decorators:[{type:e.Optional},{type:e.SkipSelf},{type:e.Inject,args:[o.TuiModeDirective]}]}]},n=r=d([e.Directive({selector:"tui-push",providers:[{provide:o.TuiModeDirective,useExisting:r},{provide:o.TUI_BUTTON_OPTIONS,useExisting:r}]}),g(0,e.Optional()),g(0,e.SkipSelf()),g(0,e.Inject(o.TuiModeDirective))],n)}(o.TuiModeDirective),h={heading:"",type:"",timestamp:0,image:"",icon:"",iconColor:"",buttons:[]},v=function(t){function o(e,n,o,r){var c=t.call(this,e,n)||this;return c.show$=new i.Subject,c.show$.pipe(a.switchMap((function(t){return t?r.open(c):i.EMPTY})),a.takeUntil(o)).subscribe(),c}return l(o,t),Object.defineProperty(o.prototype,"tuiPush",{set:function(t){this.show$.next(t)},enumerable:!0,configurable:!0}),o.ctorParameters=function(){return[{type:e.TemplateRef,decorators:[{type:e.Inject,args:[e.TemplateRef]}]},{type:e.ChangeDetectorRef,decorators:[{type:e.Inject,args:[e.ChangeDetectorRef]}]},{type:i.Observable,decorators:[{type:e.Inject,args:[n.TuiDestroyService]}]},{type:b,decorators:[{type:e.Inject,args:[e.forwardRef((function(){return b}))]}]}]},d([e.Input()],o.prototype,"tuiPush",null),o=d([e.Directive({selector:"[tuiPush]",providers:[n.TuiDestroyService]}),g(0,e.Inject(e.TemplateRef)),g(1,e.Inject(e.ChangeDetectorRef)),g(2,e.Inject(n.TuiDestroyService)),g(3,e.Inject(e.forwardRef((function(){return b}))))],o)}(c.PolymorpheusTemplate),y=function(){function t(t,e){this.options=t,this.context=e,this.animation=p({value:""},this.options)}return Object.defineProperty(t.prototype,"isDirective",{get:function(){return this.context.content instanceof v},enumerable:!0,configurable:!0}),t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[o.TUI_ANIMATION_OPTIONS]}]},{type:void 0,decorators:[{type:e.Inject,args:[c.POLYMORPHEUS_CONTEXT]}]}]},d([e.HostBinding("@tuiFadeIn"),e.HostBinding("@tuiSlideInRight"),e.HostBinding("@tuiHeightCollapse")],t.prototype,"animation",void 0),t=d([e.Component({selector:"tui-push-alert",template:'<tui-push\n    *ngIf="!isDirective; else content"\n    [heading]="context.heading"\n    [type]="context.type"\n    [timestamp]="context.timestamp"\n    (close)="context.$implicit.complete()"\n>\n    <img\n        *ngIf="context.image"\n        alt=""\n        [src]="context.image"\n    />\n    <tui-svg\n        *ngIf="context.icon"\n        [style.color]="context.iconColor"\n        [src]="context.icon"\n    ></tui-svg>\n    <div\n        polymorpheus-outlet\n        [content]="context.content"\n    ></div>\n    <button\n        *ngIf="context.buttons.length > 1"\n        tuiButton\n        (click)="context.$implicit.next(context.buttons[0])"\n    >\n        {{ context.buttons[0] }}\n    </button>\n    <button\n        *ngIf="context.buttons.length"\n        tuiLink\n        (click)="context.$implicit.next(context.buttons[context.buttons.length - 1])"\n    >\n        {{ context.buttons[context.buttons.length - 1] }}\n    </button>\n</tui-push>\n<ng-template #content>\n    <div\n        polymorpheus-outlet\n        [content]="context.content"\n    ></div>\n</ng-template>\n',changeDetection:e.ChangeDetectionStrategy.OnPush,animations:[o.tuiFadeIn,o.tuiSlideInRight,o.tuiHeightCollapse],host:{role:"alert"},styles:[":host{max-width:calc(100% - 2rem);margin:0 1rem 1rem auto}:host:first-child{margin-top:auto}"]}),g(0,e.Inject(o.TUI_ANIMATION_OPTIONS)),g(1,e.Inject(c.POLYMORPHEUS_CONTEXT))],t)}(),b=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.component=new c.PolymorpheusComponent(y),e.defaultOptions=h,e}return l(n,t),n.prototype.open=function(e,n){return void 0===n&&(n={}),t.prototype.open.call(this,e,n)},n.ɵprov=e.ɵɵdefineInjectable({factory:function(){return new n(e.ɵɵinject(s.TuiIdService))},token:n,providedIn:"root"}),n=d([e.Injectable({providedIn:"root"})],n)}(n.AbstractTuiDialogService),x=function(){function t(){}return t=d([e.NgModule({imports:[r.CommonModule,c.PolymorpheusModule,o.TuiButtonModule,o.TuiLinkModule,o.TuiSvgModule,o.TuiFormatDatePipeModule],declarations:[m,f,y,v],exports:[m,f,y,v],providers:[{provide:n.TUI_ALERTS,useExisting:b,multi:!0}]})],t)}();t.TUI_PUSH_DEFAULT_OPTIONS=h,t.TuiPushAlertComponent=y,t.TuiPushAlertDirective=v,t.TuiPushComponent=m,t.TuiPushDirective=f,t.TuiPushModule=x,t.TuiPushService=b,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-push.umd.min.js.map