!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("rxjs"),require("rxjs/operators"),require("@angular/common")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/stepper",["exports","@angular/core","@taiga-ui/cdk","@taiga-ui/core","rxjs","rxjs/operators","@angular/common"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].kit=e["taiga-ui"].kit||{},e["taiga-ui"].kit.components=e["taiga-ui"].kit.components||{},e["taiga-ui"].kit.components.stepper={}),e.ng.core,e.cdk,e.core$1,e.rxjs,e.rxjs.operators,e.ng.common)}(this,(function(e,t,r,o,i,n,a){"use strict";function s(e,t,r,o){var i,n=arguments.length,a=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(n<3?i(a):n>3?i(t,r,a):i(t,r))||a);return n>3&&a&&Object.defineProperty(t,r,a),a}function c(e,t){return function(r,o){t(r,o,e)}}Object.create;Object.create;var u=function(){function e(e,o,i,n,a){var s=this;this.changeDetectorRef=e,this.elementRef=o,this.scrollService=i,this.duration=a,this.steps=r.EMPTY_QUERY,this.orientation="horizontal",this.activeItemIndexChange=new t.EventEmitter,this.activeItemIndex=0,n.subscribe((function(){return s.scrollIntoView(s.activeItemIndex)}))}return Object.defineProperty(e.prototype,"activeIndex",{set:function(e){this.activeItemIndex=e,this.scrollIntoView(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changes$",{get:function(){return r.tuiItemsQueryListObservable(this.steps).pipe(n.delay(0))},enumerable:!0,configurable:!0}),e.prototype.onHorizontal=function(e,t){"horizontal"===this.orientation&&e.target&&(e.preventDefault(),this.moveFocus(e.target,t))},e.prototype.onVertical=function(e,t){"vertical"===this.orientation&&e.target&&(e.preventDefault(),this.moveFocus(e.target,t))},e.prototype.indexOf=function(e){return r.tuiGetOriginalArrayFromQueryList(this.steps).findIndex((function(t){return t.nativeElement===e}))},e.prototype.isActive=function(e){return e===this.activeItemIndex},e.prototype.activate=function(e){this.activeItemIndex!==e&&(this.activeItemIndex=e,this.activeItemIndexChange.emit(e),this.changeDetectorRef.markForCheck(),this.scrollIntoView(e))},e.prototype.getNativeElements=function(e){return e.map((function(e){return e.nativeElement}))},e.prototype.moveFocus=function(e,t){r.tuiAssertIsHTMLElement(e);var o=this.getNativeElements(this.steps);r.tuiMoveFocus(o.indexOf(e),o,t)},e.prototype.scrollIntoView=function(e){var t=this.getNativeElements(this.steps)[e];if(t){var r=this.elementRef.nativeElement,o=r.clientHeight,i=r.clientWidth,n=r.offsetTop,a=r.offsetLeft,s=t.offsetHeight,c=t.offsetWidth,u=t.offsetTop-n-o/2+s/2,l=t.offsetLeft-a-i/2+c/2;this.scrollService.scroll$(r,Math.max(0,u),Math.max(0,l),this.duration/3).subscribe()}},e.ctorParameters=function(){return[{type:t.ChangeDetectorRef,decorators:[{type:t.Inject,args:[t.ChangeDetectorRef]}]},{type:t.ElementRef,decorators:[{type:t.Inject,args:[t.ElementRef]}]},{type:r.TuiScrollService,decorators:[{type:t.Inject,args:[r.TuiScrollService]}]},{type:i.Observable,decorators:[{type:t.Inject,args:[r.TuiResizeService]}]},{type:Number,decorators:[{type:t.Inject,args:[o.TUI_ANIMATIONS_DURATION]}]}]},s([t.ContentChildren(t.forwardRef((function(){return l})),{read:t.ElementRef})],e.prototype,"steps",void 0),s([t.Input(),t.HostBinding("attr.data-orientation"),r.tuiDefaultProp()],e.prototype,"orientation",void 0),s([t.Input("activeItemIndex")],e.prototype,"activeIndex",null),s([t.Output()],e.prototype,"activeItemIndexChange",void 0),s([r.tuiPure],e.prototype,"changes$",null),s([t.HostListener("keydown.arrowRight",["$event","1"]),t.HostListener("keydown.arrowLeft",["$event","-1"])],e.prototype,"onHorizontal",null),s([t.HostListener("keydown.arrowDown",["$event","1"]),t.HostListener("keydown.arrowUp",["$event","-1"])],e.prototype,"onVertical",null),s([r.tuiPure],e.prototype,"getNativeElements",null),e=s([t.Component({selector:"tui-stepper, nav[tuiStepper]",template:'<ng-container *ngIf="changes$ | async"></ng-container>\n<ng-content></ng-content>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[r.TuiResizeService,r.TuiDestroyService],styles:[":host{scrollbar-width:none;-ms-overflow-style:none;display:flex;overflow:auto;counter-reset:steps;scroll-behavior:smooth}:host::-webkit-scrollbar,:host::-webkit-scrollbar-thumb{background:0 0;width:0;height:0}:host[data-orientation=vertical]{flex-direction:column}"]}),c(0,t.Inject(t.ChangeDetectorRef)),c(1,t.Inject(t.ElementRef)),c(2,t.Inject(r.TuiScrollService)),c(3,t.Inject(r.TuiResizeService)),c(4,t.Inject(o.TUI_ANIMATIONS_DURATION))],e)}(),l=function(){function e(e,t,r,o){var a=this;this.stepper=r,this.elementRef=o,this.state="normal",this.icon="",this.focusVisible=!1,t.pipe(n.filter(i.identity)).subscribe((function(){a.activate()})),e.subscribe((function(e){a.focusVisible=e}))}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this.stepper.isActive(this.index)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVertical",{get:function(){return"vertical"===this.stepper.orientation},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tabIndex",{get:function(){return this.isActive?0:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this.stepper.indexOf(this.elementRef.nativeElement)},enumerable:!0,configurable:!0}),e.prototype.activate=function(){this.stepper.activate(this.index)},e.ctorParameters=function(){return[{type:r.TuiFocusVisibleService,decorators:[{type:t.Inject,args:[r.TuiFocusVisibleService]}]},{type:i.Observable,decorators:[{type:t.Inject,args:[o.TuiRouterLinkActiveService]}]},{type:u,decorators:[{type:t.Inject,args:[u]}]},{type:t.ElementRef,decorators:[{type:t.Inject,args:[t.ElementRef]}]}]},s([t.Input(),t.HostBinding("attr.data-state"),r.tuiDefaultProp()],e.prototype,"state",void 0),s([t.Input(),r.tuiDefaultProp()],e.prototype,"icon",void 0),s([t.HostBinding("class._focus-visible")],e.prototype,"focusVisible",void 0),s([t.HostBinding("class._active")],e.prototype,"isActive",null),s([t.HostBinding("class._vertical")],e.prototype,"isVertical",null),s([t.HostBinding("tabIndex")],e.prototype,"tabIndex",null),s([t.HostListener("click")],e.prototype,"activate",null),e=s([t.Component({selector:"button[tuiStep], a[tuiStep]:not([routerLink]), a[tuiStep][routerLink][routerLinkActive]",template:'<tui-svg\n    *ngIf="icon"\n    class="t-marker t-marker_custom"\n    [src]="icon"\n></tui-svg>\n<tui-svg\n    src="tuiIconWarningLarge"\n    class="t-marker t-marker_error"\n></tui-svg>\n<tui-svg\n    src="tuiIconCheckLarge"\n    class="t-marker t-marker_pass"\n></tui-svg>\n<div class="t-marker t-marker_index"></div>\n<ng-content></ng-content>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[r.TuiDestroyService,o.TuiRouterLinkActiveService,r.TuiFocusVisibleService],host:{type:"button"},styles:[":host{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0;border:0;background:0 0;font-size:inherit;line-height:inherit;position:relative;display:flex;align-items:center;flex-shrink:0;color:var(--tui-link);margin-right:2rem;outline:0;cursor:pointer;text-decoration:none;counter-increment:steps}:host:disabled{pointer-events:none;color:var(--tui-base-07)}:host:hover{color:var(--tui-link-hover)}:host:not(:last-of-type)._vertical{margin-bottom:1.25rem}:host._active,:host._active:hover{color:var(--tui-text-01);cursor:default}:host._focus-visible:before{content:'';position:absolute;left:2.75rem;right:0;top:50%;height:1.5rem;margin-top:-.75rem;background:var(--tui-selection)}.t-marker{transition-property:background;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;display:flex;width:2rem;height:2rem;border-radius:100%;margin-right:.75rem;flex-shrink:0;align-items:center;justify-content:center;background:var(--tui-secondary);color:var(--tui-link)}:host:disabled .t-marker{background:var(--tui-base-03);color:var(--tui-base-07)}.t-marker_index:before{content:counter(steps)}:host:hover .t-marker_index{color:var(--tui-link-hover);background:var(--tui-secondary-hover)}:host._active .t-marker_index{color:var(--tui-primary-text);background:var(--tui-primary)}:host:not(._active) .t-marker_custom~.t-marker_index,:host:not([data-state=normal]):not(._active) .t-marker_index{display:none}.t-marker_error{background:var(--tui-error-bg);color:var(--tui-error-fill)}:host:hover .t-marker_error{background:var(--tui-error-bg-hover);color:var(--tui-error-fill)}:host._active .t-marker_error,:host:not([data-state=error]) .t-marker_error{display:none}:host._active .t-marker_pass,:host:not([data-state=pass]) .t-marker_pass{display:none}:host._active .t-marker_custom,:host:not([data-state=normal]) .t-marker_custom{display:none}:host:hover .t-marker_custom{color:var(--tui-link-hover);background:var(--tui-secondary-hover)}"]}),c(0,t.Inject(r.TuiFocusVisibleService)),c(1,t.Inject(o.TuiRouterLinkActiveService)),c(2,t.Inject(u)),c(3,t.Inject(t.ElementRef))],e)}(),p=function(){function e(){}return e=s([t.NgModule({imports:[a.CommonModule,o.TuiSvgModule],declarations:[u,l],exports:[u,l]})],e)}();e.TuiStepComponent=l,e.TuiStepperComponent=u,e.TuiStepperModule=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-stepper.umd.min.js.map