!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("@taiga-ui/kit/tokens"),require("@taiga-ui/kit/providers"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@taiga-ui/kit/components/calendar-month")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/input-month-range",["exports","@angular/core","@angular/forms","@taiga-ui/cdk","@taiga-ui/core","@taiga-ui/kit/tokens","@taiga-ui/kit/providers","rxjs","rxjs/operators","@angular/common","@taiga-ui/kit/components/calendar-month"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].kit=e["taiga-ui"].kit||{},e["taiga-ui"].kit.components=e["taiga-ui"].kit.components||{},e["taiga-ui"].kit.components["input-month-range"]={}),e.ng.core,e.ng.forms,e.cdk,e.core$1,e["taiga-ui"].kit.tokens,e["taiga-ui"].kit.providers,e.rxjs,e.rxjs.operators,e.ng.common,e["taiga-ui"].kit.components["calendar-month"])}(this,(function(e,t,n,o,i,r,a,u,l,c,s){"use strict";var p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function f(e,t,n,o){var i,r=arguments.length,a=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var u=e.length-1;u>=0;u--)(i=e[u])&&(a=(r<3?i(a):r>3?i(t,n,a):i(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function g(e,t){return function(n,o){t(n,o,e)}}Object.create;function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,i,r=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(e){i={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(i)throw i.error}}return a}Object.create;var v=[{provide:o.TUI_FOCUSABLE_ITEM_ACCESSOR,useExisting:t.forwardRef((function(){return m}))},{provide:o.AbstractTuiControl,useExisting:t.forwardRef((function(){return m}))},a.LEFT_ALIGNED_DROPDOWN_CONTROLLER_PROVIDER,a.TUI_MONTH_FORMATTER_PROVIDER,i.TuiMonthPipe],m=function(e){function a(t,n,i,r){var a=e.call(this,t,n)||this;return a.formatter=i,a.textfieldSize=r,a.min=o.TUI_FIRST_DAY,a.max=o.TUI_LAST_DAY,a.disabledItemHandler=o.ALWAYS_FALSE_HANDLER,a.open=!1,a}return d(a,e),Object.defineProperty(a.prototype,"nativeFocusableElement",{get:function(){return this.textfield?this.textfield.nativeFocusableElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"focused",{get:function(){return!!this.textfield&&this.textfield.focused},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"calendarIcon",{get:function(){return i.sizeBigger(this.textfieldSize.size)?"tuiIconCalendarLarge":"tuiIconCalendar"},enumerable:!0,configurable:!0}),a.prototype.computeValue=function(e,t){var n=e===t&&this.focused&&!this.readOnly?"":t;return e+" "+o.CHAR_EN_DASH+" "+n},a.prototype.onValueChange=function(e){e||(this.updateValue(null),this.onOpenChange(!0))},a.prototype.onMonthClick=function(e){null!==this.value&&this.value.isSingleMonth?(this.updateValue(o.TuiMonthRange.sort(this.value.from,e)),this.close()):this.writeValue(new o.TuiMonthRange(e,e))},a.prototype.onHovered=function(e){this.updateHovered(e)},a.prototype.onOpenChange=function(e){this.open=e},a.prototype.onActiveZone=function(e){var t;this.updateFocused(e),e||(null===(t=this.value)||void 0===t?void 0:t.isSingleMonth)&&this.updateValue(new o.TuiMonthRange(this.value.from,this.value.from))},a.prototype.setDisabledState=function(){e.prototype.setDisabledState.call(this),this.close()},a.prototype.close=function(){this.open=!1},a.ctorParameters=function(){return[{type:n.NgControl,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[n.NgControl]}]},{type:t.ChangeDetectorRef,decorators:[{type:t.Inject,args:[t.ChangeDetectorRef]}]},{type:void 0,decorators:[{type:t.Inject,args:[r.TUI_MONTH_FORMATTER]}]},{type:i.TuiTextfieldSizeDirective,decorators:[{type:t.Inject,args:[i.TUI_TEXTFIELD_SIZE]}]}]},f([t.ViewChild(i.TuiPrimitiveTextfieldComponent)],a.prototype,"textfield",void 0),f([t.Input(),o.tuiDefaultProp()],a.prototype,"min",void 0),f([t.Input(),o.tuiDefaultProp()],a.prototype,"max",void 0),f([t.Input(),o.tuiDefaultProp()],a.prototype,"disabledItemHandler",void 0),a=f([t.Component({selector:"tui-input-month-range",template:'<tui-hosted-dropdown\n    class="t-hosted"\n    [canOpen]="interactive"\n    [content]="dropdown"\n    [open]="open && interactive"\n    (openChange)="onOpenChange($event)"\n    (tuiActiveZoneChange)="onActiveZone($event)"\n>\n    <tui-primitive-textfield\n        class="t-textfield"\n        [editable]="false"\n        [disabled]="computedDisabled"\n        [nativeId]="nativeId"\n        [readOnly]="readOnly"\n        [iconContent]="calendarIcon"\n        [pseudoFocused]="pseudoFocused"\n        [pseudoHovered]="pseudoHovered"\n        [invalid]="computedInvalid"\n        [value]="\n            value\n                ? computeValue(value.from | tuiMapper: formatter | async, value.to | tuiMapper: formatter | async)\n                : \'\'\n        "\n        (valueChange)="onValueChange($event)"\n        (hoveredChange)="onHovered($event)"\n    >\n        <ng-content></ng-content>\n        <ng-content\n            select="input"\n            ngProjectAs="input"\n        ></ng-content>\n    </tui-primitive-textfield>\n\n    <ng-template #dropdown>\n        <tui-calendar-month\n            tuiPreventDefault="mousedown"\n            [disabledItemHandler]="disabledItemHandler"\n            [min]="min"\n            [max]="max"\n            [value]="value"\n            (monthClick)="onMonthClick($event)"\n        ></tui-calendar-month>\n    </ng-template>\n</tui-hosted-dropdown>\n',providers:v,changeDetection:t.ChangeDetectionStrategy.OnPush,styles:[":host{display:block;border-radius:var(--tui-radius-m);text-align:left}.t-hosted{display:block;border-radius:inherit}.t-textfield{border-radius:inherit;text-align:inherit}"]}),g(0,t.Optional()),g(0,t.Self()),g(0,t.Inject(n.NgControl)),g(1,t.Inject(t.ChangeDetectorRef)),g(2,t.Inject(r.TUI_MONTH_FORMATTER)),g(3,t.Inject(i.TUI_TEXTFIELD_SIZE))],a)}(o.AbstractTuiNullableControl),y=function(e){function n(t,n,o){var i=e.call(this,t)||this;return i.value$=new u.Subject,i.localizedValue=["",""],i.value$.pipe(l.distinctUntilChanged(),l.switchMap((function(e){return u.combineLatest([n((null==e?void 0:e.from)||null),n((null==e?void 0:e.to)||null)])})),l.takeUntil(o)).subscribe((function(e){i.localizedValue=e})),i}var a;return d(n,e),a=n,Object.defineProperty(n.prototype,"readOnly",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){var e;return this.localizedValue[0]?(e=this.host).computeValue.apply(e,function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}(this.localizedValue)):""},enumerable:!0,configurable:!0}),n.prototype.ngDoCheck=function(){this.value$.next(this.host.value)},n.prototype.onValueChange=function(e){this.host.onValueChange(e)},n.ctorParameters=function(){return[{type:m,decorators:[{type:t.Inject,args:[o.AbstractTuiControl]}]},{type:void 0,decorators:[{type:t.Inject,args:[r.TUI_MONTH_FORMATTER]}]},{type:u.Observable,decorators:[{type:t.Self},{type:t.Inject,args:[o.TuiDestroyService]}]}]},n=a=f([t.Directive({selector:"tui-input-month-range",providers:[{provide:i.TUI_TEXTFIELD_HOST,useExisting:t.forwardRef((function(){return a}))},o.TuiDestroyService]}),g(0,t.Inject(o.AbstractTuiControl)),g(1,t.Inject(r.TUI_MONTH_FORMATTER)),g(2,t.Self()),g(2,t.Inject(o.TuiDestroyService))],n)}(i.TuiAbstractTextfieldHost),T=function(){function e(){}return e=f([t.NgModule({imports:[c.CommonModule,s.TuiCalendarMonthModule,i.TuiHostedDropdownModule,i.TuiPrimitiveTextfieldModule,i.TuiSvgModule,o.TuiPreventDefaultModule,o.TuiActiveZoneModule,o.TuiMapperPipeModule],declarations:[m,y],exports:[m,y,i.TuiTextfieldComponent]})],e)}();e.TUI_INPUT_MONTH_RANGE_PROVIDERS=v,e.TuiInputMonthRangeComponent=m,e.TuiInputMonthRangeDirective=y,e.TuiInputMonthRangeModule=T,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-input-month-range.umd.min.js.map