!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("@taiga-ui/kit/components/arrow"),require("@taiga-ui/kit/tokens"),require("@taiga-ui/kit/components/select-option"),require("@taiga-ui/kit/providers"),require("@angular/common"),require("@tinkoff/ng-polymorpheus")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/select",["exports","@angular/core","@angular/forms","@taiga-ui/cdk","@taiga-ui/core","@taiga-ui/kit/components/arrow","@taiga-ui/kit/tokens","@taiga-ui/kit/components/select-option","@taiga-ui/kit/providers","@angular/common","@tinkoff/ng-polymorpheus"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].kit=e["taiga-ui"].kit||{},e["taiga-ui"].kit.components=e["taiga-ui"].kit.components||{},e["taiga-ui"].kit.components.select={}),e.ng.core,e.ng.forms,e.cdk,e.core$1,e["taiga-ui"].kit.components.arrow,e["taiga-ui"].kit.tokens,e["taiga-ui"].kit.components["select-option"],e["taiga-ui"].kit.providers,e.ng.common,e.ngPolymorpheus)}(this,(function(e,t,n,o,i,r,u,a,l,c,s){"use strict";var p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var f=function(){return(f=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function v(e,t,n,o){var i,r=arguments.length,u=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(u=(r<3?i(u):r>3?i(t,n,u):i(t,n))||u);return r>3&&u&&Object.defineProperty(t,n,u),u}function g(e,t){return function(n,o){t(n,o,e)}}Object.create;Object.create;var y=a.TUI_SELECT_OPTION,h=[{provide:o.AbstractTuiControl,useExisting:t.forwardRef((function(){return O}))},{provide:o.TUI_FOCUSABLE_ITEM_ACCESSOR,useExisting:t.forwardRef((function(){return O}))},{provide:i.TUI_DATA_LIST_HOST,useExisting:t.forwardRef((function(){return O}))},{provide:i.TUI_OPTION_CONTENT,useValue:y},l.FIXED_DROPDOWN_CONTROLLER_PROVIDER],m={valueContent:""},T=new t.InjectionToken("Default parameters for select component",{factory:function(){return m}}),O=function(e){function a(t,n,o,i,r,u){var a=e.call(this,t,n)||this;return a.textfieldCleaner=o,a.arrowMode=i,a.itemsHandlers=r,a.options=u,a.stringify=a.itemsHandlers.stringify,a.identityMatcher=a.itemsHandlers.identityMatcher,a.valueContent=a.options.valueContent,a.datalist="",a}return d(a,e),Object.defineProperty(a.prototype,"arrow",{get:function(){return this.interactive?this.arrowMode.interactive:this.arrowMode.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"nativeFocusableElement",{get:function(){return this.textfield?this.textfield.nativeFocusableElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"focused",{get:function(){return o.isNativeFocused(this.nativeFocusableElement)||!!this.hostedDropdown&&this.hostedDropdown.focused},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"computedValue",{get:function(){return null===this.value?"":this.stringify(this.value)||" "},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"computedContent",{get:function(){return this.valueContent||this.computedValue},enumerable:!0,configurable:!0}),a.prototype.onValueChange=function(e){e||this.updateValue(null)},a.prototype.onActiveZone=function(e){this.updateFocused(e)},a.prototype.onHovered=function(e){this.updateHovered(e)},a.prototype.onKeyDownDelete=function(){this.textfieldCleaner.cleaner&&this.updateValue(null)},a.prototype.handleOption=function(e){var t;this.focusInput(),this.updateValue(e),null===(t=this.hostedDropdown)||void 0===t||t.updateOpen(!1)},a.prototype.focusInput=function(e){void 0===e&&(e=!1),this.nativeFocusableElement&&o.setNativeFocused(this.nativeFocusableElement,!0,e)},a.ctorParameters=function(){return[{type:n.NgControl,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[n.NgControl]}]},{type:t.ChangeDetectorRef,decorators:[{type:t.Inject,args:[t.ChangeDetectorRef]}]},{type:i.TuiTextfieldCleanerDirective,decorators:[{type:t.Inject,args:[i.TUI_TEXTFIELD_CLEANER]}]},{type:void 0,decorators:[{type:t.Inject,args:[r.TUI_ARROW_MODE]}]},{type:void 0,decorators:[{type:t.Inject,args:[u.TUI_ITEMS_HANDLERS]}]},{type:void 0,decorators:[{type:t.Inject,args:[T]}]}]},v([t.ViewChild(i.TuiPrimitiveTextfieldComponent)],a.prototype,"textfield",void 0),v([t.ViewChild(i.TuiHostedDropdownComponent)],a.prototype,"hostedDropdown",void 0),v([t.Input(),o.tuiDefaultProp()],a.prototype,"stringify",void 0),v([t.Input(),o.tuiDefaultProp()],a.prototype,"identityMatcher",void 0),v([t.Input(),o.tuiDefaultProp()],a.prototype,"valueContent",void 0),v([t.ContentChild(i.TuiDataListDirective,{read:t.TemplateRef})],a.prototype,"datalist",void 0),a=v([t.Component({selector:"tui-select",template:'<tui-hosted-dropdown\n    class="t-hosted"\n    [canOpen]="interactive"\n    [content]="datalist || \'\'"\n    (tuiActiveZoneChange)="onActiveZone($event)"\n>\n    <tui-primitive-textfield\n        automation-id="tui-select__textfield"\n        class="t-textfield"\n        [editable]="false"\n        [pseudoFocused]="computedFocused"\n        [pseudoHovered]="pseudoHovered"\n        [pseudoPressed]="pseudoPressed"\n        [invalid]="computedInvalid"\n        [nativeId]="nativeId"\n        [readOnly]="readOnly"\n        [iconContent]="arrow"\n        [disabled]="computedDisabled"\n        [focusable]="computedFocusable"\n        [value]="computedValue"\n        (valueChange)="onValueChange($event)"\n        (hoveredChange)="onHovered($event)"\n        (keydown.delete.prevent)="onKeyDownDelete()"\n        (keydown.backspace.prevent)="onKeyDownDelete()"\n    >\n        <ng-content></ng-content>\n        <ng-content\n            select="input"\n            ngProjectAs="input"\n        ></ng-content>\n        <div\n            *ngIf="value !== null"\n            polymorpheus-outlet\n            automation-id="tui-select__value"\n            class="t-value"\n            [content]="computedContent"\n            [context]="{$implicit: value, active: computedFocused}"\n        >\n            <ng-template let-primitiveValue>\n                <div class="t-primitive-value">{{ primitiveValue }}</div>\n            </ng-template>\n        </div>\n    </tui-primitive-textfield>\n</tui-hosted-dropdown>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,providers:h,styles:[":host{display:block;border-radius:var(--tui-radius-m);text-align:left}:host:not(._readonly) ::ng-deep input:not(:disabled){cursor:pointer}:host._readonly ::ng-deep input{cursor:default}.t-hosted{display:block;border-radius:inherit}.t-textfield{border-radius:inherit;text-align:inherit}.t-value{display:flex;width:100%;align-items:center}.t-primitive-value{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),g(0,t.Optional()),g(0,t.Self()),g(0,t.Inject(n.NgControl)),g(1,t.Inject(t.ChangeDetectorRef)),g(2,t.Inject(i.TUI_TEXTFIELD_CLEANER)),g(3,t.Inject(r.TUI_ARROW_MODE)),g(4,t.Inject(u.TUI_ITEMS_HANDLERS)),g(5,t.Inject(T))],a)}(o.AbstractTuiNullableControl),b=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}var o;return d(n,e),o=n,Object.defineProperty(n.prototype,"readOnly",{get:function(){return!0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"value",{get:function(){return this.host.computedValue},enumerable:!0,configurable:!0}),n.prototype.onValueChange=function(e){this.host.onValueChange(e)},n=o=v([t.Directive({selector:"tui-select",providers:[{provide:i.TUI_TEXTFIELD_HOST,useExisting:t.forwardRef((function(){return o}))}]})],n)}(i.TuiAbstractTextfieldHost),I=function(){function e(){}return e=v([t.NgModule({imports:[c.CommonModule,s.PolymorpheusModule,o.TuiActiveZoneModule,i.TuiPrimitiveTextfieldModule,i.TuiHostedDropdownModule,a.TuiSelectOptionModule,r.TuiArrowModule],declarations:[O,b],exports:[O,b,i.TuiTextfieldComponent]})],e)}();e.SELECT_OPTION=y,e.TUI_SELECT_DEFAULT_OPTIONS=m,e.TUI_SELECT_OPTIONS=T,e.TUI_SELECT_PROVIDERS=h,e.TuiSelectComponent=O,e.TuiSelectDirective=b,e.TuiSelectModule=I,e.tuiSelectOptionsProvider=function(e){return{provide:T,useValue:f(f({},m),e)}},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-select.umd.min.js.map