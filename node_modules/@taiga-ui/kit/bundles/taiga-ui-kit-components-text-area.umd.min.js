!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("rxjs"),require("@angular/common")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/text-area",["exports","@angular/core","@angular/forms","@taiga-ui/cdk","@taiga-ui/core","rxjs","@angular/common"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].kit=e["taiga-ui"].kit||{},e["taiga-ui"].kit.components=e["taiga-ui"].kit.components||{},e["taiga-ui"].kit.components["text-area"]={}),e.ng.core,e.ng.forms,e.cdk,e.core$1,e.rxjs,e.ng.common)}(this,(function(e,t,o,n,r,i,a){"use strict";var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}function d(e,t,o,n){var r,i=arguments.length,a=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,n);else for(var l=e.length-1;l>=0;l--)(r=e[l])&&(a=(i<3?r(a):i>3?r(t,o,a):r(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a}function u(e,t){return function(o,n){t(o,n,e)}}Object.create;Object.create;var c=[{provide:n.TUI_FOCUSABLE_ITEM_ACCESSOR,useExisting:t.forwardRef((function(){return p}))},{provide:n.AbstractTuiControl,useExisting:t.forwardRef((function(){return p}))},r.TEXTFIELD_CONTROLLER_PROVIDER,r.HINT_CONTROLLER_PROVIDER,r.MODE_PROVIDER],p=function(e){function a(t,o,n,r,i,a,l){var s=e.call(this,t,o)||this;return s.appearance=n,s.isIOS=r,s.mode$=i,s.controller=a,s.hintController=l,s.rows=20,s.expandable=!1,s}return s(a,e),Object.defineProperty(a.prototype,"labelOutside",{get:function(){return this.controller.labelOutside},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"nativeFocusableElement",{get:function(){var e,t;return this.computedDisabled?null:(null===(e=this.textfield)||void 0===e?void 0:e.nativeElement)||(null===(t=this.focusableElement)||void 0===t?void 0:t.nativeElement)||null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"focused",{get:function(){return n.isNativeFocused(this.nativeFocusableElement)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"size",{get:function(){return this.controller.size},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"border",{get:function(){return r.getBorder(!1,this.hasCleaner,this.hasTooltip)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasCleaner",{get:function(){return this.controller.cleaner&&this.hasValue&&this.interactive},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasTooltip",{get:function(){return!!this.hintController.content&&!this.disabled},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasValue",{get:function(){return""!==this.value},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasCounter",{get:function(){return!!this.controller.maxLength&&this.interactive},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasPlaceholder",{get:function(){return!this.controller.labelOutside||!this.hasValue&&!this.hasExampleText},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"hasExampleText",{get:function(){var e;return!!(this.controller.exampleText||(null===(e=this.textfield)||void 0===e?void 0:e.nativeElement.placeholder))&&this.focused&&!this.hasValue&&!this.readOnly},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"computeMaxHeight",{get:function(){return this.expandable?this.rows*this.lineHeight:null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"placeholderRaised",{get:function(){return!this.controller.labelOutside&&(this.computedFocused&&!this.readOnly||this.hasValue)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"fittedContent",{get:function(){return this.value.slice(0,this.controller.maxLength||1/0)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"extraContent",{get:function(){return this.value.slice(this.controller.maxLength||1/0)},enumerable:!0,configurable:!0}),a.prototype.onFocused=function(e){this.updateFocused(e)},a.prototype.onHovered=function(e){this.updateHovered(e)},a.prototype.onPressed=function(e){this.updatePressed(e)},a.prototype.onValueChange=function(e){this.updateValue(e)},a.prototype.onMouseDown=function(e){e.target!==this.nativeFocusableElement&&(e.preventDefault(),this.nativeFocusableElement&&n.setNativeFocused(this.nativeFocusableElement))},a.prototype.getFallbackValue=function(){return""},Object.defineProperty(a.prototype,"lineHeight",{get:function(){return"m"===this.controller.size?20:24},enumerable:!0,configurable:!0}),a.ctorParameters=function(){return[{type:o.NgControl,decorators:[{type:t.Optional},{type:t.Self},{type:t.Inject,args:[o.NgControl]}]},{type:t.ChangeDetectorRef,decorators:[{type:t.Inject,args:[t.ChangeDetectorRef]}]},{type:String,decorators:[{type:t.Inject,args:[r.TUI_TEXTFIELD_APPEARANCE]}]},{type:Boolean,decorators:[{type:t.Inject,args:[n.TUI_IS_IOS]}]},{type:i.Observable,decorators:[{type:t.Inject,args:[r.TUI_MODE]}]},{type:r.TuiTextfieldController,decorators:[{type:t.Inject,args:[r.TUI_TEXTFIELD_WATCHED_CONTROLLER]}]},{type:r.TuiHintControllerDirective,decorators:[{type:t.Inject,args:[r.TUI_HINT_WATCHED_CONTROLLER]}]}]},d([t.ViewChild("focusableElement")],a.prototype,"focusableElement",void 0),d([t.ContentChild(r.TuiTextfieldComponent,{read:t.ElementRef})],a.prototype,"textfield",void 0),d([t.Input(),n.tuiDefaultProp()],a.prototype,"rows",void 0),d([t.Input(),t.HostBinding("class._expandable"),n.tuiDefaultProp()],a.prototype,"expandable",void 0),d([t.HostBinding("class._label-outside")],a.prototype,"labelOutside",null),d([t.HostBinding("attr.data-size")],a.prototype,"size",null),d([t.HostBinding("style.--border-end.rem")],a.prototype,"border",null),d([t.HostBinding("class._has-tooltip")],a.prototype,"hasTooltip",null),d([t.HostBinding("class._has-value")],a.prototype,"hasValue",null),d([t.HostBinding("class._has-counter")],a.prototype,"hasCounter",null),d([t.HostListener("focusin",["true"]),t.HostListener("focusout",["false"])],a.prototype,"onFocused",null),a=d([t.Component({selector:"tui-text-area",template:'<tui-wrapper\n    automation-id="tui-text-area__wrapper"\n    class="t-outline"\n    [appearance]="appearance"\n    [disabled]="disabled"\n    [focused]="computedFocused"\n    [hovered]="computedHovered"\n    [readOnly]="readOnly"\n    [invalid]="computedInvalid"\n>\n    <div\n        *ngIf="hasCounter"\n        automation-id="tui-text-area__counter"\n        class="t-counter"\n    >\n        {{ value.length }}/{{ controller.maxLength }}\n    </div>\n\n    <label\n        class="t-content"\n        (tuiHoveredChange)="onHovered($event)"\n        (mousedown)="onMouseDown($event)"\n    >\n        <div class="t-wrapper">\n            <div\n                *ngIf="hasPlaceholder"\n                automation-id="tui-text-area__placeholder"\n                class="t-placeholder"\n                [class.t-placeholder_raised]="placeholderRaised"\n            >\n                <ng-content></ng-content>\n            </div>\n            <tui-scrollbar\n                automation-id="tui-text-area__scrollbar"\n                class="t-box"\n                [style.maxHeight.px]="computeMaxHeight"\n            >\n                <div class="t-input-wrapper">\n                    <div class="t-relative">\n                        <div\n                            aria-hidden="true"\n                            class="t-pseudo-content"\n                        >\n                            <span [textContent]="fittedContent || controller.exampleText"></span>\n                            <span\n                                class="t-pseudo-content__extra"\n                                [textContent]="extraContent"\n                            ></span>\n                            &nbsp;\n                        </div>\n                        <textarea\n                            #focusableElement\n                            automation-id="tui-text-area__native"\n                            class="t-input"\n                            [placeholder]="controller.exampleText"\n                            [id]="id"\n                            [tuiDescribedBy]="id"\n                            [tuiFocusable]="computedFocusable"\n                            [disabled]="computedDisabled"\n                            [ngModel]="value"\n                            [readOnly]="readOnly"\n                            (ngModelChange)="onValueChange($event)"\n                        ></textarea>\n                        <ng-content select="textarea"></ng-content>\n                    </div>\n                </div>\n            </tui-scrollbar>\n        </div>\n        <div class="t-icons">\n            <tui-svg\n                *ngIf="hasCleaner"\n                src="tuiIconCloseLarge"\n                class="t-cleaner"\n                (click.stop)="onValueChange(\'\')"\n            ></tui-svg>\n            <tui-tooltip\n                *ngIf="hasTooltip"\n                automation-id="tui-text-area__tooltip"\n                class="t-tooltip"\n                [describeId]="id"\n                [direction]="hintController.direction"\n                [mode]="hintController.mode"\n                [content]="hintController.content || \'\'"\n                [showDelay]="hintController.showDelay"\n                [hideDelay]="hintController.hideDelay"\n            ></tui-tooltip>\n        </div>\n    </label>\n</tui-wrapper>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,providers:c,host:{"($.data-mode.attr)":"mode$","[class._ios]":"isIOS"},styles:[":host{position:relative;z-index:0;display:flex;font:var(--tui-font-text-m);flex-direction:column;min-height:6.75rem;border-radius:var(--tui-radius-m);color:var(--tui-text-01)}:host[data-mode=onDark]{color:var(--tui-text-01-night)}:host[data-size='m']{font:var(--tui-font-text-s);min-height:5.5rem}:host[data-size='m']._has-counter{min-height:6.625rem}:host[data-size='l']._has-counter{min-height:7.875rem}.t-outline{min-height:inherit}.t-content{display:block;margin-top:0;margin-bottom:0;min-height:inherit;box-sizing:border-box;overflow:hidden;cursor:text}:host._disabled .t-content{cursor:auto;opacity:var(--tui-disabled-opacity)}:host:not(._expandable) .t-content{position:absolute;top:0;left:0;bottom:1px;right:0;min-height:auto}:host._has-counter:not(._expandable) .t-content{bottom:1.6875rem}.t-wrapper{position:relative;width:100%;height:100%;min-height:inherit;padding-bottom:.4375rem;box-sizing:border-box}:host[data-size='m']._label-outside .t-wrapper{padding-top:.75rem}:host[data-size='l']._label-outside .t-wrapper{padding-top:1rem}:host[data-size='m']:not(._label-outside) .t-wrapper{padding-top:1.375rem}:host[data-size='l']:not(._label-outside) .t-wrapper{padding-top:1.625rem}:host-context(table)[data-size='m']._label-outside .t-wrapper{padding-bottom:.75rem}:host-context(table)[data-size='l']._label-outside .t-wrapper{padding-bottom:1rem}.t-input-wrapper{min-height:inherit;width:100%;flex:1}.t-relative{position:relative;min-height:inherit}.t-box{display:flex;min-height:100%;width:100%}:host:not(._expandable) .t-box{height:100%}:host._has-counter._expandable .t-box{margin-bottom:1.25rem}.t-pseudo-content{white-space:pre-wrap;word-wrap:break-word;pointer-events:none;color:transparent;overflow:hidden;border:solid transparent;border-width:0 var(--border-end,0) 0 var(--border-start,0);border-inline-start-width:var(--border-start,0);border-inline-end-width:var(--border-end,0)}:host[data-size='m'] .t-pseudo-content{padding:0 .75rem}:host[data-size='l'] .t-pseudo-content{padding:0 1rem}.t-pseudo-content__extra{background-color:var(--tui-error-bg-night)}.t-input{padding:0;margin:0;border:0;border-radius:inherit;background:0 0;font-size:inherit;line-height:inherit;font-weight:inherit;color:inherit;caret-color:currentColor;-webkit-appearance:none;-moz-appearance:none;appearance:none;word-break:keep-all;-webkit-text-fill-color:currentColor;position:absolute;top:0;left:0;width:100%;height:100%;box-sizing:border-box;resize:none;overflow:hidden;outline:0;border:solid transparent;border-width:0 var(--border-end,0) 0 var(--border-start,0);border-inline-start-width:var(--border-start,0);border-inline-end-width:var(--border-end,0)}.t-input:-webkit-autofill,.t-input:-webkit-autofill:focus,.t-input:-webkit-autofill:hover{caret-color:var(--tui-base-09);border-radius:inherit;color:inherit!important;background-color:transparent!important;-webkit-text-fill-color:var(--tui-text-01)!important;border-color:var(--tui-autofill);-webkit-box-shadow:0 0 0 100rem var(--tui-autofill) inset!important}.t-input:not(:last-of-type){display:none}.t-input::-ms-input-placeholder{color:var(--tui-text-03);opacity:0}.t-input::placeholder{color:var(--tui-text-03);opacity:0}:host[data-mode=onDark] .t-input::-ms-input-placeholder{color:var(--tui-text-03-night)}:host[data-mode=onDark] .t-input::placeholder{color:var(--tui-text-03-night)}:host._focused .t-input:not(:read-only)::-ms-input-placeholder{opacity:1}:host._focused .t-input:not(:-moz-read-only)::placeholder{opacity:1}:host._focused .t-input:not(:read-only)::placeholder{opacity:1}:host[data-size='m'] .t-input{padding:0 .75rem}:host[data-size='l'] .t-input{padding:0 1rem}:host[data-mode=onDark]._disabled .t-input{color:var(--tui-text-03-night)}@supports (-webkit-marquee-repetition:infinite) and (object-fit:fill){:host._ios .t-input{padding-left:.8125rem}}.t-placeholder{transition-property:transform,font-size,color,letter-spacing;transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;font:var(--tui-font-text-s);color:var(--tui-text-01);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:var(--tui-text-02);pointer-events:none;will-change:transform;transform:translateY(0);position:absolute;left:0;max-width:100%;padding:0 1rem;border:solid transparent;border-width:0 var(--border-end,0) 0 var(--border-start,0);border-inline-start-width:var(--border-start,0);border-inline-end-width:var(--border-end,0);box-sizing:border-box}.t-placeholder_raised{transform:translateY(-.625rem)}:host[data-size='m'] .t-placeholder_raised{font:var(--tui-font-text-xs);transform:translateY(-.5rem);letter-spacing:.025rem}:host._invalid:not(._focused) .t-placeholder_raised,:host._invalid:not(._focused):hover .t-placeholder_raised{color:var(--tui-error-fill)}:host[data-mode=onDark]._invalid:not(._focused) .t-placeholder_raised,:host[data-mode=onDark]._invalid:not(._focused):hover .t-placeholder_raised{color:var(--tui-error-fill-night)}:host._focused .t-placeholder,:host[data-size='l']._focused._label-outside .t-placeholder,:host[data-size='m']._focused._label-outside .t-placeholder{color:var(--tui-text-03)}:host[data-size='l'] .t-placeholder{font-size:.9375rem}:host[data-size='l'] .t-placeholder_raised{font-size:.8156rem}:host[data-size='l']._focused:not(._label-outside) .t-placeholder,:host[data-size='m']._focused:not(._label-outside) .t-placeholder{color:var(--tui-text-01)}:host[data-mode=onDark] .t-placeholder{color:var(--tui-text-02-night)}:host[data-size='l'][data-mode=onDark]._focused:not(._label-outside) .t-placeholder,:host[data-size='m'][data-mode=onDark]._focused:not(._label-outside) .t-placeholder{color:var(--tui-text-01-night)}:host[data-mode=onDark]._focused .t-placeholder,:host[data-size='l'][data-mode=onDark]._focused._label-outside .t-placeholder,:host[data-size='m'][data-mode=onDark]._focused._label-outside .t-placeholder{color:var(--tui-text-02-night)}@supports (-webkit-hyphens:none){.t-placeholder{will-change:unset;transition-property:transform,color,letter-spacing}}:host[data-size='m'] .t-placeholder{top:.75rem;padding:0 .75rem}:host[data-size='l'] .t-placeholder{top:1rem}:host._label-outside .t-placeholder{overflow:initial;height:auto;white-space:initial}.t-icons{position:absolute;top:0;left:0;bottom:0;right:0;display:flex;justify-content:flex-end;pointer-events:none;padding:1rem .75rem}:host[data-size='m'] .t-icons{padding:.75rem}.t-cleaner{transition-duration:var(--tui-duration,300ms);transition-timing-function:ease-in-out;display:flex;width:1.5rem;height:1.5rem;align-items:center;justify-content:center;color:var(--tui-text-03);position:relative;box-sizing:border-box;cursor:pointer;transition-property:color,transform;pointer-events:auto}.t-cleaner:hover{color:var(--tui-text-02)}:host._disabled .t-cleaner,:host._readonly .t-cleaner{pointer-events:none}:host[data-mode=onDark] .t-cleaner{color:var(--tui-text-03-night)}:host[data-mode=onDark] .t-cleaner:hover{color:var(--tui-text-01-night)}.t-tooltip{pointer-events:auto}.t-counter{position:absolute;right:.75rem;bottom:.5rem;font:var(--tui-font-text-s);pointer-events:none;margin-top:auto;text-align:right;color:var(--tui-text-03)}:host[data-mode=onDark] .t-counter{color:var(--tui-text-03-night)}"]}),u(0,t.Optional()),u(0,t.Self()),u(0,t.Inject(o.NgControl)),u(1,t.Inject(t.ChangeDetectorRef)),u(2,t.Inject(r.TUI_TEXTFIELD_APPEARANCE)),u(3,t.Inject(n.TUI_IS_IOS)),u(4,t.Inject(r.TUI_MODE)),u(5,t.Inject(r.TUI_TEXTFIELD_WATCHED_CONTROLLER)),u(6,t.Inject(r.TUI_HINT_WATCHED_CONTROLLER))],a)}(n.AbstractTuiControl),h=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}var n;return s(o,e),n=o,o.prototype.onValueChange=function(e){this.host.onValueChange(e)},o=n=d([t.Directive({selector:"tui-text-area",providers:[{provide:r.TUI_TEXTFIELD_HOST,useExisting:t.forwardRef((function(){return n}))}]})],o)}(r.TuiAbstractTextfieldHost),f=function(){function e(){}return e=d([t.NgModule({imports:[a.CommonModule,o.FormsModule,n.TuiFocusableModule,n.TuiHoveredModule,r.TuiScrollbarModule,r.TuiTooltipModule,r.TuiWrapperModule,r.TuiDescribedByModule,r.TuiSvgModule,r.TuiPrimitiveTextfieldModule],declarations:[p,h],exports:[p,h,r.TuiTextfieldComponent]})],e)}();e.DEFAULT_ROWS=20,e.LINE_HEIGHT_L=24,e.LINE_HEIGHT_M=20,e.TUI_TEXT_AREA_PROVIDERS=c,e.TuiTextAreaComponent=p,e.TuiTextAreaDirective=h,e.TuiTextAreaModule=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-text-area.umd.min.js.map