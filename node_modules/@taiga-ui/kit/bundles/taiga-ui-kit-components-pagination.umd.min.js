!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("@taiga-ui/kit/tokens"),require("@taiga-ui/kit/utils/math"),require("rxjs"),require("@angular/common"),require("@tinkoff/ng-polymorpheus")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/pagination",["exports","@angular/core","@taiga-ui/cdk","@taiga-ui/core","@taiga-ui/kit/tokens","@taiga-ui/kit/utils/math","rxjs","@angular/common","@tinkoff/ng-polymorpheus"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].kit=e["taiga-ui"].kit||{},e["taiga-ui"].kit.components=e["taiga-ui"].kit.components||{},e["taiga-ui"].kit.components.pagination={}),e.ng.core,e.cdk,e.core$1,e["taiga-ui"].kit.tokens,e["taiga-ui"].kit.utils.math,e.rxjs,e.ng.common,e.ngPolymorpheus)}(this,(function(e,t,n,i,o,r,a,u,l){"use strict";var s=function(e,t){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function c(e,t,n,i){var o,r=arguments.length,a=r<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(a=(r<3?o(a):r>3?o(t,n,a):o(t,n))||a);return r>3&&a&&Object.defineProperty(t,n,a),a}function d(e,t){return function(n,i){t(n,i,e)}}Object.create;Object.create;function p(e){return Number.isInteger(e)&&e>=0}var f=function(e){function u(i,o,r){var a=e.call(this)||this;return a.elementRef=i,a.modeDirective=o,a.texts$=r,a.elements=n.EMPTY_QUERY,a.length=1,a.size="m",a.disabled=!1,a.activePadding=1,a.sidePadding=1,a.content=null,a.index=0,a.indexChange=new t.EventEmitter,a}var l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(u,e),l=u,Object.defineProperty(u.prototype,"nativeFocusableElement",{get:function(){if(this.disabled)return null;for(var e=0,t=this.elementsLength,n=0;n<t;n++){var i=this.getItemIndexByElementIndex(n);if(i&&e++,i===this.index)break}var o=this.elements.find((function(t,n){return n===e}));return o?o.nativeFocusableElement:null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"focused",{get:function(){return n.isNativeFocusedIn(this.elementRef.nativeElement)},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"elementsLength",{get:function(){return this.itemsFit?this.length:this.maxElementsLength},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"sizeM",{get:function(){return"m"===this.size},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"mode",{get:function(){return this.modeDirective?this.modeDirective.mode:null},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"arrowIsDisabledLeft",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"arrowIsDisabledRight",{get:function(){return 0===this.reverseIndex},enumerable:!0,configurable:!0}),u.prototype.elementIsFocusable=function(e){return this.index===e&&!this.focused},u.prototype.getItemContext=function(e){return{$implicit:e}},u.prototype.getItemIndexByElementIndex=function(e){if(!this.sizeM)return e;if(e<this.sidePadding)return e;if(e===this.sidePadding&&this.hasCollapsedItems(this.index))return null;var t=this.lastElementIndex-e;if(t===this.sidePadding&&this.hasCollapsedItems(this.reverseIndex))return null;if(t<this.sidePadding)return this.lastIndex-t;var i=this.index-this.maxHalfLength+e;return n.clamp(i,e,this.lastIndex-t)},u.prototype.getElementMode=function(e){return this.index===e?"primary":"flat"},u.prototype.getSmallElementMode=function(e,t){return this.index===e&&"onLight"!==t?"primary":"secondary"},u.prototype.onElementClick=function(e){this.updateIndex(e)},u.prototype.onElementKeyDownArrowLeft=function(e){if(e!==this.elements.first){var t=this.elements.find((function(t,n,i){return i[n+1]===e}));(null==t?void 0:t.nativeFocusableElement)&&n.setNativeFocused(t.nativeFocusableElement)}},u.prototype.onElementKeyDownArrowRight=function(e){if(e!==this.elements.last){var t=this.elements.find((function(t,n,i){return i[n-1]===e}));(null==t?void 0:t.nativeFocusableElement)&&n.setNativeFocused(t.nativeFocusableElement)}},u.prototype.onArrowClick=function(e){this.tryChangeTo(e),this.focusActive()},u.prototype.onActiveZone=function(e){this.updateFocused(e)},Object.defineProperty(u.prototype,"reverseIndex",{get:function(){return this.lastIndex-this.index},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxHalfLength",{get:function(){return this.sidePadding+1+this.activePadding},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"itemsFit",{get:function(){return this.length<=this.maxElementsLength},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"maxElementsLength",{get:function(){return 2*this.maxHalfLength+1},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"lastIndex",{get:function(){return this.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(u.prototype,"lastElementIndex",{get:function(){return this.elementsLength-1},enumerable:!0,configurable:!0}),u.prototype.hasCollapsedItems=function(e){return!this.itemsFit&&e>this.maxHalfLength},u.prototype.tryChangeTo=function(e){this.updateIndex(n.clamp(this.index+r.tuiHorizontalDirectionToNumber(e),0,this.lastIndex))},u.prototype.focusActive=function(){var e=this.nativeFocusableElement;e&&n.setNativeFocused(e)},u.prototype.updateIndex=function(e){this.index!==e&&(this.index=e,this.indexChange.emit(e))},u.ctorParameters=function(){return[{type:t.ElementRef,decorators:[{type:t.Inject,args:[t.ElementRef]}]},{type:i.TuiModeDirective,decorators:[{type:t.Optional},{type:t.Inject,args:[i.TuiModeDirective]}]},{type:a.Observable,decorators:[{type:t.Inject,args:[o.TUI_PAGINATION_TEXTS]}]}]},c([t.ViewChildren("element",{read:n.TUI_FOCUSABLE_ITEM_ACCESSOR})],u.prototype,"elements",void 0),c([t.Input(),n.tuiDefaultProp(p,"Must be non-negative integer")],u.prototype,"length",void 0),c([t.Input(),n.tuiDefaultProp()],u.prototype,"size",void 0),c([t.Input(),n.tuiDefaultProp()],u.prototype,"disabled",void 0),c([t.Input(),n.tuiDefaultProp()],u.prototype,"activePadding",void 0),c([t.Input(),n.tuiDefaultProp()],u.prototype,"sidePadding",void 0),c([t.Input(),n.tuiDefaultProp()],u.prototype,"content",void 0),c([t.Input(),n.tuiDefaultProp(p,"Must be non-negative integer")],u.prototype,"index",void 0),c([t.Output()],u.prototype,"indexChange",void 0),u=l=c([t.Component({selector:"tui-pagination",template:'<div\n    class="t-content"\n    (tuiActiveZoneChange)="onActiveZone($event)"\n>\n    <ng-container *ngIf="sizeM; else smallButtons">\n        <ng-container *ngIf="texts$ | async as texts">\n            <button\n                tuiIconButton\n                type="button"\n                tuiPreventDefault="mousedown"\n                size="s"\n                appearance="flat"\n                icon="tuiIconChevronLeft"\n                class="t-button"\n                [title]="texts[0]"\n                [disabled]="arrowIsDisabledLeft"\n                [focusable]="false"\n                (click)="onArrowClick(\'left\')"\n            ></button>\n            <ng-container *tuiRepeatTimes="let elementIndex of elementsLength">\n                <ng-container *tuiLet="getItemIndexByElementIndex(elementIndex) as index">\n                    <button\n                        *ngIf="index !== null; else dotsTemplate"\n                        #element\n                        tuiButton\n                        type="button"\n                        automation-id="tui-pagination__element"\n                        shape="square"\n                        size="s"\n                        class="t-button"\n                        [disabled]="disabled"\n                        [focusable]="elementIsFocusable(index)"\n                        [appearance]="getElementMode(index)"\n                        (click)="onElementClick(index)"\n                        (keydown.arrowLeft.prevent)="onElementKeyDownArrowLeft(element)"\n                        (keydown.arrowRight.prevent)="onElementKeyDownArrowRight(element)"\n                    >\n                        <div\n                            polymorpheus-outlet\n                            [content]="content || index + 1"\n                            [context]="getItemContext(index)"\n                        ></div>\n                    </button>\n                </ng-container>\n            </ng-container>\n            <button\n                tuiIconButton\n                type="button"\n                tuiPreventDefault="mousedown"\n                size="s"\n                appearance="flat"\n                icon="tuiIconChevronRight"\n                class="t-button"\n                [title]="texts[1]"\n                [disabled]="arrowIsDisabledRight"\n                [focusable]="false"\n                (click)="onArrowClick(\'right\')"\n            ></button>\n        </ng-container>\n    </ng-container>\n    <ng-template #smallButtons>\n        <button\n            *tuiRepeatTimes="let indexItem of length"\n            #element\n            tuiButton\n            type="button"\n            shape="square"\n            class="t-button t-button_small"\n            [class.t-button_active]="indexItem === index"\n            [disabled]="disabled"\n            [focusable]="elementIsFocusable(indexItem)"\n            [appearance]="getSmallElementMode(indexItem, mode)"\n            (click)="onElementClick(indexItem)"\n            (keydown.arrowLeft.prevent)="onElementKeyDownArrowLeft(element)"\n            (keydown.arrowRight.prevent)="onElementKeyDownArrowRight(element)"\n        ></button>\n    </ng-template>\n    <ng-template #dotsTemplate>\n        <div\n            automation-id="tui-pagination__element"\n            class="t-dots"\n        ></div>\n    </ng-template>\n</div>\n',changeDetection:t.ChangeDetectionStrategy.OnPush,providers:[{provide:n.TUI_FOCUSABLE_ITEM_ACCESSOR,useExisting:t.forwardRef((function(){return l}))}],styles:[":host{font:var(--tui-font-text-s);color:var(--tui-text-01);display:block;text-align:center}.t-content{display:flex;justify-content:center}.t-button{margin:0 .125rem;flex-shrink:0}.t-button_active{background:currentColor}.t-button.t-button.t-button_small{width:.5rem;height:.5rem;margin:0}.t-button.t-button.t-button_small:not(:first-child){margin-left:.5rem}.t-dots{width:var(--tui-height-s);height:var(--tui-height-s);line-height:var(--tui-height-s);margin:0 .125rem;flex-shrink:0;color:var(--tui-text-03);text-align:center;cursor:default}.t-dots:before{content:'\\2026'}"]}),d(0,t.Inject(t.ElementRef)),d(1,t.Optional()),d(1,t.Inject(i.TuiModeDirective)),d(2,t.Inject(o.TUI_PAGINATION_TEXTS))],u)}(n.AbstractTuiInteractive),m=function(){function e(){}return e=c([t.NgModule({imports:[u.CommonModule,n.TuiRepeatTimesModule,n.TuiLetModule,l.PolymorpheusModule,n.TuiPreventDefaultModule,n.TuiActiveZoneModule,i.TuiButtonModule],declarations:[f],exports:[f]})],e)}();e.TuiPaginationComponent=f,e.TuiPaginationModule=m,e.nonNegativeInteger=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-pagination.umd.min.js.map