!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@taiga-ui/cdk"),require("@taiga-ui/kit/constants"),require("@taiga-ui/core")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/utils/mask",["exports","@taiga-ui/cdk","@taiga-ui/kit/constants","@taiga-ui/core"],e):e(((t=t||self)["taiga-ui"]=t["taiga-ui"]||{},t["taiga-ui"].kit=t["taiga-ui"].kit||{},t["taiga-ui"].kit.utils=t["taiga-ui"].kit.utils||{},t["taiga-ui"].kit.utils.mask={}),t.cdk,t["taiga-ui"].kit.constants,t.core)}(this,(function(t,e,r,i){"use strict";var a=function(){return(a=Object.assign||function(t){for(var e,r=1,i=arguments.length;r<i;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)};Object.create;function n(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var i,a,n=r.call(t),u=[];try{for(;(void 0===e||e-- >0)&&!(i=n.next()).done;)u.push(i.value)}catch(t){a={error:t}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return u}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(n(arguments[e]));return t}Object.create;function o(t,r){var i=r.value,a=r.min,n=r.max,u=r.dateFormat,o=r.dateSeparator;return i&&i.toString(u,o)===t?t:e.TuiDay.normalizeParse(t,u).dayLimit(a,n).toString(u,o)}var s=o;function c(t,r){return e.TuiDay.normalizeParse(t.slice(0,e.DATE_FILLER_LENGTH),r.dateFormat).dayLimit(r.min,r.max)}function l(t,r){var i=r.dateFormat,a=r.dateSeparator;switch(t.length){case e.DATE_FILLER_LENGTH:return c(t,r).toString(i,a);case e.DATE_FILLER_LENGTH+e.RANGE_SEPARATOR_CHAR.length:return c(t,r).toString(i,a)+e.RANGE_SEPARATOR_CHAR;case e.DATE_RANGE_FILLER_LENGTH:return r.value&&r.value.toString(i,a)===t?t:e.TuiDayRange.sort(c(t.slice(0,e.DATE_FILLER_LENGTH),r),c(t.slice(e.DATE_FILLER_LENGTH+e.RANGE_SEPARATOR_CHAR.length),r)).toString(i,a);default:return t}}function f(t,e){void 0===t&&(t="HH:MM"),void 0===e&&(e={});var i=["HH","MM","SS","MS"],n=a(a({},r.MAX_TIME_VALUES),e);return function(e){var r=[],a=e.split("");return i.forEach((function(e){var i=t.indexOf(e),u=parseInt(String(n[e]).slice(0,1),10);parseInt(a[i],10)>u&&(a[i+1]=a[i],a[i]="0",r.push(i))})),!i.some((function(r){return parseInt(e.slice(t.indexOf(r),2),10)>n[r]}))&&{value:a.join(""),indexesOfPipedChars:r}}}var E=new Array(2).fill(i.TUI_DIGIT_REGEXP),A=new Array(4).fill(i.TUI_DIGIT_REGEXP);function _(t,r){switch(e.tuiAssert.assert(1===r.length,"Separator should consist of only 1 symbol"),t){case"YMD":return u(A,[r],E,[r],E);case"MDY":case"DMY":default:return u(E,[r],E,[r],A)}}function d(t,e){var r=String(t).length,a=new Array(r).fill(i.TUI_DIGIT_REGEXP);return e&&a.unshift(e),a}t.normalizeDateValue=o,t.tuiCreateAutoCorrectedDatePipe=function(t){return function(r){return r.length!==e.DATE_FILLER_LENGTH?{value:r}:{value:o(r,t)}}},t.tuiCreateAutoCorrectedDateRangePipe=function(t){return function(e){return{value:l(e,t)}}},t.tuiCreateAutoCorrectedDateTimePipe=function(t){var i=f(t.timeMode);return function(a){if(a.length<e.DATE_FILLER_LENGTH)return{value:a};var u=n(a.split(r.DATE_TIME_SEPARATOR),2),s=u[0],c=u[1],l=o(s,t);if(!c)return{value:l};var f=i(c,{});return!(!f||"string"==typeof f)&&{value:""+l+r.DATE_TIME_SEPARATOR+f.value,indexesOfPipedChars:f.indexesOfPipedChars?f.indexesOfPipedChars.map((function(t){return t+s.length+2})):void 0}}},t.tuiCreateAutoCorrectedTimePipe=f,t.tuiCreateDateMask=_,t.tuiCreateDateRangeMask=function(t,r){e.tuiAssert.assert(1===r.length,"Separator should consist of only 1 symbol");var i=_(t,r);return u(i,[e.CHAR_NO_BREAK_SPACE,e.CHAR_EN_DASH,e.CHAR_NO_BREAK_SPACE],i)},t.tuiCreateTimeMask=function(t,e){void 0===e&&(e={});var i=a(a({},r.MAX_TIME_VALUES),e),n=i.HH,o=i.MM,s=i.SS,c=i.MS;return u(d(n),d(o,":"),t.includes("HH:MM:SS")?d(s,":"):[],"HH:MM:SS.MSS"===t?d(c,"."):[])},t.tuiNormalizeDateValue=s,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-utils-mask.umd.min.js.map