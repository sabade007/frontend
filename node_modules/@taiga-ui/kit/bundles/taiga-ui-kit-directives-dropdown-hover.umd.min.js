!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/directives/dropdown-hover",["exports","@angular/core","@taiga-ui/cdk","@taiga-ui/core","rxjs","rxjs/operators"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].kit=e["taiga-ui"].kit||{},e["taiga-ui"].kit.directives=e["taiga-ui"].kit.directives||{},e["taiga-ui"].kit.directives["dropdown-hover"]={}),e.ng.core,e.cdk,e.core$1,e.rxjs,e.rxjs.operators)}(this,(function(e,t,r,o,i,n){"use strict";function u(e,t,r,o){var i,n=arguments.length,u=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(i=e[c])&&(u=(n<3?i(u):n>3?i(t,r,u):i(t,r))||u);return n>3&&u&&Object.defineProperty(t,r,u),u}function c(e,t){return function(r,o){t(r,o,e)}}Object.create;Object.create;var a=function(){function e(e,t,o){var u=t.nativeElement;this.dropdown=o;var c=o.openChange.pipe(n.debounceTime(0),n.map((function(){return o.dropdown})),n.filter(r.isPresent),n.share()),a=i.merge(r.typedFromEvent(u,"mouseenter"),r.typedFromEvent(u,"click").pipe(n.tap((function(e){return e.stopImmediatePropagation()}))),c.pipe(n.switchMap((function(e){return i.merge(r.typedFromEvent(e,"focusin"),r.typedFromEvent(e,"mouseenter"))})))).pipe(n.mapTo(!0)),p=i.merge(r.typedFromEvent(u,"mouseleave"),c.pipe(n.switchMap((function(e){return r.typedFromEvent(e,"mouseleave").pipe(n.filter((function(){return!r.isNativeFocusedIn(e)})))})))).pipe(n.mapTo(!1));i.merge(a,p).pipe(n.debounce((function(e){return e?i.of(e):i.timer(300)})),n.distinctUntilChanged(),n.takeUntil(e)).subscribe((function(e){o.updateOpen(e)}))}return e.prototype.onMouseEnter=function(){var e=this.dropdown.host;if(!r.isNativeFocusedIn(e)){var t=r.getClosestFocusable(e,!1,e,!1);t&&r.setNativeMouseFocused(t)}},e.ctorParameters=function(){return[{type:i.Observable,decorators:[{type:t.Inject,args:[r.TuiDestroyService]}]},{type:t.ElementRef,decorators:[{type:t.Inject,args:[t.ElementRef]}]},{type:o.TuiHostedDropdownComponent,decorators:[{type:t.Inject,args:[o.TuiHostedDropdownComponent]}]}]},u([t.HostListener("mouseenter")],e.prototype,"onMouseEnter",null),e=u([t.Directive({selector:"tui-hosted-dropdown[tuiDropdownHover]",providers:[r.TuiDestroyService]}),c(0,t.Inject(r.TuiDestroyService)),c(1,t.Inject(t.ElementRef)),c(2,t.Inject(o.TuiHostedDropdownComponent))],e)}(),p=function(){function e(){}return e=u([t.NgModule({declarations:[a],exports:[a]})],e)}();e.TuiDropdownHoverDirective=a,e.TuiDropdownHoverModule=p,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-directives-dropdown-hover.umd.min.js.map