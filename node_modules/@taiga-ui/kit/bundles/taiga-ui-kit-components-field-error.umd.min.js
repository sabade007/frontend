!function(r,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/forms"),require("@taiga-ui/cdk"),require("@taiga-ui/kit/tokens"),require("rxjs"),require("rxjs/operators"),require("@angular/common"),require("@taiga-ui/core")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/field-error",["exports","@angular/core","@angular/forms","@taiga-ui/cdk","@taiga-ui/kit/tokens","rxjs","rxjs/operators","@angular/common","@taiga-ui/core"],e):e(((r=r||self)["taiga-ui"]=r["taiga-ui"]||{},r["taiga-ui"].kit=r["taiga-ui"].kit||{},r["taiga-ui"].kit.components=r["taiga-ui"].kit.components||{},r["taiga-ui"].kit.components["field-error"]={}),r.ng.core,r.ng.forms,r.cdk,r["taiga-ui"].kit.tokens,r.rxjs,r.rxjs.operators,r.ng.common,r.core$1)}(this,(function(r,e,t,o,n,i,a,u,c){"use strict";function l(r,e,t,o){var n,i=arguments.length,a=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(r,e,t,o);else for(var u=r.length-1;u>=0;u--)(n=r[u])&&(a=(i<3?n(a):i>3?n(e,t,a):n(e,t))||a);return i>3&&a&&Object.defineProperty(e,t,a),a}function p(r,e){return function(t,o){e(t,o,r)}}Object.create;Object.create;var s={},f=function(){function r(r,e,t,o,n){this.ngControl=r,this.formArrayName=e,this.formGroupName=t,this.formGroup=o,this.validationErrors=n,this.order=[],this.ngControl&&(this.ngControl.valueAccessor=this)}return Object.defineProperty(r.prototype,"change$",{get:function(){var r,e;return i.merge((null===(r=this.control)||void 0===r?void 0:r.valueChanges)||i.EMPTY,(null===(e=this.control)||void 0===e?void 0:e.statusChanges)||i.EMPTY)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"computedError",{get:function(){return this.invalid&&this.touched&&this.error||i.of(null)},enumerable:!0,configurable:!0}),r.prototype.registerOnChange=function(){},r.prototype.registerOnTouched=function(){},r.prototype.setDisabledState=function(){},r.prototype.writeValue=function(){},Object.defineProperty(r.prototype,"error",{get:function(){var r=this.errorId;if(!r)return i.of(null);var e=this.controlErrors[r],t=this.validationErrors[r];return this.getError(e,t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"invalid",{get:function(){return!!this.control&&this.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"touched",{get:function(){return!!this.control&&this.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"control",{get:function(){return this.ngControl?this.ngControl.control:this.formArrayName?this.formArrayName.control:this.formGroupName?this.formGroupName.control:this.formGroup?this.formGroup.control:null},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"errorId",{get:function(){return this.getErrorId(this.order,this.controlErrors)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"controlErrors",{get:function(){var r;return(null===(r=this.control)||void 0===r?void 0:r.errors)||s},enumerable:!0,configurable:!0}),r.prototype.getErrorId=function(r,e){var t=null==r?void 0:r.find((function(r){return e[r]})),o=Object.keys(e)[0];return t||o||""},r.prototype.getError=function(r,e){return r instanceof o.TuiValidationError?i.of(r):void 0===e&&"string"==typeof r?i.of(new o.TuiValidationError(r)):i.isObservable(e)?e.pipe(a.map((function(e){return new o.TuiValidationError(e||"",r)}))):i.of(new o.TuiValidationError(e||"",r))},r.ctorParameters=function(){return[{type:t.NgControl,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[t.NgControl]}]},{type:t.FormArrayName,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[t.FormArrayName]}]},{type:t.FormGroupName,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[t.FormGroupName]}]},{type:t.FormGroupDirective,decorators:[{type:e.Optional},{type:e.Self},{type:e.Inject,args:[t.FormGroupDirective]}]},{type:void 0,decorators:[{type:e.Inject,args:[n.TUI_VALIDATION_ERRORS]}]}]},l([e.Input(),o.tuiDefaultProp()],r.prototype,"order",void 0),l([o.tuiPure],r.prototype,"change$",null),l([o.tuiPure],r.prototype,"getErrorId",null),l([o.tuiPure],r.prototype,"getError",null),r=l([e.Component({selector:"tui-field-error",changeDetection:e.ChangeDetectionStrategy.Default,template:'<ng-container *ngIf="change$ | async"></ng-container>\n\n<tui-error [error]="computedError | async"></tui-error>\n',styles:[":host{display:block}"]}),p(0,e.Optional()),p(0,e.Self()),p(0,e.Inject(t.NgControl)),p(1,e.Optional()),p(1,e.Self()),p(1,e.Inject(t.FormArrayName)),p(2,e.Optional()),p(2,e.Self()),p(2,e.Inject(t.FormGroupName)),p(3,e.Optional()),p(3,e.Self()),p(3,e.Inject(t.FormGroupDirective)),p(4,e.Inject(n.TUI_VALIDATION_ERRORS))],r)}(),g=function(){function r(){}return r=l([e.NgModule({imports:[u.CommonModule,c.TuiErrorModule,t.ReactiveFormsModule],declarations:[f],exports:[f]})],r)}();r.TuiFieldErrorComponent=f,r.TuiFieldErrorModule=g,Object.defineProperty(r,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-field-error.umd.min.js.map