!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/common"),require("@angular/core"),require("@angular/forms"),require("@taiga-ui/cdk"),require("@taiga-ui/core"),require("@taiga-ui/kit/tokens"),require("rxjs"),require("rxjs/operators"),require("@taiga-ui/kit/providers"),require("@tinkoff/ng-polymorpheus")):"function"==typeof define&&define.amd?define("@taiga-ui/kit/components/input-copy",["exports","@angular/common","@angular/core","@angular/forms","@taiga-ui/cdk","@taiga-ui/core","@taiga-ui/kit/tokens","rxjs","rxjs/operators","@taiga-ui/kit/providers","@tinkoff/ng-polymorpheus"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].kit=e["taiga-ui"].kit||{},e["taiga-ui"].kit.components=e["taiga-ui"].kit.components||{},e["taiga-ui"].kit.components["input-copy"]={}),e.ng.common,e.ng.core,e.ng.forms,e.cdk,e.core$1,e["taiga-ui"].kit.tokens,e.rxjs,e.rxjs.operators,e["taiga-ui"].kit.providers,e.ngPolymorpheus)}(this,(function(e,t,n,o,i,r,u,a,s,c,p){"use strict";var l=function(e,t){return(l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function f(e,t,n,o){var i,r=arguments.length,u=r<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(u=(r<3?i(u):r>3?i(t,n,u):i(t,n))||u);return r>3&&u&&Object.defineProperty(t,n,u),u}function g(e,t){return function(n,o){t(n,o,e)}}Object.create;Object.create;var y=[c.TUI_VALUE_ACCESSOR_PROVIDER,{provide:i.TUI_FOCUSABLE_ITEM_ACCESSOR,useExisting:n.forwardRef((function(){return v}))},{provide:i.AbstractTuiControl,useExisting:n.forwardRef((function(){return v}))}],v=function(e){function c(t,n,o,i,r){var u=e.call(this,t,n)||this;return u.documentRef=o,u.textfieldSize=i,u.copyTexts$=r,u.copy$=new a.Subject,u.successMessage="",u.messageDirection="bottom-left",u.messageMode=null,u}return d(c,e),Object.defineProperty(c.prototype,"hasValue",{get:function(){return!!this.value},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"hintText$",{get:function(){var e=this;return this.copyTexts$.pipe(s.switchMap((function(t){return e.copy$.pipe(s.switchMap((function(){return a.merge(a.of(e.successMessage||t[1]),a.timer(3e3).pipe(s.mapTo(t[0])))})),s.startWith(t[0]))})))},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"nativeFocusableElement",{get:function(){return this.computedDisabled||!this.textfield?null:this.textfield.nativeFocusableElement},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"focused",{get:function(){return!!this.textfield&&this.textfield.focused},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"icon",{get:function(){return"s"===this.textfieldSize.size?"tuiIconCopy":"tuiIconCopyLarge"},enumerable:!0,configurable:!0}),c.prototype.onValueChange=function(e){this.updateValue(e)},c.prototype.onFocused=function(e){this.updateFocused(e)},c.prototype.onHovered=function(e){this.updateHovered(e)},c.prototype.onPressed=function(e){this.updatePressed(e)},c.prototype.copy=function(){var e;(null===(e=this.textfield)||void 0===e?void 0:e.nativeFocusableElement)&&(this.textfield.nativeFocusableElement.select(),this.documentRef.execCommand("copy"),this.copy$.next())},c.prototype.getFallbackValue=function(){return""},c.ctorParameters=function(){return[{type:o.NgControl,decorators:[{type:n.Optional},{type:n.Self},{type:n.Inject,args:[o.NgControl]}]},{type:n.ChangeDetectorRef,decorators:[{type:n.Inject,args:[n.ChangeDetectorRef]}]},{type:Document,decorators:[{type:n.Inject,args:[t.DOCUMENT]}]},{type:r.TuiTextfieldSizeDirective,decorators:[{type:n.Inject,args:[r.TUI_TEXTFIELD_SIZE]}]},{type:a.Observable,decorators:[{type:n.Inject,args:[u.TUI_COPY_TEXTS]}]}]},f([n.ViewChild(r.TuiPrimitiveTextfieldComponent)],c.prototype,"textfield",void 0),f([n.Input(),i.tuiDefaultProp()],c.prototype,"successMessage",void 0),f([n.Input(),i.tuiDefaultProp()],c.prototype,"messageDirection",void 0),f([n.Input(),i.tuiDefaultProp()],c.prototype,"messageMode",void 0),f([n.HostBinding("class._has-value")],c.prototype,"hasValue",null),f([i.tuiPure],c.prototype,"hintText$",null),c=f([n.Component({selector:"tui-input-copy",template:'<tui-primitive-textfield\n    class="t-textfield"\n    [pseudoFocused]="pseudoFocused"\n    [pseudoHovered]="pseudoHovered"\n    [pseudoPressed]="pseudoPressed"\n    [invalid]="computedInvalid"\n    [focusable]="focusable"\n    [nativeId]="nativeId"\n    [disabled]="computedDisabled"\n    [readOnly]="readOnly"\n    [iconContent]="!disabled ? iconContent : null"\n    [value]="value"\n    (valueChange)="onValueChange($event)"\n    (focusedChange)="onFocused($event)"\n    (hoveredChange)="onHovered($event)"\n    (pressedChange)="onPressed($event)"\n>\n    <ng-content></ng-content>\n    <ng-content\n        select="input"\n        ngProjectAs="input"\n    ></ng-content>\n</tui-primitive-textfield>\n\n<ng-template #iconContent>\n    <tui-svg\n        automation-id="tui-copy__icon"\n        tuiHintId="not_required"\n        class="t-icon"\n        [tuiHint]="hint"\n        [tuiHintDirection]="messageDirection"\n        [tuiHintMode]="messageMode"\n        [src]="icon"\n        (click)="copy()"\n    ></tui-svg>\n</ng-template>\n\n<ng-template #hint>\n    <div\n        polymorpheus-outlet\n        [content]="hintText$ | async"\n    ></div>\n</ng-template>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,providers:y,styles:[":host{display:block;border-radius:var(--tui-radius-m);text-align:left}.t-icon{position:relative;cursor:pointer;pointer-events:auto;color:var(--tui-base-06)}:host:not(._has-value) .t-icon{pointer-events:none;opacity:var(--tui-disabled-opacity)}.t-textfield{border-radius:inherit;text-align:inherit}"]}),g(0,n.Optional()),g(0,n.Self()),g(0,n.Inject(o.NgControl)),g(1,n.Inject(n.ChangeDetectorRef)),g(2,n.Inject(t.DOCUMENT)),g(3,n.Inject(r.TUI_TEXTFIELD_SIZE)),g(4,n.Inject(u.TUI_COPY_TEXTS))],c)}(i.AbstractTuiControl),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var o;return d(t,e),o=t,t.prototype.onValueChange=function(e){this.host.onValueChange(e)},t=o=f([n.Directive({selector:"tui-input-copy",providers:[{provide:r.TUI_TEXTFIELD_HOST,useExisting:n.forwardRef((function(){return o}))}]})],t)}(r.TuiAbstractTextfieldHost),m=function(){function e(){}return e=f([n.NgModule({imports:[t.CommonModule,p.PolymorpheusModule,r.TuiSvgModule,r.TuiHintModule,r.TuiPrimitiveTextfieldModule,r.TuiAlertModule],declarations:[v,h],exports:[v,h,r.TuiTextfieldComponent]})],e)}();e.TUI_INPUT_COPY_PROVIDERS=y,e.TuiInputCopyComponent=v,e.TuiInputCopyDirective=h,e.TuiInputCopyModule=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-kit-components-input-copy.umd.min.js.map