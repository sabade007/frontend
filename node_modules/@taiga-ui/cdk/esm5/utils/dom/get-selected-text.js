import { tuiIsFormFieldElement } from './is-form-field';
/**
 * @description:
 * cross browser way to get selected text
 *
 * History:
 * BUG - window.getSelection() fails when text selected in a form field
 * https://bugzilla.mozilla.org/show_bug.cgi?id=85686
 */
export function tuiGetSelectedText(_a) {
    var getSelection = _a.getSelection, document = _a.document;
    var _b;
    return tuiIsFormFieldElement(document.activeElement)
        ? document.activeElement.value.slice(document.activeElement.selectionStart || 0, document.activeElement.selectionEnd || 0)
        : ((_b = getSelection()) === null || _b === void 0 ? void 0 : _b.toString()) || null;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LXNlbGVjdGVkLXRleHQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkvY2RrL3V0aWxzL2RvbS8iLCJzb3VyY2VzIjpbImdldC1zZWxlY3RlZC10ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxxQkFBcUIsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBRXREOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLFVBQVUsa0JBQWtCLENBQUMsRUFBZ0M7UUFBL0IsOEJBQVksRUFBRSxzQkFBUTs7SUFDdEQsT0FBTyxxQkFBcUIsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDO1FBQ2hELENBQUMsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQzlCLFFBQVEsQ0FBQyxhQUFhLENBQUMsY0FBYyxJQUFJLENBQUMsRUFDMUMsUUFBUSxDQUFDLGFBQWEsQ0FBQyxZQUFZLElBQUksQ0FBQyxDQUMzQztRQUNILENBQUMsQ0FBQyxPQUFBLFlBQVksRUFBRSwwQ0FBRSxRQUFRLE9BQU0sSUFBSSxDQUFDO0FBQzdDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge3R1aUlzRm9ybUZpZWxkRWxlbWVudH0gZnJvbSAnLi9pcy1mb3JtLWZpZWxkJztcblxuLyoqXG4gKiBAZGVzY3JpcHRpb246XG4gKiBjcm9zcyBicm93c2VyIHdheSB0byBnZXQgc2VsZWN0ZWQgdGV4dFxuICpcbiAqIEhpc3Rvcnk6XG4gKiBCVUcgLSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkgZmFpbHMgd2hlbiB0ZXh0IHNlbGVjdGVkIGluIGEgZm9ybSBmaWVsZFxuICogaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9ODU2ODZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHR1aUdldFNlbGVjdGVkVGV4dCh7Z2V0U2VsZWN0aW9uLCBkb2N1bWVudH06IFdpbmRvdyk6IHN0cmluZyB8IG51bGwge1xuICAgIHJldHVybiB0dWlJc0Zvcm1GaWVsZEVsZW1lbnQoZG9jdW1lbnQuYWN0aXZlRWxlbWVudClcbiAgICAgICAgPyBkb2N1bWVudC5hY3RpdmVFbGVtZW50LnZhbHVlLnNsaWNlKFxuICAgICAgICAgICAgICBkb2N1bWVudC5hY3RpdmVFbGVtZW50LnNlbGVjdGlvblN0YXJ0IHx8IDAsXG4gICAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuc2VsZWN0aW9uRW5kIHx8IDAsXG4gICAgICAgICAgKVxuICAgICAgICA6IGdldFNlbGVjdGlvbigpPy50b1N0cmluZygpIHx8IG51bGw7XG59XG4iXX0=