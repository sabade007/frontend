import { pipe, timer } from 'rxjs';
import { distinctUntilChanged, mapTo, startWith, switchMapTo } from 'rxjs/operators';
/**
 * Operator to set lifespan after which current value is considered obsolete
 */
export function tuiIsAlive(lifespan) {
    if (lifespan === void 0) { lifespan = 0; }
    return pipe(switchMapTo(timer(lifespan).pipe(mapTo(false), startWith(true))), distinctUntilChanged());
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXMtYWxpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkvY2RrL29ic2VydmFibGVzLyIsInNvdXJjZXMiOlsiaXMtYWxpdmUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFtQixJQUFJLEVBQUUsS0FBSyxFQUFDLE1BQU0sTUFBTSxDQUFDO0FBQ25ELE9BQU8sRUFBQyxvQkFBb0IsRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLFdBQVcsRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRW5GOztHQUVHO0FBQ0gsTUFBTSxVQUFVLFVBQVUsQ0FBQyxRQUFvQjtJQUFwQix5QkFBQSxFQUFBLFlBQW9CO0lBQzNDLE9BQU8sSUFBSSxDQUNQLFdBQVcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUNoRSxvQkFBb0IsRUFBRSxDQUN6QixDQUFDO0FBQ04sQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7T3BlcmF0b3JGdW5jdGlvbiwgcGlwZSwgdGltZXJ9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHtkaXN0aW5jdFVudGlsQ2hhbmdlZCwgbWFwVG8sIHN0YXJ0V2l0aCwgc3dpdGNoTWFwVG99IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuLyoqXG4gKiBPcGVyYXRvciB0byBzZXQgbGlmZXNwYW4gYWZ0ZXIgd2hpY2ggY3VycmVudCB2YWx1ZSBpcyBjb25zaWRlcmVkIG9ic29sZXRlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0dWlJc0FsaXZlKGxpZmVzcGFuOiBudW1iZXIgPSAwKTogT3BlcmF0b3JGdW5jdGlvbjx1bmtub3duLCBib29sZWFuPiB7XG4gICAgcmV0dXJuIHBpcGUoXG4gICAgICAgIHN3aXRjaE1hcFRvKHRpbWVyKGxpZmVzcGFuKS5waXBlKG1hcFRvKGZhbHNlKSwgc3RhcnRXaXRoKHRydWUpKSksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgKTtcbn1cbiJdfQ==