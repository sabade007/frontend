import { Observable, pipe } from 'rxjs';
export function tuiZonefull(ngZone) {
    return function (source) {
        return new Observable(function (subscriber) {
            return source.subscribe({
                next: function (value) { return ngZone.run(function () { return subscriber.next(value); }); },
                error: function (error) { return ngZone.run(function () { return subscriber.error(error); }); },
                complete: function () { return ngZone.run(function () { return subscriber.complete(); }); },
            });
        });
    };
}
export function tuiZonefree(ngZone) {
    return function (source) {
        return new Observable(function (subscriber) {
            return ngZone.runOutsideAngular(function () { return source.subscribe(subscriber); });
        });
    };
}
export function tuiZoneOptimized(ngZone) {
    return pipe(tuiZonefree(ngZone), tuiZonefull(ngZone));
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiem9uZS1mcmVlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRhaWdhLXVpL2Nkay9vYnNlcnZhYmxlcy8iLCJzb3VyY2VzIjpbInpvbmUtZnJlZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQTJCLFVBQVUsRUFBRSxJQUFJLEVBQUMsTUFBTSxNQUFNLENBQUM7QUFFaEUsTUFBTSxVQUFVLFdBQVcsQ0FBSSxNQUFjO0lBQ3pDLE9BQU8sVUFBQSxNQUFNO1FBQ1QsT0FBQSxJQUFJLFVBQVUsQ0FBQyxVQUFBLFVBQVU7WUFDckIsT0FBQSxNQUFNLENBQUMsU0FBUyxDQUFDO2dCQUNiLElBQUksRUFBRSxVQUFBLEtBQUssSUFBSSxPQUFBLE1BQU0sQ0FBQyxHQUFHLENBQUMsY0FBTSxPQUFBLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEVBQXRCLENBQXNCLENBQUMsRUFBeEMsQ0FBd0M7Z0JBQ3ZELEtBQUssRUFBRSxVQUFDLEtBQWMsSUFBSyxPQUFBLE1BQU0sQ0FBQyxHQUFHLENBQUMsY0FBTSxPQUFBLFVBQVUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQXZCLENBQXVCLENBQUMsRUFBekMsQ0FBeUM7Z0JBQ3BFLFFBQVEsRUFBRSxjQUFNLE9BQUEsTUFBTSxDQUFDLEdBQUcsQ0FBQyxjQUFNLE9BQUEsVUFBVSxDQUFDLFFBQVEsRUFBRSxFQUFyQixDQUFxQixDQUFDLEVBQXZDLENBQXVDO2FBQzFELENBQUM7UUFKRixDQUlFLENBQ0w7SUFORCxDQU1DLENBQUM7QUFDVixDQUFDO0FBRUQsTUFBTSxVQUFVLFdBQVcsQ0FBSSxNQUFjO0lBQ3pDLE9BQU8sVUFBQSxNQUFNO1FBQ1QsT0FBQSxJQUFJLFVBQVUsQ0FBQyxVQUFBLFVBQVU7WUFDckIsT0FBQSxNQUFNLENBQUMsaUJBQWlCLENBQUMsY0FBTSxPQUFBLE1BQU0sQ0FBQyxTQUFTLENBQUMsVUFBVSxDQUFDLEVBQTVCLENBQTRCLENBQUM7UUFBNUQsQ0FBNEQsQ0FDL0Q7SUFGRCxDQUVDLENBQUM7QUFDVixDQUFDO0FBRUQsTUFBTSxVQUFVLGdCQUFnQixDQUFJLE1BQWM7SUFDOUMsT0FBTyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxFQUFFLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQzFELENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge05nWm9uZX0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge01vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbiwgT2JzZXJ2YWJsZSwgcGlwZX0gZnJvbSAncnhqcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiB0dWlab25lZnVsbDxUPihuZ1pvbmU6IE5nWm9uZSk6IE1vbm9UeXBlT3BlcmF0b3JGdW5jdGlvbjxUPiB7XG4gICAgcmV0dXJuIHNvdXJjZSA9PlxuICAgICAgICBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVyID0+XG4gICAgICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKHtcbiAgICAgICAgICAgICAgICBuZXh0OiB2YWx1ZSA9PiBuZ1pvbmUucnVuKCgpID0+IHN1YnNjcmliZXIubmV4dCh2YWx1ZSkpLFxuICAgICAgICAgICAgICAgIGVycm9yOiAoZXJyb3I6IHVua25vd24pID0+IG5nWm9uZS5ydW4oKCkgPT4gc3Vic2NyaWJlci5lcnJvcihlcnJvcikpLFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiAoKSA9PiBuZ1pvbmUucnVuKCgpID0+IHN1YnNjcmliZXIuY29tcGxldGUoKSksXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1aVpvbmVmcmVlPFQ+KG5nWm9uZTogTmdab25lKTogTW9ub1R5cGVPcGVyYXRvckZ1bmN0aW9uPFQ+IHtcbiAgICByZXR1cm4gc291cmNlID0+XG4gICAgICAgIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZXIgPT5cbiAgICAgICAgICAgIG5nWm9uZS5ydW5PdXRzaWRlQW5ndWxhcigoKSA9PiBzb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpKSxcbiAgICAgICAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHR1aVpvbmVPcHRpbWl6ZWQ8VD4obmdab25lOiBOZ1pvbmUpOiBNb25vVHlwZU9wZXJhdG9yRnVuY3Rpb248VD4ge1xuICAgIHJldHVybiBwaXBlKHR1aVpvbmVmcmVlKG5nWm9uZSksIHR1aVpvbmVmdWxsKG5nWm9uZSkpO1xufVxuIl19