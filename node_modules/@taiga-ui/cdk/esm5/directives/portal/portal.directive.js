import { __decorate, __param } from "tslib";
import { Directive, EmbeddedViewRef, Inject, Input, OnDestroy, TemplateRef, } from '@angular/core';
import { TuiPortalService } from '@taiga-ui/cdk/components/portal-host';
var TuiPortalDirective = /** @class */ (function () {
    function TuiPortalDirective(templateRef, portalService) {
        this.templateRef = templateRef;
        this.portalService = portalService;
    }
    Object.defineProperty(TuiPortalDirective.prototype, "tuiPortal", {
        set: function (show) {
            var _a;
            (_a = this.viewRef) === null || _a === void 0 ? void 0 : _a.destroy();
            if (show) {
                this.viewRef = this.portalService.addTemplate(this.templateRef);
            }
        },
        enumerable: true,
        configurable: true
    });
    TuiPortalDirective.prototype.ngOnDestroy = function () {
        var _a;
        (_a = this.viewRef) === null || _a === void 0 ? void 0 : _a.destroy();
    };
    TuiPortalDirective.ctorParameters = function () { return [
        { type: TemplateRef, decorators: [{ type: Inject, args: [TemplateRef,] }] },
        { type: TuiPortalService, decorators: [{ type: Inject, args: [TuiPortalService,] }] }
    ]; };
    __decorate([
        Input()
    ], TuiPortalDirective.prototype, "tuiPortal", null);
    TuiPortalDirective = __decorate([
        Directive({
            selector: '[tuiPortal]',
        }),
        __param(0, Inject(TemplateRef)),
        __param(1, Inject(TuiPortalService))
    ], TuiPortalDirective);
    return TuiPortalDirective;
}());
export { TuiPortalDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9ydGFsLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0YWlnYS11aS9jZGsvZGlyZWN0aXZlcy9wb3J0YWwvIiwic291cmNlcyI6WyJwb3J0YWwuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUNULGVBQWUsRUFDZixNQUFNLEVBQ04sS0FBSyxFQUNMLFNBQVMsRUFDVCxXQUFXLEdBQ2QsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sc0NBQXNDLENBQUM7QUFLdEU7SUFZSSw0QkFFcUIsV0FBaUQsRUFDdkIsYUFBK0I7UUFEekQsZ0JBQVcsR0FBWCxXQUFXLENBQXNDO1FBQ3ZCLGtCQUFhLEdBQWIsYUFBYSxDQUFrQjtJQUMzRSxDQUFDO0lBWkosc0JBQUkseUNBQVM7YUFBYixVQUFjLElBQWE7O1lBQ3ZCLE1BQUEsSUFBSSxDQUFDLE9BQU8sMENBQUUsT0FBTyxHQUFHO1lBRXhCLElBQUksSUFBSSxFQUFFO2dCQUNOLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO2FBQ25FO1FBQ0wsQ0FBQzs7O09BQUE7SUFRRCx3Q0FBVyxHQUFYOztRQUNJLE1BQUEsSUFBSSxDQUFDLE9BQU8sMENBQUUsT0FBTyxHQUFHO0lBQzVCLENBQUM7O2dCQU5pQyxXQUFXLHVCQUR4QyxNQUFNLFNBQUMsV0FBVztnQkFFdUMsZ0JBQWdCLHVCQUF6RSxNQUFNLFNBQUMsZ0JBQWdCOztJQVg1QjtRQURDLEtBQUssRUFBRTt1REFPUDtJQVZRLGtCQUFrQjtRQUg5QixTQUFTLENBQUM7WUFDUCxRQUFRLEVBQUUsYUFBYTtTQUMxQixDQUFDO1FBY08sV0FBQSxNQUFNLENBQUMsV0FBVyxDQUFDLENBQUE7UUFFbkIsV0FBQSxNQUFNLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtPQWZwQixrQkFBa0IsQ0FxQjlCO0lBQUQseUJBQUM7Q0FBQSxBQXJCRCxJQXFCQztTQXJCWSxrQkFBa0IiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICAgIERpcmVjdGl2ZSxcbiAgICBFbWJlZGRlZFZpZXdSZWYsXG4gICAgSW5qZWN0LFxuICAgIElucHV0LFxuICAgIE9uRGVzdHJveSxcbiAgICBUZW1wbGF0ZVJlZixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1R1aVBvcnRhbFNlcnZpY2V9IGZyb20gJ0B0YWlnYS11aS9jZGsvY29tcG9uZW50cy9wb3J0YWwtaG9zdCc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW3R1aVBvcnRhbF0nLFxufSlcbmV4cG9ydCBjbGFzcyBUdWlQb3J0YWxEaXJlY3RpdmUgaW1wbGVtZW50cyBPbkRlc3Ryb3kge1xuICAgIHByaXZhdGUgdmlld1JlZj86IEVtYmVkZGVkVmlld1JlZjx1bmtub3duPjtcblxuICAgIEBJbnB1dCgpXG4gICAgc2V0IHR1aVBvcnRhbChzaG93OiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMudmlld1JlZj8uZGVzdHJveSgpO1xuXG4gICAgICAgIGlmIChzaG93KSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdSZWYgPSB0aGlzLnBvcnRhbFNlcnZpY2UuYWRkVGVtcGxhdGUodGhpcy50ZW1wbGF0ZVJlZik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgQEluamVjdChUZW1wbGF0ZVJlZilcbiAgICAgICAgcHJpdmF0ZSByZWFkb25seSB0ZW1wbGF0ZVJlZjogVGVtcGxhdGVSZWY8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+LFxuICAgICAgICBASW5qZWN0KFR1aVBvcnRhbFNlcnZpY2UpIHByaXZhdGUgcmVhZG9ubHkgcG9ydGFsU2VydmljZTogVHVpUG9ydGFsU2VydmljZSxcbiAgICApIHt9XG5cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52aWV3UmVmPy5kZXN0cm95KCk7XG4gICAgfVxufVxuIl19