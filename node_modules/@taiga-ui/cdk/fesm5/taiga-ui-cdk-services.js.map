{"version":3,"file":"taiga-ui-cdk-services.js","sources":["ng://@taiga-ui/cdk/services/destroy.service.ts","ng://@taiga-ui/cdk/services/directive-styles.service.ts","ng://@taiga-ui/cdk/services/focus-visible.service.ts","ng://@taiga-ui/cdk/services/hovered.service.ts","ng://@taiga-ui/cdk/services/id.service.ts","ng://@taiga-ui/cdk/services/parents-scroll.service.ts","ng://@taiga-ui/cdk/services/obscured.service.ts","ng://@taiga-ui/cdk/services/pan.service.ts","ng://@taiga-ui/cdk/services/resize.service.ts","ng://@taiga-ui/cdk/services/scroll.service.ts","ng://@taiga-ui/cdk/services/static-request.service.ts","ng://@taiga-ui/cdk/services/swipe.service.ts","ng://@taiga-ui/cdk/services/zoom.service.ts","ng://@taiga-ui/cdk/services/taiga-ui-cdk-services.ts"],"sourcesContent":["import {Injectable, OnDestroy} from '@angular/core';\nimport {ReplaySubject} from 'rxjs';\n\n/**\n * Observable abstraction over ngOnDestroy to use with takeUntil\n */\n@Injectable()\nexport class TuiDestroyService extends ReplaySubject<void> implements OnDestroy {\n    constructor() {\n        super(1);\n    }\n\n    ngOnDestroy(): void {\n        this.next();\n        this.complete();\n    }\n}\n","import {DOCUMENT} from '@angular/common';\nimport {\n    ComponentFactoryResolver,\n    Inject,\n    Injectable,\n    INJECTOR,\n    Injector,\n    Renderer2,\n    Type,\n} from '@angular/core';\nimport {TUI_DEFAULT_RENDERER} from '@taiga-ui/cdk/tokens';\n\n/**\n * Service to use styles with directives\n * @dynamic\n */\n@Injectable({\n    providedIn: `root`,\n})\nexport class TuiDirectiveStylesService {\n    private readonly map = new Map<Type<unknown>, unknown>();\n\n    constructor(\n        @Inject(ComponentFactoryResolver)\n        private readonly resolver: ComponentFactoryResolver,\n        @Inject(INJECTOR) private readonly injector: Injector,\n        @Inject(DOCUMENT) private readonly documentRef: Document,\n        @Inject(TUI_DEFAULT_RENDERER) private readonly renderer: Renderer2,\n    ) {}\n\n    addComponent(component: Type<unknown>): void {\n        if (!this.map.has(component)) {\n            this.map.set(\n                component,\n                this.resolver.resolveComponentFactory(component).create(this.injector),\n            );\n        }\n    }\n\n    /** @deprecated use components approach\n     * TODO: delete in v3.0\n     */\n    addStyle(styles: string, attribute: string): void {\n        if (this.documentRef.head.querySelector(`style[${attribute}]`)) {\n            return;\n        }\n\n        const style = this.renderer.createElement(`style`);\n\n        this.renderer.setProperty(style, `textContent`, styles);\n        this.renderer.setAttribute(style, attribute, ``);\n        this.documentRef.head.appendChild(style);\n    }\n}\n","import {ChangeDetectorRef, ElementRef, Inject, Injectable} from '@angular/core';\nimport {focusVisibleObservable, watch} from '@taiga-ui/cdk/observables';\nimport {Observable} from 'rxjs';\nimport {takeUntil} from 'rxjs/operators';\n\nimport {TuiDestroyService} from './destroy.service';\n\n/**\n * Service to imitate :focus-visible\n * (https://developer.mozilla.org/en-US/docs/Web/CSS/:focus-visible)\n * in browsers that do not support it\n * @dynamic\n */\n@Injectable()\nexport class TuiFocusVisibleService extends Observable<boolean> {\n    private readonly focusVisible$: Observable<boolean>;\n\n    constructor(\n        @Inject(ElementRef) {nativeElement}: ElementRef<Element>,\n        @Inject(ChangeDetectorRef) changeDetectorRef: ChangeDetectorRef,\n        @Inject(TuiDestroyService) destroy$: Observable<void>,\n    ) {\n        super(subscriber => this.focusVisible$.subscribe(subscriber));\n\n        this.focusVisible$ = focusVisibleObservable(nativeElement).pipe(\n            watch(changeDetectorRef),\n            takeUntil(destroy$),\n        );\n    }\n}\n","import {DOCUMENT} from '@angular/common';\nimport {Inject, Injectable, NgZone} from '@angular/core';\nimport {tuiZoneOptimized, typedFromEvent} from '@taiga-ui/cdk/observables';\nimport {getActualTarget} from '@taiga-ui/cdk/utils/dom';\nimport {merge, Observable} from 'rxjs';\nimport {\n    distinctUntilChanged,\n    filter,\n    mapTo,\n    startWith,\n    switchMap,\n    take,\n} from 'rxjs/operators';\n\n/** @deprecated TODO remove in v3.0 */\n// @dynamic\n@Injectable({\n    providedIn: `root`,\n})\nexport class TuiHoveredService {\n    private readonly documentEvents$: Observable<Event>;\n\n    constructor(\n        @Inject(DOCUMENT) documentRef: Document,\n        @Inject(NgZone) private readonly ngZone: NgZone,\n    ) {\n        this.documentEvents$ = merge(\n            typedFromEvent(documentRef, `mousemove`),\n            typedFromEvent(documentRef, `touchstart`, {capture: true}),\n        );\n    }\n\n    createHovered$(\n        target: Element,\n        options: AddEventListenerOptions = {passive: true},\n    ): Observable<boolean> {\n        return merge(\n            typedFromEvent(target, `mouseenter`, options),\n            typedFromEvent(target, `touchstart`, options),\n        ).pipe(\n            switchMap(() =>\n                merge(\n                    typedFromEvent(target, `mouseleave`, options),\n                    this.documentEvents$.pipe(\n                        filter(event => !target.contains(getActualTarget(event))),\n                        tuiZoneOptimized(this.ngZone),\n                        take(1),\n                    ),\n                ).pipe(mapTo(false), startWith(true)),\n            ),\n            distinctUntilChanged(),\n        );\n    }\n}\n","import {Injectable} from '@angular/core';\n\nconst TUI = `tui_`;\n\n/**\n * Generates unique ids\n */\n@Injectable({\n    providedIn: `root`,\n})\nexport class TuiIdService {\n    private static autoId = 0;\n\n    generate(): string {\n        return `${TUI}${TuiIdService.autoId++}${Date.now()}`;\n    }\n}\n","import {ElementRef, Inject, Injectable} from '@angular/core';\nimport {WINDOW} from '@ng-web-apis/common';\nimport {typedFromEvent} from '@taiga-ui/cdk/observables';\nimport {defer, merge, Observable} from 'rxjs';\n\n/**\n * Service that subscribes to scroll events of all parent elements\n */\n// Ambient type cannot be used without dynamic https://github.com/angular/angular/issues/23395\n// @dynamic\n@Injectable()\nexport class TuiParentsScrollService extends Observable<Event> {\n    private readonly callback$: Observable<Event>;\n\n    constructor(\n        @Inject(ElementRef) elementRef: ElementRef<Element>,\n        @Inject(WINDOW) windowRef: Window,\n    ) {\n        super(subscriber => this.callback$.subscribe(subscriber));\n\n        this.callback$ = defer(() => {\n            let {nativeElement} = elementRef;\n            const eventTargets: Array<Element | Window> = [windowRef, nativeElement];\n\n            while (nativeElement.parentElement) {\n                nativeElement = nativeElement.parentElement;\n                eventTargets.push(nativeElement);\n            }\n\n            return merge<Event>(\n                ...eventTargets.map<Observable<Event>>(element =>\n                    typedFromEvent(element, `scroll`),\n                ),\n            );\n        });\n    }\n}\n","import {ElementRef, Inject, Injectable, NgZone, Self} from '@angular/core';\nimport {ANIMATION_FRAME, WINDOW} from '@ng-web-apis/common';\nimport {POLLING_TIME} from '@taiga-ui/cdk/constants';\nimport {tuiZoneOptimized} from '@taiga-ui/cdk/observables';\nimport {getElementObscurers} from '@taiga-ui/cdk/utils/dom';\nimport {fromEvent, merge, Observable} from 'rxjs';\nimport {\n    delay,\n    distinctUntilChanged,\n    map,\n    startWith,\n    takeUntil,\n    throttleTime,\n} from 'rxjs/operators';\n\nimport {TuiDestroyService} from './destroy.service';\nimport {TuiParentsScrollService} from './parents-scroll.service';\n\n// @bad TODO: Consider Intersection Observer with fallback to current implementation\n/**\n * Service that monitors element visibility by subscribing to scrolls\n * and polling with set interval, returns either null or an array\n * of elements that overlap given element edges\n */\n// Ambient type cannot be used without dynamic https://github.com/angular/angular/issues/23395\n// @dynamic\n@Injectable()\nexport class TuiObscuredService extends Observable<readonly Element[] | null> {\n    private readonly obscured$: Observable<readonly Element[] | null>;\n\n    constructor(\n        @Inject(TuiParentsScrollService)\n        @Self()\n        parentsScroll$: TuiParentsScrollService,\n        @Inject(ElementRef) {nativeElement}: ElementRef<Element>,\n        @Inject(NgZone) ngZone: NgZone,\n        @Inject(WINDOW) windowRef: Window,\n        @Inject(TuiDestroyService) destroy$: Observable<void>,\n        @Inject(ANIMATION_FRAME) animationFrame$: Observable<number>,\n    ) {\n        super(subscriber => this.obscured$.subscribe(subscriber));\n\n        this.obscured$ = merge(\n            // delay is added so it will not interfere with other listeners\n            merge(parentsScroll$, fromEvent(windowRef, `resize`)).pipe(delay(0)),\n            animationFrame$.pipe(throttleTime(POLLING_TIME)),\n        ).pipe(\n            map(() => getElementObscurers(nativeElement)),\n            startWith(null),\n            distinctUntilChanged(),\n            tuiZoneOptimized(ngZone),\n            takeUntil(destroy$),\n        );\n    }\n}\n","import {DOCUMENT} from '@angular/common';\nimport {ElementRef, Inject, Injectable} from '@angular/core';\nimport {typedFromEvent} from '@taiga-ui/cdk/observables';\nimport {merge, Observable} from 'rxjs';\nimport {filter, map, pairwise, repeat, switchMapTo, takeUntil} from 'rxjs/operators';\n\n/**\n * @dynamic\n */\n@Injectable()\nexport class TuiPanService extends Observable<readonly [number, number]> {\n    constructor(\n        @Inject(ElementRef) {nativeElement}: ElementRef<Element>,\n        @Inject(DOCUMENT) documentRef: Document,\n    ) {\n        super(subscriber => {\n            merge(\n                typedFromEvent(nativeElement, `touchstart`, {passive: true}),\n                typedFromEvent(nativeElement, `mousedown`),\n            )\n                .pipe(\n                    switchMapTo(\n                        merge(\n                            typedFromEvent(documentRef, `touchmove`, {\n                                passive: true,\n                            }).pipe(\n                                filter(({touches}) => touches.length < 2),\n                                map(({touches}) => touches[0]),\n                            ),\n                            typedFromEvent(documentRef, `mousemove`),\n                        ),\n                    ),\n                    pairwise(),\n                    map(([first, second]) => {\n                        const deltaX = second.clientX - first.clientX;\n                        const deltaY = second.clientY - first.clientY;\n\n                        return [deltaX, deltaY] as [number, number];\n                    }),\n                    // eslint-disable-next-line rxjs/no-unsafe-takeuntil\n                    takeUntil(\n                        merge(\n                            typedFromEvent(documentRef, `touchend`),\n                            typedFromEvent(documentRef, `mouseup`),\n                        ),\n                    ),\n                    repeat(),\n                )\n                .subscribe(subscriber);\n        });\n    }\n}\n","import {ElementRef, Inject, Injectable, NgZone} from '@angular/core';\nimport {ANIMATION_FRAME} from '@ng-web-apis/common';\nimport {\n    RESIZE_OBSERVER_SUPPORT,\n    RESIZE_OPTION_BOX,\n    ResizeObserverService,\n} from '@ng-web-apis/resize-observer';\nimport {EMPTY_ARRAY, POLLING_TIME} from '@taiga-ui/cdk/constants';\nimport {tuiZonefree} from '@taiga-ui/cdk/observables';\nimport {Observable} from 'rxjs';\nimport {\n    catchError,\n    debounceTime,\n    distinctUntilChanged,\n    map,\n    mapTo,\n    takeUntil,\n    throttleTime,\n} from 'rxjs/operators';\n\nimport {TuiDestroyService} from './destroy.service';\n\n// @dynamic\n@Injectable()\nexport class TuiResizeService extends ResizeObserverService {\n    constructor(\n        @Inject(ElementRef) elementRef: ElementRef<HTMLElement>,\n        @Inject(NgZone) ngZone: NgZone,\n        @Inject(TuiDestroyService) destroy$: Observable<void>,\n        @Inject(RESIZE_OBSERVER_SUPPORT) support: boolean,\n        @Inject(RESIZE_OPTION_BOX) box: ResizeObserverOptions['box'],\n        @Inject(ANIMATION_FRAME) animationFrame$: Observable<number>,\n    ) {\n        super(elementRef, ngZone, support, box);\n\n        return this.pipe(\n            catchError(() =>\n                animationFrame$.pipe(\n                    throttleTime(POLLING_TIME),\n                    map(\n                        () =>\n                            `${elementRef.nativeElement.clientWidth} ${elementRef.nativeElement.clientHeight}`,\n                    ),\n                    distinctUntilChanged(),\n                    mapTo(EMPTY_ARRAY),\n                ),\n            ),\n            debounceTime(0),\n            tuiZonefree(ngZone),\n            takeUntil(destroy$),\n        );\n    }\n}\n","import {Inject, Injectable} from '@angular/core';\nimport {ANIMATION_FRAME, PERFORMANCE} from '@ng-web-apis/common';\nimport {tuiAssert} from '@taiga-ui/cdk/classes';\nimport {tuiClamp} from '@taiga-ui/cdk/utils/math';\nimport {tuiEaseInOutQuad} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {defer, Observable, of, timer} from 'rxjs';\nimport {map, switchMap, takeUntil, tap} from 'rxjs/operators';\n\nconst SCROLL_TIME = 300;\n\n// @dynamic\n@Injectable({\n    providedIn: `root`,\n})\nexport class TuiScrollService {\n    constructor(\n        @Inject(PERFORMANCE) private readonly performanceRef: Performance,\n        @Inject(ANIMATION_FRAME) private readonly animationFrame$: Observable<number>,\n    ) {}\n\n    scroll$(\n        elementOrWindow: Element | Window,\n        scrollTop: number,\n        scrollLeft: number = getX(elementOrWindow),\n        duration: number = SCROLL_TIME,\n    ): Observable<[number, number]> {\n        tuiAssert.assert(duration >= 0, `Duration cannot be negative`);\n        tuiAssert.assert(scrollTop >= 0, `scrollTop cannot be negative`);\n        tuiAssert.assert(scrollLeft >= 0, `scrollLeft cannot be negative`);\n\n        const initialTop = getY(elementOrWindow);\n        const initialLeft = getX(elementOrWindow);\n        const deltaTop = scrollTop - initialTop;\n        const deltaLeft = scrollLeft - initialLeft;\n        const observable = !duration\n            ? of([scrollTop, scrollLeft] as [number, number])\n            : defer(() => of(this.performanceRef.now())).pipe(\n                  switchMap(start => this.animationFrame$.pipe(map(now => now - start))),\n                  map(elapsed => tuiEaseInOutQuad(tuiClamp(elapsed / duration, 0, 1))),\n                  map(\n                      percent =>\n                          [\n                              initialTop + deltaTop * percent,\n                              initialLeft + deltaLeft * percent,\n                          ] as [number, number],\n                  ),\n                  takeUntil(timer(duration)),\n              );\n\n        return observable.pipe(\n            tap(([scrollTop, scrollLeft]) => {\n                elementOrWindow.scrollTo?.(scrollLeft, scrollTop);\n            }),\n        );\n    }\n}\n\nfunction getX(elementOrWindow: Element | Window): number {\n    return `scrollX` in elementOrWindow\n        ? elementOrWindow.scrollX\n        : elementOrWindow.scrollLeft;\n}\n\nfunction getY(elementOrWindow: Element | Window): number {\n    return `scrollY` in elementOrWindow\n        ? elementOrWindow.scrollY\n        : elementOrWindow.scrollTop;\n}\n","import {Injectable} from '@angular/core';\nimport {Observable, Observer} from 'rxjs';\nimport {shareReplay} from 'rxjs/operators';\n\n@Injectable({\n    providedIn: `root`,\n})\nexport class TuiStaticRequestService {\n    private readonly cache = new Map<string, Observable<string>>();\n\n    request(url: string): Observable<string> {\n        const cache = this.cache.get(url);\n\n        if (cache) {\n            return cache;\n        }\n\n        const observable = new Observable((observer: Observer<string>) => {\n            const xhr = new XMLHttpRequest();\n\n            xhr.onreadystatechange = () => {\n                if (xhr.readyState === 4) {\n                    const response = xhr.responseType ? xhr.response : xhr.responseText;\n\n                    if (xhr.status === 200) {\n                        observer.next(response);\n                        observer.complete();\n                    } else {\n                        observer.error(response);\n                    }\n                }\n            };\n\n            xhr.open(`GET`, url);\n            xhr.send();\n\n            return () => {\n                xhr.abort();\n            };\n        });\n        const piped = observable.pipe(shareReplay({bufferSize: 1, refCount: false}));\n\n        this.cache.set(url, piped);\n\n        return piped;\n    }\n}\n","import {DOCUMENT} from '@angular/common';\nimport {ElementRef, Inject, Injectable} from '@angular/core';\nimport {TuiSwipe, TuiSwipeOptions} from '@taiga-ui/cdk/interfaces';\nimport {typedFromEvent} from '@taiga-ui/cdk/observables';\nimport {TUI_SWIPE_OPTIONS} from '@taiga-ui/cdk/tokens';\nimport {getSwipeDirection, isPresent} from '@taiga-ui/cdk/utils/miscellaneous';\nimport {merge, Observable} from 'rxjs';\nimport {filter, map, pairwise} from 'rxjs/operators';\n\n/**\n * @dynamic\n */\n@Injectable()\nexport class TuiSwipeService extends Observable<TuiSwipe> {\n    constructor(\n        @Inject(ElementRef) {nativeElement}: ElementRef<Element>,\n        @Inject(TUI_SWIPE_OPTIONS) {timeout, threshold}: TuiSwipeOptions,\n        @Inject(DOCUMENT) documentRef: Document,\n    ) {\n        super(subscriber => {\n            merge(\n                typedFromEvent(nativeElement, `touchstart`, {passive: true}),\n                typedFromEvent(documentRef, `touchend`),\n            )\n                .pipe(\n                    pairwise(),\n                    filter(\n                        ([first, second]) =>\n                            !!first.touches.length &&\n                            first.touches[0].identifier ===\n                                second.changedTouches[0].identifier,\n                    ),\n                    map(([start, end]) => {\n                        const startX = start.touches[0].clientX;\n                        const startY = start.touches[0].clientY;\n                        const endX = end.changedTouches[0].clientX;\n                        const endY = end.changedTouches[0].clientY;\n\n                        const distanceX = startX - endX;\n                        const distanceY = startY - endY;\n                        const duration = end.timeStamp - start.timeStamp;\n\n                        if (\n                            (Math.abs(distanceX) > threshold ||\n                                Math.abs(distanceY) > threshold) &&\n                            duration < timeout\n                        ) {\n                            return {\n                                direction: getSwipeDirection(distanceX, distanceY),\n                                events: [start, end] as [TouchEvent, TouchEvent],\n                            };\n                        }\n\n                        return null;\n                    }),\n                    filter(isPresent),\n                )\n                .subscribe(subscriber);\n        });\n    }\n}\n","import {ElementRef, Inject, Injectable} from '@angular/core';\nimport {TuiZoom, TuiZoomOptions} from '@taiga-ui/cdk/interfaces';\nimport {preventDefault, typedFromEvent} from '@taiga-ui/cdk/observables';\nimport {TUI_ZOOM_OPTIONS} from '@taiga-ui/cdk/tokens';\nimport {distanceBetweenTouches} from '@taiga-ui/cdk/utils';\nimport {merge, Observable} from 'rxjs';\nimport {filter, map, scan, switchMap, takeUntil} from 'rxjs/operators';\n\nconst TOUCH_SENSITIVITY = 0.01;\n\n// @dynamic\n@Injectable()\nexport class TuiZoomService extends Observable<TuiZoom> {\n    constructor(\n        @Inject(ElementRef) {nativeElement}: ElementRef<HTMLElement>,\n        @Inject(TUI_ZOOM_OPTIONS) {wheelSensitivity}: TuiZoomOptions,\n    ) {\n        super(subscriber => {\n            merge(\n                typedFromEvent(nativeElement, `touchstart`, {passive: true}).pipe(\n                    filter(({touches}) => touches.length > 1),\n                    switchMap(startEvent =>\n                        typedFromEvent(nativeElement, `touchmove`, {\n                            passive: true,\n                        }).pipe(\n                            preventDefault(),\n                            scan(\n                                (prev, event) => {\n                                    const distance = distanceBetweenTouches(event);\n\n                                    return {\n                                        event,\n                                        distance,\n                                        delta:\n                                            (distance - prev.distance) *\n                                            TOUCH_SENSITIVITY,\n                                    };\n                                },\n                                {\n                                    event: startEvent,\n                                    distance: distanceBetweenTouches(startEvent),\n                                    delta: 0,\n                                },\n                            ),\n                            map(({event, delta}) => {\n                                const clientX =\n                                    (event.touches[0].clientX +\n                                        event.touches[1].clientX) /\n                                    2;\n                                const clientY =\n                                    (event.touches[0].clientY +\n                                        event.touches[1].clientY) /\n                                    2;\n\n                                return {clientX, clientY, delta, event};\n                            }),\n                            takeUntil(typedFromEvent(nativeElement, `touchend`)),\n                        ),\n                    ),\n                ),\n                typedFromEvent(nativeElement, `wheel`, {passive: false}).pipe(\n                    preventDefault(),\n                    map(wheel => ({\n                        clientX: wheel.clientX,\n                        clientY: wheel.clientY,\n                        delta: -wheel.deltaY * wheelSensitivity,\n                        event: wheel,\n                    })),\n                ),\n            ).subscribe(subscriber);\n        });\n    }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":"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"}