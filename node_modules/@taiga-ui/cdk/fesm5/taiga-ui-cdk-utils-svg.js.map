{"version":3,"file":"taiga-ui-cdk-utils-svg.js","sources":["ng://@taiga-ui/cdk/utils/svg/svg-linear-gradient-processor.ts","ng://@taiga-ui/cdk/utils/svg/taiga-ui-cdk-utils-svg.ts"],"sourcesContent":["/**\n * @deprecated: use {@link tuiSvgLinearGradientProcessor} instead\n * @description:\n * Any ‘linearGradient’ attributes which are defined on the referenced\n * element which are not defined on this element are inherited by this element.\n * If this element has no defined gradient stops, and the referenced element does\n * (possibly due to its own ‘xlink:href’ attribute), then this element inherits\n * the gradient stop from the referenced element. Inheritance can be indirect\n * to an arbitrary level; thus, if the referenced element inherits attribute\n * or gradient stops due to its own ‘xlink:href’ attribute, then the current\n * element can inherit those attributes or gradient stops.\n *\n * Documentation: https://www.w3.org/TR/SVG11/pservers.html\n *\n */\n// eslint-disable-next-line @typescript-eslint/naming-convention\nexport function svgLinearGradientProcessor(svg: string, salt?: number | string): string {\n    const uniqueIds = extractLinearGradientIdsFromSvg(svg);\n\n    return uniqueIds.reduce(\n        (processed, previousId) =>\n            processed.replace(\n                new RegExp(previousId, `g`),\n                `${previousId}_${salt || makeRandomSalt()}`,\n            ),\n        svg,\n    );\n}\n\nfunction makeRandomSalt(): number {\n    return Math.floor(Math.random() * Date.now());\n}\n\nfunction extractLinearGradientIdsFromSvg(svg: string): string[] {\n    const matchedIdsWithPrefix = svg.match(/url\\(#(\\w\\w+)/g) || [];\n\n    return [...new Set(matchedIdsWithPrefix)].map(\n        matched => matched.slice(5), // remove prefix `url(#`\n    );\n}\n\nexport const tuiSvgLinearGradientProcessor = svgLinearGradientProcessor;\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"],"names":[],"mappings":";;AAAA;;;;;;;;;;;;;;;AAeA;SACgB,0BAA0B,CAAC,GAAW,EAAE,IAAsB;IAC1E,IAAM,SAAS,GAAG,+BAA+B,CAAC,GAAG,CAAC,CAAC;IAEvD,OAAO,SAAS,CAAC,MAAM,CACnB,UAAC,SAAS,EAAE,UAAU;QAClB,OAAA,SAAS,CAAC,OAAO,CACb,IAAI,MAAM,CAAC,UAAU,EAAE,GAAG,CAAC,EACxB,UAAU,UAAI,IAAI,IAAI,cAAc,EAAE,CAAE,CAC9C;KAAA,EACL,GAAG,CACN,CAAC;AACN,CAAC;AAED,SAAS,cAAc;IACnB,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC;AAClD,CAAC;AAED,SAAS,+BAA+B,CAAC,GAAW;IAChD,IAAM,oBAAoB,GAAG,GAAG,CAAC,KAAK,CAAC,gBAAgB,CAAC,IAAI,EAAE,CAAC;IAE/D,OAAO,SAAI,IAAI,GAAG,CAAC,oBAAoB,CAAC,EAAE,GAAG,CACzC,UAAA,OAAO,IAAI,OAAA,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,GAAA,CAC9B,CAAC;AACN,CAAC;IAEY,6BAA6B,GAAG;;ACzC7C;;;;;;"}