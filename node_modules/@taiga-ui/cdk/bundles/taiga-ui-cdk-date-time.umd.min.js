!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@taiga-ui/cdk/constants"),require("@taiga-ui/cdk/classes"),require("@taiga-ui/cdk/exceptions"),require("@taiga-ui/cdk/utils/format"),require("@taiga-ui/cdk/utils/math")):"function"==typeof define&&define.amd?define("@taiga-ui/cdk/date-time",["exports","@angular/core","@taiga-ui/cdk/constants","@taiga-ui/cdk/classes","@taiga-ui/cdk/exceptions","@taiga-ui/cdk/utils/format","@taiga-ui/cdk/utils/math"],e):e(((t=t||self)["taiga-ui"]=t["taiga-ui"]||{},t["taiga-ui"].cdk=t["taiga-ui"].cdk||{},t["taiga-ui"].cdk["date-time"]={}),t.ng.core,t["taiga-ui"].cdk.constants,t["taiga-ui"].cdk.classes,t["taiga-ui"].cdk.exceptions,t["taiga-ui"].cdk.utils.format,t["taiga-ui"].cdk.utils.math)}(this,(function(t,e,r,n,o,a,i){"use strict";var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}Object.create;Object.create;var c=""+r.CHAR_NO_BREAK_SPACE+r.CHAR_EN_DASH+r.CHAR_NO_BREAK_SPACE,f=new e.InjectionToken("date filler for Taiga UI",{factory:function(){return"dd.mm.yyyy"}}),h=new e.InjectionToken("date range filler for Taiga UI",{factory:function(){var t=e.inject(f);return""+t+c+t}}),y=20+c.length,m=new e.InjectionToken("Active date format for Taiga UI",{factory:function(){return"DMY"}}),l=new e.InjectionToken("Date separator for Taiga UI components",{factory:function(){return"."}}),p=function(){function t(e){this.year=e,n.tuiAssert.assert(t.isValidYear(e))}return t.isValidYear=function(t){return Number.isInteger(t)&&i.inRange(t,0,1e4)},t.isLeapYear=function(e){return n.tuiAssert.assert(t.isValidYear(e)),e%400==0||e%4==0&&e%100!=0},t.getAbsoluteLeapYears=function(e){return n.tuiAssert.assert(t.isValidYear(e)),Math.ceil(e/400)+(Math.ceil(e/4)-Math.ceil(e/100))},t.getYearStartDaysOffset=function(e,r){return n.tuiAssert.assert(t.isValidYear(e)),n.tuiAssert.assert(Number.isInteger(r)),n.tuiAssert.assert(e>=r),n.tuiAssert.assert(r>=0),(366*r+365*(e-r)+5)%7},t.lengthBetween=function(t,e){return e.year-t.year},t.normalizeYearPart=function(t){return i.normalizeToIntNumber(t,0,9999)},Object.defineProperty(t.prototype,"formattedYear",{get:function(){return a.padStart(String(this.year),4,"0")},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isLeapYear",{get:function(){return t.isLeapYear(this.year)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"absoluteLeapYears",{get:function(){return t.getAbsoluteLeapYears(this.year)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"yearStartDaysOffset",{get:function(){return t.getYearStartDaysOffset(this.year,this.absoluteLeapYears)},enumerable:!0,configurable:!0}),t.prototype.yearBefore=function(t){var e=t.year;return this.year<e},t.prototype.yearSameOrBefore=function(t){var e=t.year;return this.year<=e},t.prototype.yearSame=function(t){var e=t.year;return this.year===e},t.prototype.yearSameOrAfter=function(t){var e=t.year;return this.year>=e},t.prototype.yearAfter=function(t){var e=t.year;return this.year>e},t.prototype.append=function(e,r){var o=e.year,a=void 0===o?0:o;void 0===r&&(r=!1),n.tuiAssert.assert(Number.isInteger(a)),r&&(a*=-1);var i=this.year+a;return n.tuiAssert.assert(t.isValidYear(i)),new t(i)},t.prototype.toString=function(){return this.formattedYear},t.prototype.valueOf=function(){return this.year},t.prototype[Symbol.toPrimitive]=function(t){return Date.prototype[Symbol.toPrimitive].call(this,t)},t.prototype.toJSON=function(){return this.formattedYear},t}(),d=function(t){function e(r,o){var a=t.call(this,r)||this;return a.month=o,n.tuiAssert.assert(e.isValidMonth(r,o)),a}return u(e,t),e.isValidMonth=function(t,r){return p.isValidYear(t)&&e.isValidMonthPart(r)},e.getMonthDaysCount=function(t,r){switch(n.tuiAssert.assert(e.isValidMonthPart(t)),t){case 1:return r?29:28;case 3:case 5:case 8:case 10:return 30;default:return 31}},e.currentLocal=function(){var t=new Date;return new e(t.getFullYear(),t.getMonth())},e.currentUtc=function(){var t=new Date;return new e(t.getUTCFullYear(),t.getUTCMonth())},e.lengthBetween=function(t,e){var r=t.month+12*t.year;return e.month+12*e.year-r},e.normalizeMonthPart=function(t){return i.normalizeToIntNumber(t,0,11)},e.isValidMonthPart=function(t){return Number.isInteger(t)&&i.inRange(t,0,12)},Object.defineProperty(e.prototype,"formattedMonthPart",{get:function(){return a.padStart(String(this.month+1),2,"0")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedMonth",{get:function(){return this.formattedMonthPart+"."+this.formattedYear},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"weeksRowsCount",{get:function(){return Math.ceil((this.monthStartDaysOffset+this.daysCount)/7)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"daysCount",{get:function(){return e.getMonthDaysCount(this.month,this.isLeapYear)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"monthStartDaysOffset",{get:function(){for(var t=this.yearStartDaysOffset,r=0;r<=this.month-1;r++)t+=e.getMonthDaysCount(r,this.isLeapYear);return t%7},enumerable:!0,configurable:!0}),e.prototype.monthBefore=function(t){return this.yearBefore(t)||this.yearSame(t)&&this.month<t.month},e.prototype.monthSameOrBefore=function(t){return this.yearBefore(t)||this.yearSame(t)&&this.month<=t.month},e.prototype.monthSame=function(t){return this.yearSame(t)&&this.month===t.month},e.prototype.monthSameOrAfter=function(t){return this.yearAfter(t)||this.yearSame(t)&&this.month>=t.month},e.prototype.monthAfter=function(t){return this.yearAfter(t)||this.yearSame(t)&&this.month>t.month},e.prototype.append=function(t,r){var n=t.year,o=void 0===n?0:n,a=t.month,i=void 0===a?0:a;void 0===r&&(r=!1),r&&(o*=-1,i*=-1);var s=12*(this.year+o)+this.month+i;return new e(Math.floor(s/12),s%12)},e.prototype.toString=function(){return this.formattedMonth},e.prototype.valueOf=function(){return this.toLocalNativeDate().valueOf()},e.prototype.toJSON=function(){return t.prototype.toJSON.call(this)+"-"+this.formattedMonthPart},e.prototype.toLocalNativeDate=function(){return new Date(this.year,this.month)},e.prototype.toUtcNativeDate=function(){return new Date(Date.UTC(this.year,this.month))},e}(p),g=function(t){function e(r,o,a){var i=t.call(this,r,o)||this;return i.day=a,n.tuiAssert.assert(e.isValidDay(r,o,a)),i}return u(e,t),e.fromLocalNativeDate=function(t){return new e(t.getFullYear(),t.getMonth(),t.getDate())},e.fromUtcNativeDate=function(t){return new e(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},e.isValidDay=function(t,e,r){return d.isValidMonth(t,e)&&Number.isInteger(r)&&i.inRange(r,1,d.getMonthDaysCount(e,p.isLeapYear(t))+1)},e.getDayFromMonthRowCol=function(t,r,o){n.tuiAssert.assert(Number.isInteger(r)),n.tuiAssert.assert(i.inRange(r,0,6)),n.tuiAssert.assert(Number.isInteger(o)),n.tuiAssert.assert(i.inRange(o,0,7));var a=7*r+o-t.monthStartDaysOffset+1;return a>t.daysCount&&(a-=t.daysCount,t=t.append({month:1})),a<=0&&(a=(t=t.append({month:-1})).daysCount+a),new e(t.year,t.month,a)},e.currentLocal=function(){var t=new Date;return new e(t.getFullYear(),t.getMonth(),t.getDate())},e.currentUtc=function(){var t=new Date;return new e(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate())},e.normalizeOf=function(t,r,n){var o=p.normalizeYearPart(t),a=d.normalizeMonthPart(r),i=e.normalizeDayPart(n,a,o);return new e(o,a,i)},e.lengthBetween=function(t,e){return Math.round((e.toLocalNativeDate().getTime()-t.toLocalNativeDate().getTime())/864e5)},e.parseRawDateString=function(t,e){switch(void 0===e&&(e="DMY"),n.tuiAssert.assert(10===t.length,"[parseRawDateString]: wrong date string length"),e){case"YMD":return{day:parseInt(t.slice(8,10),10),month:parseInt(t.slice(5,7),10)-1,year:parseInt(t.slice(0,4),10)};case"MDY":return{day:parseInt(t.slice(3,5),10),month:parseInt(t.slice(0,2),10)-1,year:parseInt(t.slice(6,10),10)};default:case"DMY":return{day:parseInt(t.slice(0,2),10),month:parseInt(t.slice(3,5),10)-1,year:parseInt(t.slice(6,10),10)}}},e.normalizeParse=function(t,r){void 0===r&&(r="DMY");var n=this.parseRawDateString(t,r),o=n.day,a=n.month,i=n.year;return e.normalizeOf(i,a,o)},e.jsonParse=function(t){var r=this.parseRawDateString(t,"YMD"),n=r.day,a=r.month,s=r.year;if(!p.isValidYear(s))throw new o.InvalidYearException(s);if(!d.isValidMonth(s,a))throw new o.InvalidMonthException(a);if(!Number.isInteger(n)||!i.inRange(n,1,d.getMonthDaysCount(a,p.isLeapYear(s))+1))throw new o.InvalidDayException(n);return new e(s,a,n)},e.normalizeDayPart=function(t,e,r){n.tuiAssert.assert(d.isValidMonth(r,e));var o=d.getMonthDaysCount(e,p.isLeapYear(r));return i.normalizeToIntNumber(t,1,o)},Object.defineProperty(e.prototype,"formattedDayPart",{get:function(){return a.padStart(String(this.day),2,"0")},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedDay",{get:function(){return this.formattedDayPart+"."+this.formattedMonth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isWeekend",{get:function(){var t=this.dayOfWeek(!1);return 6===t||0===t},enumerable:!0,configurable:!0}),e.prototype.dayOfWeek=function(t){void 0===t&&(t=!0);var e=t?this.toLocalNativeDate().getDay()-1:this.toLocalNativeDate().getDay();return e<0?6:e},e.prototype.dayBefore=function(t){return this.monthBefore(t)||this.monthSame(t)&&this.day<t.day},e.prototype.daySameOrBefore=function(t){return this.monthBefore(t)||this.monthSame(t)&&this.day<=t.day},e.prototype.daySame=function(t){return this.monthSame(t)&&this.day===t.day},e.prototype.daySameOrAfter=function(t){return this.monthAfter(t)||this.monthSame(t)&&this.day>=t.day},e.prototype.dayAfter=function(t){return this.monthAfter(t)||this.monthSame(t)&&this.day>t.day},e.prototype.dayLimit=function(t,e){return null!==t&&this.dayBefore(t)?t:null!==e&&this.dayAfter(e)?e:this},e.prototype.append=function(t,r){var n=t.year,o=void 0===n?0:n,a=t.month,i=void 0===a?0:a,s=t.day,u=void 0===s?0:s;void 0===r&&(r=!1),r&&(o*=-1,i*=-1,u*=-1);for(var c=12*(this.year+o)+this.month+i,f=Math.floor(c/12),h=c%12,y=Math.min(this.day,d.getMonthDaysCount(h,p.isLeapYear(f)))+u;y>d.getMonthDaysCount(h,p.isLeapYear(f));)y-=d.getMonthDaysCount(h,p.isLeapYear(f)),11===h?(f++,h=0):h++;for(;y<1;)0===h?(f--,h=11):h--,y+=d.getMonthDaysCount(h,p.isLeapYear(f));return new e(f,h,y)},e.prototype.getFormattedDay=function(t,e){n.tuiAssert.assert(1===e.length,"Separator should consist of only 1 symbol");var r=this.formattedDayPart,o=this.formattedMonthPart,a=this.formattedYear;switch(t){case"YMD":return""+a+e+o+e+r;case"MDY":return""+o+e+r+e+a;case"DMY":default:return""+r+e+o+e+a}},e.prototype.toString=function(t,e){return void 0===t&&(t="DMY"),void 0===e&&(e="."),this.getFormattedDay(t,e)},e.prototype.toJSON=function(){return t.prototype.toJSON.call(this)+"-"+this.formattedDayPart},e.prototype.toLocalNativeDate=function(){return new Date(this.year,this.month,this.day)},e.prototype.toUtcNativeDate=function(){return new Date(Date.UTC(this.year,this.month,this.day))},e}(d),D=function(){function t(t,e){this.from=t,this.to=e,n.tuiAssert.assert(t.monthSameOrBefore(e))}return t.sort=function(e,r){return e.monthSameOrBefore(r)?new t(e,r):new t(r,e)},Object.defineProperty(t.prototype,"isSingleMonth",{get:function(){return this.from.monthSame(this.to)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"formattedMonthRange",{get:function(){return""+this.from.formattedMonth+c+this.to.formattedMonth},enumerable:!0,configurable:!0}),t.prototype.monthSame=function(t){return this.from.monthSame(t.from)&&this.to.monthSame(t.to)},t.prototype.toString=function(){return""+this.from+c+this.to},t}(),M=function(t){return["DMY","YMD","MDY"].includes(t)},S=function(t){function e(e,r){var o=t.call(this,e,r)||this;return o.from=e,o.to=r,n.tuiAssert.assert(e.daySameOrBefore(r)),o}return u(e,t),e.sort=function(t,r){return t.daySameOrBefore(r)?new e(t,r):new e(r,t)},e.normalizeParse=function(t,r){void 0===r&&(r="DMY");var n=M(r)?r:"DMY",o=g.normalizeParse(t.slice(0,10),n);return t.length<y?new e(o,o):e.sort(o,g.normalizeParse(t.slice(10+c.length),n))},Object.defineProperty(e.prototype,"isSingleDay",{get:function(){return this.from.daySame(this.to)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formattedDayRange",{get:function(){var t=this.from.getFormattedDay("DMY","."),e=this.to.getFormattedDay("DMY",".");return""+t+c+e},enumerable:!0,configurable:!0}),e.prototype.daySame=function(t){return this.from.daySame(t.from)&&this.to.daySame(t.to)},e.prototype.dayLimit=function(t,r){return new e(this.from.dayLimit(t,r),this.to.dayLimit(t,r))},e.prototype.getFormattedDayRange=function(t,e){var r=this.from.getFormattedDay(t,e),n=this.to.getFormattedDay(t,e);return""+r+c+n},e.prototype.toString=function(t,e){void 0===t&&(t="DMY"),void 0===e&&(e=".");var r=this.from.getFormattedDay(t,e),n=this.to.getFormattedDay(t,e);return""+r+c+n},e}(D),b=new g(0,0,1),v=new g(9999,11,31),A=function(){function t(e,r,o,a){void 0===o&&(o=0),void 0===a&&(a=0),this.hours=e,this.minutes=r,this.seconds=o,this.ms=a,n.tuiAssert.assert(t.isValidTime(e,r,o,a),"Time must be real, but got:",e,r,o,a)}return t.isValidTime=function(t,e,r,n){return void 0===r&&(r=0),void 0===n&&(n=0),Number.isInteger(t)&&i.inRange(t,0,24)&&Number.isInteger(e)&&i.inRange(e,0,60)&&Number.isInteger(r)&&i.inRange(r,0,60)&&Number.isInteger(n)&&i.inRange(n,0,1e3)},t.current=function(){return t.fromAbsoluteMilliseconds(Date.now()%864e5)},t.currentLocal=function(){var e=new Date;return t.fromAbsoluteMilliseconds((Date.now()-6e4*e.getTimezoneOffset())%864e5)},t.fromAbsoluteMilliseconds=function(e){return n.tuiAssert.assert(Number.isInteger(e)),n.tuiAssert.assert(i.inRange(e,0,864e5),"Milliseconds must be below 86400000 (milliseconds in a day)."),new t(Math.floor(e/36e5),Math.floor(e%36e5/6e4),Math.floor(e%36e5%6e4/1e3)||0,Math.floor(e%36e5%6e4%1e3)||0)},t.fromString=function(e){return new t(Number(e.slice(0,2)),Number(e.slice(3,5)),Number(e.slice(6,8))||0,Number(e.slice(9,12))||0)},t.fromLocalNativeDate=function(e){return new t(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())},t.prototype.shift=function(e){var r=e.hours,n=void 0===r?0:r,o=e.minutes,a=void 0===o?0:o,i=e.seconds,s=void 0===i?0:i,u=e.ms,c=void 0===u?0:u,f=(1e3+this.ms+c%1e3)%1e3,h=(c<0?Math.ceil(c/1e3):Math.floor(c/1e3))+s,y=(60+this.seconds+h%60)%60,m=(h<0?Math.ceil(h/60):Math.floor(h/60))+a,l=(60+this.minutes+m%60)%60,p=(m<0?Math.ceil(m/60):Math.floor(m/60))+n;return new t((24+this.hours+p%24)%24,l,y,f)},t.prototype.toString=function(t){var e="HH:MM:SS.MSS"===t||!t&&this.ms>0,r=e||"HH:MM:SS"===t||!t&&this.seconds>0;return this.formatTime(this.hours)+":"+this.formatTime(this.minutes)+(r?":"+this.formatTime(this.seconds):"")+(e?"."+this.formatTime(this.ms,3):"")},t.prototype.valueOf=function(){return this.toAbsoluteMilliseconds()},t.prototype[Symbol.toPrimitive]=function(t){return Date.prototype[Symbol.toPrimitive].call(this,t)},t.prototype.toAbsoluteMilliseconds=function(){return 36e5*this.hours+6e4*this.minutes+1e3*this.seconds+this.ms},t.prototype.formatTime=function(t,e){return void 0===e&&(e=2),a.padStart(String(t),e,"0")},t}();t.DATE_FILLER_LENGTH=10,t.DATE_RANGE_FILLER_LENGTH=y,t.DAYS_IN_LEAP_YEAR=366,t.DAYS_IN_NORMAL_YEAR=365,t.DAYS_IN_WEEK=7,t.HOURS_IN_DAY=24,t.MAX_MONTH=11,t.MAX_YEAR=9999,t.MILLISECONDS_IN_DAY=864e5,t.MILLISECONDS_IN_HOUR=36e5,t.MILLISECONDS_IN_MINUTE=6e4,t.MILLISECONDS_IN_SECOND=1e3,t.MINUTES_IN_HOUR=60,t.MIN_DAY=1,t.MIN_MONTH=0,t.MIN_YEAR=0,t.MONTHS_IN_YEAR=12,t.RANGE_SEPARATOR_CHAR=c,t.SECONDS_IN_MINUTE=60,t.TUI_DATE_FILLER=f,t.TUI_DATE_FORMAT=m,t.TUI_DATE_RANGE_FILLER=h,t.TUI_DATE_SEPARATOR=l,t.TUI_FIRST_DAY=b,t.TUI_LAST_DAY=v,t.TuiDay=g,t.TuiDayRange=S,t.TuiMonth=d,t.TuiMonthRange=D,t.TuiTime=A,t.TuiYear=p,t.changeDateSeparator=function(t,e){return t.replace(/[^0-9A-Za-zА-Яа-я]/gi,e)},t.isDateMode=M,Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-cdk-date-time.umd.min.js.map