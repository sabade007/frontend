!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@taiga-ui/cdk/decorators"),require("@taiga-ui/cdk/observables"),require("@taiga-ui/cdk/tokens"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@taiga-ui/cdk/directives/active-zone",["exports","@angular/core","@taiga-ui/cdk/decorators","@taiga-ui/cdk/observables","@taiga-ui/cdk/tokens","rxjs","rxjs/operators"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].cdk=e["taiga-ui"].cdk||{},e["taiga-ui"].cdk.directives=e["taiga-ui"].cdk.directives||{},e["taiga-ui"].cdk.directives["active-zone"]={}),e.ng.core,e["taiga-ui"].cdk.decorators,e["taiga-ui"].cdk.observables,e["taiga-ui"].cdk.tokens,e.rxjs,e.rxjs.operators)}(this,(function(e,t,i,n,o,r,c){"use strict";function a(e,t,i,n){var o,r=arguments.length,c=r<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(c=(r<3?o(c):r>3?o(t,i,c):o(t,i))||c);return r>3&&c&&Object.defineProperty(t,i,c),c}function u(e,t){return function(i,n){t(i,n,e)}}Object.create;function s(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var n,o,r=i.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(n=r.next()).done;)c.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(i=r.return)&&i.call(r)}finally{if(o)throw o.error}}return c}function v(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}Object.create;var d=function(){function e(e,t,i,o){var r=this;this.active$=e,this.ngZone=t,this.elementRef=i,this.directParentActiveZone=o,this.subActiveZones=[],this.tuiActiveZoneParent=null,this.tuiActiveZoneChange=this.active$.pipe(c.map((function(e){return!!e&&r.contains(e)})),c.startWith(!1),c.distinctUntilChanged(),c.skip(1),n.tuiZoneOptimized(this.ngZone)),this.directParentActiveZone&&this.directParentActiveZone.addSubActiveZone(this)}var s;return s=e,Object.defineProperty(e.prototype,"tuiActiveZoneParentSetter",{set:function(e){this.setZone(e)},enumerable:!0,configurable:!0}),e.prototype.ngOnDestroy=function(){this.directParentActiveZone&&this.directParentActiveZone.removeSubActiveZone(this),this.tuiActiveZoneParent&&this.tuiActiveZoneParent.removeSubActiveZone(this)},e.prototype.contains=function(e){return this.elementRef.nativeElement.contains(e)||this.subActiveZones.some((function(t,i,n){return n.indexOf(t)===i&&t.contains(e)}))},e.prototype.setZone=function(e){this.tuiActiveZoneParent&&this.tuiActiveZoneParent.removeSubActiveZone(this),e&&e.addSubActiveZone(this),this.tuiActiveZoneParent=e},e.prototype.addSubActiveZone=function(e){this.subActiveZones=v(this.subActiveZones,[e])},e.prototype.removeSubActiveZone=function(e){var t=this.subActiveZones.findIndex((function(t){return t===e}));this.subActiveZones=v(this.subActiveZones.slice(0,t),this.subActiveZones.slice(t+1))},e.ctorParameters=function(){return[{type:r.Observable,decorators:[{type:t.Inject,args:[o.TUI_ACTIVE_ELEMENT]}]},{type:t.NgZone,decorators:[{type:t.Inject,args:[t.NgZone]}]},{type:t.ElementRef,decorators:[{type:t.Inject,args:[t.ElementRef]}]},{type:e,decorators:[{type:t.Optional},{type:t.SkipSelf},{type:t.Inject,args:[s]}]}]},a([t.Input("tuiActiveZoneParent"),i.tuiDefaultProp()],e.prototype,"tuiActiveZoneParentSetter",null),a([t.Output()],e.prototype,"tuiActiveZoneChange",void 0),a([i.tuiPure],e.prototype,"setZone",null),e=s=a([t.Directive({selector:"[tuiActiveZone]:not(ng-container), [tuiActiveZoneChange]:not(ng-container), [tuiActiveZoneParent]:not(ng-container)",exportAs:"tuiActiveZone"}),u(0,t.Inject(o.TUI_ACTIVE_ELEMENT)),u(1,t.Inject(t.NgZone)),u(2,t.Inject(t.ElementRef)),u(3,t.Optional()),u(3,t.SkipSelf()),u(3,t.Inject(s))],e)}(),f=function(){function e(){}return e=a([t.NgModule({declarations:[d],exports:[d]})],e)}();e.TuiActiveZoneDirective=d,e.TuiActiveZoneModule=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-cdk-directives-active-zone.umd.min.js.map