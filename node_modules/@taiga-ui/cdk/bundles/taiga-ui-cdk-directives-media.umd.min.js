!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@taiga-ui/cdk/decorators")):"function"==typeof define&&define.amd?define("@taiga-ui/cdk/directives/media",["exports","@angular/core","@taiga-ui/cdk/decorators"],t):t(((e=e||self)["taiga-ui"]=e["taiga-ui"]||{},e["taiga-ui"].cdk=e["taiga-ui"].cdk||{},e["taiga-ui"].cdk.directives=e["taiga-ui"].cdk.directives||{},e["taiga-ui"].cdk.directives.media={}),e.ng.core,e["taiga-ui"].cdk.decorators)}(this,(function(e,t,n){"use strict";function i(e,t,n,i){var r,a=arguments.length,o=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,i);else for(var u=e.length-1;u>=0;u--)(r=e[u])&&(o=(a<3?r(o):a>3?r(t,n,o):r(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}Object.create;Object.create;function r(e){return Number.isFinite(e)&&e>=0}function a(e){return Number.isFinite(e)&&e>=0&&e<=1}var o=function(){function e(e){this.elementRef=e,this.playbackRate=1,this.volume=1,this.currentTimeChange=new t.EventEmitter,this.pausedChange=new t.EventEmitter,this.volumeChange=new t.EventEmitter}var o,u;return Object.defineProperty(e.prototype,"playbackRateSetter",{set:function(e){this.updatePlaybackRate(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentTime",{get:function(){return this.elementRef.nativeElement.currentTime},set:function(e){Math.abs(e-this.currentTime)>.05&&(this.elementRef.nativeElement.currentTime=e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this.elementRef.nativeElement.paused},set:function(e){e?this.elementRef.nativeElement.pause():(this.elementRef.nativeElement.play(),this.updatePlaybackRate(this.playbackRate))},enumerable:!0,configurable:!0}),e.prototype.onPausedChange=function(e){this.pausedChange.emit(e),this.updatePlaybackRate(this.playbackRate)},e.prototype.onVolumeChange=function(){this.volume=this.elementRef.nativeElement.volume,this.volumeChange.emit(this.volume)},e.prototype.onCurrentTimeChange=function(){this.currentTimeChange.emit(this.currentTime)},e.prototype.changeDetectionTrigger=function(){},e.prototype.updatePlaybackRate=function(e){this.playbackRate=e,this.elementRef.nativeElement.playbackRate=this.playbackRate},e.ctorParameters=function(){return[{type:t.ElementRef,decorators:[{type:t.Inject,args:[t.ElementRef]}]}]},i([t.Input(),t.HostBinding("volume"),n.tuiDefaultProp(a)],e.prototype,"volume",void 0),i([t.Input("playbackRate"),n.tuiRequiredSetter(r)],e.prototype,"playbackRateSetter",null),i([t.Input(),n.tuiRequiredSetter(r)],e.prototype,"currentTime",null),i([t.Input()],e.prototype,"paused",null),i([t.Output()],e.prototype,"currentTimeChange",void 0),i([t.Output()],e.prototype,"pausedChange",void 0),i([t.Output()],e.prototype,"volumeChange",void 0),i([t.HostListener("ended",["true"]),t.HostListener("pause",["true"]),t.HostListener("play",["false"])],e.prototype,"onPausedChange",null),i([t.HostListener("volumechange")],e.prototype,"onVolumeChange",null),i([t.HostListener("timeupdate"),t.HostListener("seeking"),t.HostListener("seeked")],e.prototype,"onCurrentTimeChange",null),i([t.HostListener("durationchange")],e.prototype,"changeDetectionTrigger",null),e=i([t.Directive({selector:"video[tuiMedia], audio[tuiMedia]",exportAs:"tuiMedia"}),(o=0,u=t.Inject(t.ElementRef),function(e,t){u(e,t,o)})],e)}(),u=function(){function e(){}return e=i([t.NgModule({declarations:[o],exports:[o]})],e)}();e.TuiMediaDirective=o,e.TuiMediaModule=u,e.nonNegativeFiniteAssertion=r,e.volumeAssertion=a,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=taiga-ui-cdk-directives-media.umd.min.js.map