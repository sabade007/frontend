import { tuiIsFormFieldElement } from './is-form-field';
/**
 * @description:
 * cross browser way to get selected text
 *
 * History:
 * BUG - window.getSelection() fails when text selected in a form field
 * https://bugzilla.mozilla.org/show_bug.cgi?id=85686
 */
export function tuiGetSelectedText({ getSelection, document }) {
    var _a;
    return tuiIsFormFieldElement(document.activeElement)
        ? document.activeElement.value.slice(document.activeElement.selectionStart || 0, document.activeElement.selectionEnd || 0)
        : ((_a = getSelection()) === null || _a === void 0 ? void 0 : _a.toString()) || null;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZ2V0LXNlbGVjdGVkLXRleHQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AdGFpZ2EtdWkvY2RrL3V0aWxzL2RvbS8iLCJzb3VyY2VzIjpbImdldC1zZWxlY3RlZC10ZXh0LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBQyxxQkFBcUIsRUFBQyxNQUFNLGlCQUFpQixDQUFDO0FBRXREOzs7Ozs7O0dBT0c7QUFDSCxNQUFNLFVBQVUsa0JBQWtCLENBQUMsRUFBQyxZQUFZLEVBQUUsUUFBUSxFQUFTOztJQUMvRCxPQUFPLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUM7UUFDaEQsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FDOUIsUUFBUSxDQUFDLGFBQWEsQ0FBQyxjQUFjLElBQUksQ0FBQyxFQUMxQyxRQUFRLENBQUMsYUFBYSxDQUFDLFlBQVksSUFBSSxDQUFDLENBQzNDO1FBQ0gsQ0FBQyxDQUFDLE9BQUEsWUFBWSxFQUFFLDBDQUFFLFFBQVEsT0FBTSxJQUFJLENBQUM7QUFDN0MsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7dHVpSXNGb3JtRmllbGRFbGVtZW50fSBmcm9tICcuL2lzLWZvcm0tZmllbGQnO1xuXG4vKipcbiAqIEBkZXNjcmlwdGlvbjpcbiAqIGNyb3NzIGJyb3dzZXIgd2F5IHRvIGdldCBzZWxlY3RlZCB0ZXh0XG4gKlxuICogSGlzdG9yeTpcbiAqIEJVRyAtIHdpbmRvdy5nZXRTZWxlY3Rpb24oKSBmYWlscyB3aGVuIHRleHQgc2VsZWN0ZWQgaW4gYSBmb3JtIGZpZWxkXG4gKiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD04NTY4NlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHVpR2V0U2VsZWN0ZWRUZXh0KHtnZXRTZWxlY3Rpb24sIGRvY3VtZW50fTogV2luZG93KTogc3RyaW5nIHwgbnVsbCB7XG4gICAgcmV0dXJuIHR1aUlzRm9ybUZpZWxkRWxlbWVudChkb2N1bWVudC5hY3RpdmVFbGVtZW50KVxuICAgICAgICA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudmFsdWUuc2xpY2UoXG4gICAgICAgICAgICAgIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuc2VsZWN0aW9uU3RhcnQgfHwgMCxcbiAgICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5zZWxlY3Rpb25FbmQgfHwgMCxcbiAgICAgICAgICApXG4gICAgICAgIDogZ2V0U2VsZWN0aW9uKCk/LnRvU3RyaW5nKCkgfHwgbnVsbDtcbn1cbiJdfQ==