import { TuiOwnerDocumentException } from '@taiga-ui/cdk/exceptions';
import { filter, mapTo, startWith, switchMapTo, take } from 'rxjs/operators';
import { mouseDragFinishFrom } from './mouse-drag-finish-from';
import { typedFromEvent } from './typed-from-event';
/**
 * @deprecated: use {@link tuiPressedObservable} instead
 */
// eslint-disable-next-line @typescript-eslint/naming-convention
export function pressedObservable(element, { onlyTrusted } = { onlyTrusted: true }) {
    const { ownerDocument } = element;
    if (!ownerDocument) {
        throw new TuiOwnerDocumentException();
    }
    return typedFromEvent(element, `mousedown`).pipe(filter(({ isTrusted }) => isTrusted || !onlyTrusted), switchMapTo(mouseDragFinishFrom(ownerDocument).pipe(mapTo(false), take(1), startWith(true))));
}
export const tuiPressedObservable = pressedObservable;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJlc3NlZC1vYnNlcnZhYmxlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHRhaWdhLXVpL2Nkay9vYnNlcnZhYmxlcy8iLCJzb3VyY2VzIjpbInByZXNzZWQtb2JzZXJ2YWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUMseUJBQXlCLEVBQUMsTUFBTSwwQkFBMEIsQ0FBQztBQUVuRSxPQUFPLEVBQUMsTUFBTSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsV0FBVyxFQUFFLElBQUksRUFBQyxNQUFNLGdCQUFnQixDQUFDO0FBRTNFLE9BQU8sRUFBQyxtQkFBbUIsRUFBQyxNQUFNLDBCQUEwQixDQUFDO0FBQzdELE9BQU8sRUFBQyxjQUFjLEVBQUMsTUFBTSxvQkFBb0IsQ0FBQztBQU1sRDs7R0FFRztBQUNILGdFQUFnRTtBQUNoRSxNQUFNLFVBQVUsaUJBQWlCLENBQzdCLE9BQWdCLEVBQ2hCLEVBQUMsV0FBVyxLQUFpQyxFQUFDLFdBQVcsRUFBRSxJQUFJLEVBQUM7SUFFaEUsTUFBTSxFQUFDLGFBQWEsRUFBQyxHQUFHLE9BQU8sQ0FBQztJQUVoQyxJQUFJLENBQUMsYUFBYSxFQUFFO1FBQ2hCLE1BQU0sSUFBSSx5QkFBeUIsRUFBRSxDQUFDO0tBQ3pDO0lBRUQsT0FBTyxjQUFjLENBQUMsT0FBTyxFQUFFLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FDNUMsTUFBTSxDQUFDLENBQUMsRUFBQyxTQUFTLEVBQUMsRUFBRSxFQUFFLENBQUMsU0FBUyxJQUFJLENBQUMsV0FBVyxDQUFDLEVBQ2xELFdBQVcsQ0FDUCxtQkFBbUIsQ0FBQyxhQUFhLENBQUMsQ0FBQyxJQUFJLENBQ25DLEtBQUssQ0FBQyxLQUFLLENBQUMsRUFDWixJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQ1AsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUNsQixDQUNKLENBQ0osQ0FBQztBQUNOLENBQUM7QUFFRCxNQUFNLENBQUMsTUFBTSxvQkFBb0IsR0FBRyxpQkFBaUIsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7VHVpT3duZXJEb2N1bWVudEV4Y2VwdGlvbn0gZnJvbSAnQHRhaWdhLXVpL2Nkay9leGNlcHRpb25zJztcbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcyc7XG5pbXBvcnQge2ZpbHRlciwgbWFwVG8sIHN0YXJ0V2l0aCwgc3dpdGNoTWFwVG8sIHRha2V9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHttb3VzZURyYWdGaW5pc2hGcm9tfSBmcm9tICcuL21vdXNlLWRyYWctZmluaXNoLWZyb20nO1xuaW1wb3J0IHt0eXBlZEZyb21FdmVudH0gZnJvbSAnLi90eXBlZC1mcm9tLWV2ZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBUdWlQcmVzc2VkT2JzZXJ2YWJsZU9wdGlvbnMge1xuICAgIG9ubHlUcnVzdGVkOiBib29sZWFuO1xufVxuXG4vKipcbiAqIEBkZXByZWNhdGVkOiB1c2Uge0BsaW5rIHR1aVByZXNzZWRPYnNlcnZhYmxlfSBpbnN0ZWFkXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbmFtaW5nLWNvbnZlbnRpb25cbmV4cG9ydCBmdW5jdGlvbiBwcmVzc2VkT2JzZXJ2YWJsZShcbiAgICBlbGVtZW50OiBFbGVtZW50LFxuICAgIHtvbmx5VHJ1c3RlZH06IFR1aVByZXNzZWRPYnNlcnZhYmxlT3B0aW9ucyA9IHtvbmx5VHJ1c3RlZDogdHJ1ZX0sXG4pOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICBjb25zdCB7b3duZXJEb2N1bWVudH0gPSBlbGVtZW50O1xuXG4gICAgaWYgKCFvd25lckRvY3VtZW50KSB7XG4gICAgICAgIHRocm93IG5ldyBUdWlPd25lckRvY3VtZW50RXhjZXB0aW9uKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGVkRnJvbUV2ZW50KGVsZW1lbnQsIGBtb3VzZWRvd25gKS5waXBlKFxuICAgICAgICBmaWx0ZXIoKHtpc1RydXN0ZWR9KSA9PiBpc1RydXN0ZWQgfHwgIW9ubHlUcnVzdGVkKSxcbiAgICAgICAgc3dpdGNoTWFwVG8oXG4gICAgICAgICAgICBtb3VzZURyYWdGaW5pc2hGcm9tKG93bmVyRG9jdW1lbnQpLnBpcGUoXG4gICAgICAgICAgICAgICAgbWFwVG8oZmFsc2UpLFxuICAgICAgICAgICAgICAgIHRha2UoMSksXG4gICAgICAgICAgICAgICAgc3RhcnRXaXRoKHRydWUpLFxuICAgICAgICAgICAgKSxcbiAgICAgICAgKSxcbiAgICApO1xufVxuXG5leHBvcnQgY29uc3QgdHVpUHJlc3NlZE9ic2VydmFibGUgPSBwcmVzc2VkT2JzZXJ2YWJsZTtcbiJdfQ==