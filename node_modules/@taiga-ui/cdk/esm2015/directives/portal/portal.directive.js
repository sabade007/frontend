import { __decorate, __param } from "tslib";
import { Directive, EmbeddedViewRef, Inject, Input, OnDestroy, TemplateRef, } from '@angular/core';
import { TuiPortalService } from '@taiga-ui/cdk/components/portal-host';
let TuiPortalDirective = class TuiPortalDirective {
    constructor(templateRef, portalService) {
        this.templateRef = templateRef;
        this.portalService = portalService;
    }
    set tuiPortal(show) {
        var _a;
        (_a = this.viewRef) === null || _a === void 0 ? void 0 : _a.destroy();
        if (show) {
            this.viewRef = this.portalService.addTemplate(this.templateRef);
        }
    }
    ngOnDestroy() {
        var _a;
        (_a = this.viewRef) === null || _a === void 0 ? void 0 : _a.destroy();
    }
};
TuiPortalDirective.ctorParameters = () => [
    { type: TemplateRef, decorators: [{ type: Inject, args: [TemplateRef,] }] },
    { type: TuiPortalService, decorators: [{ type: Inject, args: [TuiPortalService,] }] }
];
__decorate([
    Input()
], TuiPortalDirective.prototype, "tuiPortal", null);
TuiPortalDirective = __decorate([
    Directive({
        selector: '[tuiPortal]',
    }),
    __param(0, Inject(TemplateRef)),
    __param(1, Inject(TuiPortalService))
], TuiPortalDirective);
export { TuiPortalDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicG9ydGFsLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiJuZzovL0B0YWlnYS11aS9jZGsvZGlyZWN0aXZlcy9wb3J0YWwvIiwic291cmNlcyI6WyJwb3J0YWwuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxPQUFPLEVBQ0gsU0FBUyxFQUNULGVBQWUsRUFDZixNQUFNLEVBQ04sS0FBSyxFQUNMLFNBQVMsRUFDVCxXQUFXLEdBQ2QsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFDLGdCQUFnQixFQUFDLE1BQU0sc0NBQXNDLENBQUM7QUFLdEUsSUFBYSxrQkFBa0IsR0FBL0IsTUFBYSxrQkFBa0I7SUFZM0IsWUFFcUIsV0FBaUQsRUFDdkIsYUFBK0I7UUFEekQsZ0JBQVcsR0FBWCxXQUFXLENBQXNDO1FBQ3ZCLGtCQUFhLEdBQWIsYUFBYSxDQUFrQjtJQUMzRSxDQUFDO0lBWkosSUFBSSxTQUFTLENBQUMsSUFBYTs7UUFDdkIsTUFBQSxJQUFJLENBQUMsT0FBTywwQ0FBRSxPQUFPLEdBQUc7UUFFeEIsSUFBSSxJQUFJLEVBQUU7WUFDTixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztTQUNuRTtJQUNMLENBQUM7SUFRRCxXQUFXOztRQUNQLE1BQUEsSUFBSSxDQUFDLE9BQU8sMENBQUUsT0FBTyxHQUFHO0lBQzVCLENBQUM7Q0FDSixDQUFBOztZQVBxQyxXQUFXLHVCQUR4QyxNQUFNLFNBQUMsV0FBVztZQUV1QyxnQkFBZ0IsdUJBQXpFLE1BQU0sU0FBQyxnQkFBZ0I7O0FBWDVCO0lBREMsS0FBSyxFQUFFO21EQU9QO0FBVlEsa0JBQWtCO0lBSDlCLFNBQVMsQ0FBQztRQUNQLFFBQVEsRUFBRSxhQUFhO0tBQzFCLENBQUM7SUFjTyxXQUFBLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQTtJQUVuQixXQUFBLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFBO0dBZnBCLGtCQUFrQixDQXFCOUI7U0FyQlksa0JBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgICBEaXJlY3RpdmUsXG4gICAgRW1iZWRkZWRWaWV3UmVmLFxuICAgIEluamVjdCxcbiAgICBJbnB1dCxcbiAgICBPbkRlc3Ryb3ksXG4gICAgVGVtcGxhdGVSZWYsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHtUdWlQb3J0YWxTZXJ2aWNlfSBmcm9tICdAdGFpZ2EtdWkvY2RrL2NvbXBvbmVudHMvcG9ydGFsLWhvc3QnO1xuXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ1t0dWlQb3J0YWxdJyxcbn0pXG5leHBvcnQgY2xhc3MgVHVpUG9ydGFsRGlyZWN0aXZlIGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgICBwcml2YXRlIHZpZXdSZWY/OiBFbWJlZGRlZFZpZXdSZWY8dW5rbm93bj47XG5cbiAgICBASW5wdXQoKVxuICAgIHNldCB0dWlQb3J0YWwoc2hvdzogYm9vbGVhbikge1xuICAgICAgICB0aGlzLnZpZXdSZWY/LmRlc3Ryb3koKTtcblxuICAgICAgICBpZiAoc2hvdykge1xuICAgICAgICAgICAgdGhpcy52aWV3UmVmID0gdGhpcy5wb3J0YWxTZXJ2aWNlLmFkZFRlbXBsYXRlKHRoaXMudGVtcGxhdGVSZWYpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIEBJbmplY3QoVGVtcGxhdGVSZWYpXG4gICAgICAgIHByaXZhdGUgcmVhZG9ubHkgdGVtcGxhdGVSZWY6IFRlbXBsYXRlUmVmPFJlY29yZDxzdHJpbmcsIHVua25vd24+PixcbiAgICAgICAgQEluamVjdChUdWlQb3J0YWxTZXJ2aWNlKSBwcml2YXRlIHJlYWRvbmx5IHBvcnRhbFNlcnZpY2U6IFR1aVBvcnRhbFNlcnZpY2UsXG4gICAgKSB7fVxuXG4gICAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMudmlld1JlZj8uZGVzdHJveSgpO1xuICAgIH1cbn1cbiJdfQ==